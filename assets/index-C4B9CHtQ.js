(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var zm={exports:{}},uu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function k1(){if(kE)return uu;kE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return uu.Fragment=e,uu.jsx=n,uu.jsxs=n,uu}var jE;function j1(){return jE||(jE=1,zm.exports=k1()),zm.exports}var _=j1(),Bm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function L1(){if(LE)return Ie;LE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),R=Symbol.iterator;function O(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,L={};function U(V,J,oe){this.props=V,this.context=J,this.refs=L,this.updater=oe||H}U.prototype.isReactComponent={},U.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},U.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=U.prototype;function re(V,J,oe){this.props=V,this.context=J,this.refs=L,this.updater=oe||H}var se=re.prototype=new W;se.constructor=re,B(se,U.prototype),se.isPureReactComponent=!0;var fe=Array.isArray;function ge(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(V,J,oe){var le=oe.ref;return{$$typeof:r,type:V,key:J,ref:le!==void 0?le:null,props:oe}}function M(V,J){return I(V.type,J,V.props)}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(oe){return J[oe]})}var C=/\/+/g;function pe(V,J){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):J.toString(36)}function Pe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ge,ge):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,J,oe,le,Te){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Ve=!1;if(V===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(V.$$typeof){case r:case e:Ve=!0;break;case T:return Ve=V._init,Y(Ve(V._payload),J,oe,le,Te)}}if(Ve)return Te=Te(V),Ve=le===""?"."+pe(V,0):le,fe(Te)?(oe="",Ve!=null&&(oe=Ve.replace(C,"$&/")+"/"),Y(Te,J,oe,"",function(hr){return hr})):Te!=null&&(x(Te)&&(Te=M(Te,oe+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+Ve)),J.push(Te)),1;Ve=0;var ut=le===""?".":le+":";if(fe(V))for(var Ge=0;Ge<V.length;Ge++)le=V[Ge],Ae=ut+pe(le,Ge),Ve+=Y(le,J,oe,Ae,Te);else if(Ge=O(V),typeof Ge=="function")for(V=Ge.call(V),Ge=0;!(le=V.next()).done;)le=le.value,Ae=ut+pe(le,Ge++),Ve+=Y(le,J,oe,Ae,Te);else if(Ae==="object"){if(typeof V.then=="function")return Y(Pe(V),J,oe,le,Te);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ie(V,J,oe){if(V==null)return V;var le=[],Te=0;return Y(V,le,"","",function(Ae){return J.call(oe,Ae,Te++)}),le}function ue(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(oe){(V._status===0||V._status===-1)&&(V._status=1,V._result=oe)},function(oe){(V._status===0||V._status===-1)&&(V._status=2,V._result=oe)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var Ce=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},we={map:ie,forEach:function(V,J,oe){ie(V,function(){J.apply(this,arguments)},oe)},count:function(V){var J=0;return ie(V,function(){J++}),J},toArray:function(V){return ie(V,function(J){return J})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ie.Activity=b,Ie.Children=we,Ie.Component=U,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=re,Ie.StrictMode=a,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Ie.cache=function(V){return function(){return V.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(V,J,oe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=B({},V.props),Te=V.key;if(J!=null)for(Ae in J.key!==void 0&&(Te=""+J.key),J)!A.call(J,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&J.ref===void 0||(le[Ae]=J[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=oe;else if(1<Ae){for(var Ve=Array(Ae),ut=0;ut<Ae;ut++)Ve[ut]=arguments[ut+2];le.children=Ve}return I(V.type,Te,le)},Ie.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ie.createElement=function(V,J,oe){var le,Te={},Ae=null;if(J!=null)for(le in J.key!==void 0&&(Ae=""+J.key),J)A.call(J,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=J[le]);var Ve=arguments.length-2;if(Ve===1)Te.children=oe;else if(1<Ve){for(var ut=Array(Ve),Ge=0;Ge<Ve;Ge++)ut[Ge]=arguments[Ge+2];Te.children=ut}if(V&&V.defaultProps)for(le in Ve=V.defaultProps,Ve)Te[le]===void 0&&(Te[le]=Ve[le]);return I(V,Ae,Te)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(V){return{$$typeof:m,render:V}},Ie.isValidElement=x,Ie.lazy=function(V){return{$$typeof:T,_payload:{_status:-1,_result:V},_init:ue}},Ie.memo=function(V,J){return{$$typeof:g,type:V,compare:J===void 0?null:J}},Ie.startTransition=function(V){var J=D.T,oe={};D.T=oe;try{var le=V(),Te=D.S;Te!==null&&Te(oe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ge,Ce)}catch(Ae){Ce(Ae)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),D.T=J}},Ie.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ie.use=function(V){return D.H.use(V)},Ie.useActionState=function(V,J,oe){return D.H.useActionState(V,J,oe)},Ie.useCallback=function(V,J){return D.H.useCallback(V,J)},Ie.useContext=function(V){return D.H.useContext(V)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(V,J){return D.H.useDeferredValue(V,J)},Ie.useEffect=function(V,J){return D.H.useEffect(V,J)},Ie.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Ie.useId=function(){return D.H.useId()},Ie.useImperativeHandle=function(V,J,oe){return D.H.useImperativeHandle(V,J,oe)},Ie.useInsertionEffect=function(V,J){return D.H.useInsertionEffect(V,J)},Ie.useLayoutEffect=function(V,J){return D.H.useLayoutEffect(V,J)},Ie.useMemo=function(V,J){return D.H.useMemo(V,J)},Ie.useOptimistic=function(V,J){return D.H.useOptimistic(V,J)},Ie.useReducer=function(V,J,oe){return D.H.useReducer(V,J,oe)},Ie.useRef=function(V){return D.H.useRef(V)},Ie.useState=function(V){return D.H.useState(V)},Ie.useSyncExternalStore=function(V,J,oe){return D.H.useSyncExternalStore(V,J,oe)},Ie.useTransition=function(){return D.H.useTransition()},Ie.version="19.2.0",Ie}var UE;function ip(){return UE||(UE=1,Bm.exports=L1()),Bm.exports}var z=ip(),qm={exports:{}},cu={},Hm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function U1(){return zE||(zE=1,(function(r){function e(Y,ie){var ue=Y.length;Y.push(ie);e:for(;0<ue;){var Ce=ue-1>>>1,we=Y[Ce];if(0<o(we,ie))Y[Ce]=ie,Y[ue]=we,ue=Ce;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var ie=Y[0],ue=Y.pop();if(ue!==ie){Y[0]=ue;e:for(var Ce=0,we=Y.length,V=we>>>1;Ce<V;){var J=2*(Ce+1)-1,oe=Y[J],le=J+1,Te=Y[le];if(0>o(oe,ue))le<we&&0>o(Te,oe)?(Y[Ce]=Te,Y[le]=ue,Ce=le):(Y[Ce]=oe,Y[J]=ue,Ce=J);else if(le<we&&0>o(Te,ue))Y[Ce]=Te,Y[le]=ue,Ce=le;else break e}}return ie}function o(Y,ie){var ue=Y.sortIndex-ie.sortIndex;return ue!==0?ue:Y.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,b=null,R=3,O=!1,H=!1,B=!1,L=!1,U=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function se(Y){for(var ie=n(g);ie!==null;){if(ie.callback===null)a(g);else if(ie.startTime<=Y)a(g),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(g)}}function fe(Y){if(B=!1,se(Y),!H)if(n(p)!==null)H=!0,ge||(ge=!0,k());else{var ie=n(g);ie!==null&&Pe(fe,ie.startTime-Y)}}var ge=!1,D=-1,A=5,I=-1;function M(){return L?!0:!(r.unstable_now()-I<A)}function x(){if(L=!1,ge){var Y=r.unstable_now();I=Y;var ie=!0;try{e:{H=!1,B&&(B=!1,W(D),D=-1),O=!0;var ue=R;try{t:{for(se(Y),b=n(p);b!==null&&!(b.expirationTime>Y&&M());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,R=b.priorityLevel;var we=Ce(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof we=="function"){b.callback=we,se(Y),ie=!0;break t}b===n(p)&&a(p),se(Y)}else a(p);b=n(p)}if(b!==null)ie=!0;else{var V=n(g);V!==null&&Pe(fe,V.startTime-Y),ie=!1}}break e}finally{b=null,R=ue,O=!1}ie=void 0}}finally{ie?k():ge=!1}}}var k;if(typeof re=="function")k=function(){re(x)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,pe=C.port2;C.port1.onmessage=x,k=function(){pe.postMessage(null)}}else k=function(){U(x,0)};function Pe(Y,ie){D=U(function(){Y(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Y){switch(R){case 1:case 2:case 3:var ie=3;break;default:ie=R}var ue=R;R=ie;try{return Y()}finally{R=ue}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ue=R;R=Y;try{return ie()}finally{R=ue}},r.unstable_scheduleCallback=function(Y,ie,ue){var Ce=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ce+ue:Ce):ue=Ce,Y){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ue+we,Y={id:T++,callback:ie,priorityLevel:Y,startTime:ue,expirationTime:we,sortIndex:-1},ue>Ce?(Y.sortIndex=ue,e(g,Y),n(p)===null&&Y===n(g)&&(B?(W(D),D=-1):B=!0,Pe(fe,ue-Ce))):(Y.sortIndex=we,e(p,Y),H||O||(H=!0,ge||(ge=!0,k()))),Y},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Y){var ie=R;return function(){var ue=R;R=ie;try{return Y.apply(this,arguments)}finally{R=ue}}}})(Fm)),Fm}var BE;function z1(){return BE||(BE=1,Hm.exports=U1()),Hm.exports}var Gm={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function B1(){if(qE)return dn;qE=1;var r=ip();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},dn.flushSync=function(p){var g=h.T,T=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=T,a.d.f()}},dn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},dn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},dn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:O}):T==="script"&&a.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},dn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);a.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},dn.requestFormReset=function(p){a.d.r(p)},dn.unstable_batchedUpdates=function(p,g){return p(g)},dn.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var HE;function q1(){if(HE)return Gm.exports;HE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=B1(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FE;function H1(){if(FE)return cu;FE=1;var r=z1(),e=ip(),n=q1();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var v=!1,S=f.child;S;){if(S===s){v=!0,s=f,l=d;break}if(S===l){v=!0,l=f,s=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===s){v=!0,s=d,l=f;break}if(S===l){v=!0,l=d,s=f;break}S=S.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),re=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case U:return"Profiler";case L:return"StrictMode";case fe:return"Suspense";case ge:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case re:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:pe(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return pe(t(i))}catch{}}return null}var Pe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ce=[],we=-1;function V(t){return{current:t}}function J(t){0>we||(t.current=Ce[we],Ce[we]=null,we--)}function oe(t,i){we++,Ce[we]=t.current,t.current=i}var le=V(null),Te=V(null),Ae=V(null),Ve=V(null);function ut(t,i){switch(oe(Ae,i),oe(Te,t),oe(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?aE(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=aE(i),t=sE(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(le),oe(le,t)}function Ge(){J(le),J(Te),J(Ae)}function hr(t){t.memoizedState!==null&&oe(Ve,t);var i=le.current,s=sE(i,t.type);i!==s&&(oe(Te,t),oe(le,s))}function Ir(t){Te.current===t&&(J(le),J(Te)),Ve.current===t&&(J(Ve),au._currentValue=ue)}var fr,Dr;function Xe(t){if(fr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);fr=i&&i[1]||"",Dr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fr+t+Dr}var dr=!1;function Vt(t,i){if(!t||dr)return"";dr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var Q=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){Q=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){Q=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&Q&&typeof $.stack=="string")return[$.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var N=v.split(`
`),G=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===G.length)for(l=N.length-1,f=G.length-1;1<=l&&0<=f&&N[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==G[f]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{dr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Xe(s):""}function Nr(t,i){switch(t.tag){case 26:case 27:case 5:return Xe(t.type);case 16:return Xe("Lazy");case 13:return t.child!==i&&i!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Vt(t.type,!1);case 11:return Vt(t.type.render,!1);case 1:return Vt(t.type,!0);case 31:return Xe("Activity");default:return""}}function Gi(t){try{var i="",s=null;do i+=Nr(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Dt=r.unstable_scheduleCallback,xr=r.unstable_cancelCallback,hl=r.unstable_shouldYield,Ka=r.unstable_requestPaint,Jt=r.unstable_now,ui=r.unstable_getCurrentPriorityLevel,$a=r.unstable_ImmediatePriority,Xa=r.unstable_UserBlockingPriority,Or=r.unstable_NormalPriority,Wa=r.unstable_LowPriority,Ja=r.unstable_IdlePriority,Za=r.log,Ys=r.unstable_setDisableYieldValue,cn=null,Pt=null;function Sn(t){if(typeof Za=="function"&&Ys(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(cn,t)}catch{}}var pt=Math.clz32?Math.clz32:Qs,es=Math.log,Mr=Math.LN2;function Qs(t){return t>>>=0,t===0?32:31-(es(t)/Mr|0)|0}var Vn=256,ci=262144,Tt=4194304;function ct(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ht(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=ct(l):(v&=S,v!==0?f=ct(v):s||(s=S&~t,s!==0&&(f=ct(s))))):(S=l&~d,S!==0?f=ct(S):v!==0?f=ct(v):s||(s=l&~t,s!==0&&(f=ct(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function at(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _n(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function Kn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function mr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ks(t,i,s,l,f,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,G=t.hiddenUpdates;for(s=v&~s;0<s;){var X=31-pt(s),ee=1<<X;S[X]=0,N[X]=-1;var Q=G[X];if(Q!==null)for(G[X]=null,X=0;X<Q.length;X++){var $=Q[X];$!==null&&($.lane&=-536870913)}s&=~ee}l!==0&&Vr(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Vr(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function hi(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-pt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function Pr(t,i){var s=i&-i;return s=(s&42)!==0?1:gr(s),(s&(t.suspendedLanes|i))!==0?0:s}function gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Yi(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:DE(t.type))}function kn(t,i){var s=ie.p;try{return ie.p=t,i()}finally{ie.p=s}}var En=Math.random().toString(36).slice(2),bt="__reactFiber$"+En,kt="__reactProps$"+En,$n="__reactContainer$"+En,Ne="__reactEvents$"+En,ot="__reactListeners$"+En,ft="__reactHandles$"+En,fn="__reactResources$"+En,At="__reactMarker$"+En;function kr(t){delete t[bt],delete t[kt],delete t[Ne],delete t[ot],delete t[ft]}function Xn(t){var i=t[bt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[$n]||s[bt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=dE(t);t!==null;){if(s=t[bt])return s;t=dE(t)}return i}t=s,s=t.parentNode}return null}function wn(t){if(t=t[bt]||t[$n]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function jn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function jr(t){var i=t[fn];return i||(i=t[fn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function jt(t){t[At]=!0}var fl=new Set,dl={};function Lr(t,i){Ur(t,i),Ur(t+"Capture",i)}function Ur(t,i){for(dl[t]=i,t=0;t<i.length;t++)fl.add(i[t])}var ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},pl={};function nc(t){return Et.call(pl,t)?!0:Et.call(gl,t)?!1:ml.test(t)?pl[t]=!0:(gl[t]=!0,!1)}function $s(t,i,s){if(nc(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Ln(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Lt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function $t(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function yl(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Je(t){if(!t._valueTracker){var i=Qi(t)?"checked":"value";t._valueTracker=yl(t,i,""+t[i])}}function ts(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Qi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function zr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ns=/[\n"\\]/g;function An(t){return t.replace(ns,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Xs(t,i,s,l,f,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+$t(i)):t.value!==""+$t(i)&&(t.value=""+$t(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?vl(t,v,$t(i)):s!=null?vl(t,v,$t(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+$t(S):t.removeAttribute("name")}function rc(t,i,s,l,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Je(t);return}s=s!=null?""+$t(s):"",i=i!=null?""+$t(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Je(t)}function vl(t,i,s){i==="number"&&zr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ki(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+$t(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ic(t,i,s){if(i!=null&&(i=""+$t(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+$t(s):""}function $i(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Pe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=$t(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Je(t)}function Rn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||ac.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function El(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&_l(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&_l(t,d,i[d])}function Ws(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(t){return Xi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pr(){}var Tl=null;function Wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wi=null,Br=null;function rs(t){var i=wn(t);if(i&&(t=i.stateNode)){var s=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Xs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+An(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[kt]||null;if(!f)throw Error(a(90));Xs(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&ts(l)}break e;case"textarea":ic(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ki(t,!!s.multiple,i,!1)}}}var Zs=!1;function Ji(t,i,s){if(Zs)return t(i,s);Zs=!0;try{var l=t(i);return l}finally{if(Zs=!1,(Wi!==null||Br!==null)&&(Zc(),Wi&&(i=Wi,t=Br,Br=Wi=null,rs(i),t)))for(i=0;i<t.length;i++)rs(t[i])}}function yr(t,i){var s=t.stateNode;if(s===null)return null;var l=s[kt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=!1;if(Jn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){is=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{is=!1}var qr=null,bl=null,as=null;function Sl(){if(as)return as;var t,i=bl,s=i.length,l,f="value"in qr?qr.value:qr.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===f[d-l];l++);return as=f.slice(t,1<l?1-l:void 0)}function ss(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function fi(){return!0}function vr(){return!1}function Zt(t){function i(s,l,f,d,v){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?fi:vr,this.isPropagationStopped=vr,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fi)},persist:function(){},isPersistent:fi}),i}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hr=Zt(di),Zi=b({},di,{view:0,detail:0}),wl=Zt(Zi),ea,eo,Fr,to=b({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fr&&(Fr&&t.type==="mousemove"?(ea=t.screenX-Fr.screenX,eo=t.screenY-Fr.screenY):eo=ea=0,Fr=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:eo}}),Al=Zt(to),os=b({},to,{dataTransfer:0}),oc=Zt(os),lc=b({},Zi,{relatedTarget:0}),ls=Zt(lc),Rl=b({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=Zt(Rl),no=b({},di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cc=Zt(no),hc=b({},di,{data:0}),Gr=Zt(hc),fc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=mc[t])?!!i[t]:!1}function ta(){return gc}var Tn=b({},Zi,{key:function(t){if(t.key){var i=fc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pc=Zt(Tn),yc=b({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mi=Zt(yc),c=b({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),y=Zt(c),E=b({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Zt(E),q=b({},to,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Zt(q),ae=b({},di,{newState:0,oldState:0}),xe=Zt(ae),Nt=[9,13,27,32],Ke=Jn&&"CompositionEvent"in window,yt=null;Jn&&"documentMode"in document&&(yt=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!yt,Yr=Jn&&(!Ke||yt&&8<yt&&11>=yt),_r=" ",Er=!1;function us(t,i){switch(t){case"keyup":return Nt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function sA(t,i){switch(t){case"compositionend":return ro(i);case"keypress":return i.which!==32?null:(Er=!0,_r);case"textInput":return t=i.data,t===_r&&Er?null:t;default:return null}}function oA(t,i){if(io)return t==="compositionend"||!Ke&&us(t,i)?(t=Sl(),as=bl=qr=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yr&&i.locale!=="ko"?null:i.data;default:return null}}var lA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function py(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!lA[t.type]:i==="textarea"}function yy(t,i,s,l){Wi?Br?Br.push(l):Br=[l]:Wi=l,i=sh(i,"onChange"),0<i.length&&(s=new Hr("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Cl=null,Il=null;function uA(t){Z_(t,0)}function vc(t){var i=jn(t);if(ts(i))return t}function vy(t,i){if(t==="change")return i}var _y=!1;if(Jn){var Qf;if(Jn){var Kf="oninput"in document;if(!Kf){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),Kf=typeof Ey.oninput=="function"}Qf=Kf}else Qf=!1;_y=Qf&&(!document.documentMode||9<document.documentMode)}function Ty(){Cl&&(Cl.detachEvent("onpropertychange",by),Il=Cl=null)}function by(t){if(t.propertyName==="value"&&vc(Il)){var i=[];yy(i,Il,t,Wn(t)),Ji(uA,i)}}function cA(t,i,s){t==="focusin"?(Ty(),Cl=i,Il=s,Cl.attachEvent("onpropertychange",by)):t==="focusout"&&Ty()}function hA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vc(Il)}function fA(t,i){if(t==="click")return vc(i)}function dA(t,i){if(t==="input"||t==="change")return vc(i)}function mA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Un=typeof Object.is=="function"?Object.is:mA;function Dl(t,i){if(Un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Et.call(i,f)||!Un(t[f],i[f]))return!1}return!0}function Sy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wy(t,i){var s=Sy(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Sy(s)}}function Ay(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ay(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ry(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=zr(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=zr(t.document)}return i}function $f(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var gA=Jn&&"documentMode"in document&&11>=document.documentMode,ao=null,Xf=null,Nl=null,Wf=!1;function Cy(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Wf||ao==null||ao!==zr(l)||(l=ao,"selectionStart"in l&&$f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Nl&&Dl(Nl,l)||(Nl=l,l=sh(Xf,"onSelect"),0<l.length&&(i=new Hr("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=ao)))}function cs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var so={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Jf={},Iy={};Jn&&(Iy=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function hs(t){if(Jf[t])return Jf[t];if(!so[t])return t;var i=so[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Iy)return Jf[t]=i[s];return t}var Dy=hs("animationend"),Ny=hs("animationiteration"),xy=hs("animationstart"),pA=hs("transitionrun"),yA=hs("transitionstart"),vA=hs("transitioncancel"),Oy=hs("transitionend"),My=new Map,Zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zf.push("scrollEnd");function Tr(t,i){My.set(t,i),Lr(i,[t])}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},er=[],oo=0,ed=0;function Ec(){for(var t=oo,i=ed=oo=0;i<t;){var s=er[i];er[i++]=null;var l=er[i];er[i++]=null;var f=er[i];er[i++]=null;var d=er[i];if(er[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Vy(s,f,d)}}function Tc(t,i,s,l){er[oo++]=t,er[oo++]=i,er[oo++]=s,er[oo++]=l,ed|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function td(t,i,s,l){return Tc(t,i,s,l),bc(t)}function fs(t,i){return Tc(t,null,null,i),bc(t)}function Vy(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-pt(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function bc(t){if(50<Jl)throw Jl=0,cm=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var lo={};function _A(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,i,s,l){return new _A(t,i,s,l)}function nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,i){var s=t.alternate;return s===null?(s=zn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Py(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Sc(t,i,s,l,f,d){var v=0;if(l=t,typeof t=="function")nd(t)&&(v=1);else if(typeof t=="string")v=w1(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=zn(31,s,i,f),t.elementType=I,t.lanes=d,t;case B:return ds(s.children,f,d,i);case L:v=8,f|=24;break;case U:return t=zn(12,s,i,f|2),t.elementType=U,t.lanes=d,t;case fe:return t=zn(13,s,i,f),t.elementType=fe,t.lanes=d,t;case ge:return t=zn(19,s,i,f),t.elementType=ge,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case W:v=9;break e;case se:v=11;break e;case D:v=14;break e;case A:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=zn(v,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function ds(t,i,s,l){return t=zn(7,t,l,i),t.lanes=s,t}function rd(t,i,s){return t=zn(6,t,null,i),t.lanes=s,t}function ky(t){var i=zn(18,null,null,0);return i.stateNode=t,i}function id(t,i,s){return i=zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var jy=new WeakMap;function tr(t,i){if(typeof t=="object"&&t!==null){var s=jy.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Gi(i)},jy.set(t,i),i)}return{value:t,source:i,stack:Gi(i)}}var uo=[],co=0,wc=null,xl=0,nr=[],rr=0,na=null,Qr=1,Kr="";function pi(t,i){uo[co++]=xl,uo[co++]=wc,wc=t,xl=i}function Ly(t,i,s){nr[rr++]=Qr,nr[rr++]=Kr,nr[rr++]=na,na=t;var l=Qr;t=Kr;var f=32-pt(l)-1;l&=~(1<<f),s+=1;var d=32-pt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Qr=1<<32-pt(i)+f|s<<f|l,Kr=d+t}else Qr=1<<d|s<<f|l,Kr=t}function ad(t){t.return!==null&&(pi(t,1),Ly(t,1,0))}function sd(t){for(;t===wc;)wc=uo[--co],uo[co]=null,xl=uo[--co],uo[co]=null;for(;t===na;)na=nr[--rr],nr[rr]=null,Kr=nr[--rr],nr[rr]=null,Qr=nr[--rr],nr[rr]=null}function Uy(t,i){nr[rr++]=Qr,nr[rr++]=Kr,nr[rr++]=na,Qr=i.id,Kr=i.overflow,na=t}var en=null,dt=null,He=!1,ra=null,ir=!1,od=Error(a(519));function ia(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(tr(i,t)),od}function zy(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[bt]=t,i[kt]=l,s){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(s=0;s<eu.length;s++)je(eu[s],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),rc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),$i(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||rE(i.textContent,s)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=pr),i=!0):i=!1,i||ia(t,!0)}function By(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:en=en.return}}function ho(t){if(t!==en)return!1;if(!He)return By(t),He=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Am(t.type,t.memoizedProps)),s=!s),s&&dt&&ia(t),By(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=fE(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=fE(t)}else i===27?(i=dt,va(t.type)?(t=Nm,Nm=null,dt=t):dt=i):dt=en?sr(t.stateNode.nextSibling):null;return!0}function ms(){dt=en=null,He=!1}function ld(){var t=ra;return t!==null&&(Nn===null?Nn=t:Nn.push.apply(Nn,t),ra=null),t}function Ol(t){ra===null?ra=[t]:ra.push(t)}var ud=V(null),gs=null,yi=null;function aa(t,i,s){oe(ud,i._currentValue),i._currentValue=s}function vi(t){t._currentValue=ud.current,J(ud)}function cd(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function hd(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=s,S=d.alternate,S!==null&&(S.lanes|=s),cd(d.return,s,t),l||(v=null);break e}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),cd(v,s,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function fo(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var S=f.type;Un(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===Ve.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(au):t=[au])}f=f.return}t!==null&&hd(i,t,s,l),i.flags|=262144}function Ac(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ps(t){gs=t,yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return qy(gs,t)}function Rc(t,i){return gs===null&&ps(t),qy(t,i)}function qy(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},yi===null){if(t===null)throw Error(a(308));yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else yi=yi.next=i;return s}var EA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},TA=r.unstable_scheduleCallback,bA=r.unstable_NormalPriority,Ut={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fd(){return{controller:new EA,data:new Map,refCount:0}}function Ml(t){t.refCount--,t.refCount===0&&TA(bA,function(){t.controller.abort()})}var Vl=null,dd=0,mo=0,go=null;function SA(t,i){if(Vl===null){var s=Vl=[];dd=0,mo=pm(),go={status:"pending",value:void 0,then:function(l){s.push(l)}}}return dd++,i.then(Hy,Hy),i}function Hy(){if(--dd===0&&Vl!==null){go!==null&&(go.status="fulfilled");var t=Vl;Vl=null,mo=0,go=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function wA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Fy=Y.S;Y.S=function(t,i){C_=Jt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&SA(t,i),Fy!==null&&Fy(t,i)};var ys=V(null);function md(){var t=ys.current;return t!==null?t:st.pooledCache}function Cc(t,i){i===null?oe(ys,ys.current):oe(ys,i.pool)}function Gy(){var t=md();return t===null?null:{parent:Ut._currentValue,pool:t}}var po=Error(a(460)),gd=Error(a(474)),Ic=Error(a(542)),Dc={then:function(){}};function Yy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Qy(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(pr,pr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$y(t),t;default:if(typeof i.status=="string")i.then(pr,pr);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$y(t),t}throw _s=i,po}}function vs(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(_s=s,po):s}}var _s=null;function Ky(){if(_s===null)throw Error(a(459));var t=_s;return _s=null,t}function $y(t){if(t===po||t===Ic)throw Error(a(483))}var yo=null,Pl=0;function Nc(t){var i=Pl;return Pl+=1,yo===null&&(yo=[]),Qy(yo,t,i)}function kl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function xc(t,i){throw i.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Xy(t){function i(j,P){if(t){var F=j.deletions;F===null?(j.deletions=[P],j.flags|=16):F.push(P)}}function s(j,P){if(!t)return null;for(;P!==null;)i(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=gi(j,P),j.index=0,j.sibling=null,j}function d(j,P,F){return j.index=F,t?(F=j.alternate,F!==null?(F=F.index,F<P?(j.flags|=67108866,P):F):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,P,F,Z){return P===null||P.tag!==6?(P=rd(F,j.mode,Z),P.return=j,P):(P=f(P,F),P.return=j,P)}function N(j,P,F,Z){var ye=F.type;return ye===B?X(j,P,F.props.children,Z,F.key):P!==null&&(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&vs(ye)===P.type)?(P=f(P,F.props),kl(P,F),P.return=j,P):(P=Sc(F.type,F.key,F.props,null,j.mode,Z),kl(P,F),P.return=j,P)}function G(j,P,F,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=id(F,j.mode,Z),P.return=j,P):(P=f(P,F.children||[]),P.return=j,P)}function X(j,P,F,Z,ye){return P===null||P.tag!==7?(P=ds(F,j.mode,Z,ye),P.return=j,P):(P=f(P,F),P.return=j,P)}function ee(j,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=rd(""+P,j.mode,F),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case O:return F=Sc(P.type,P.key,P.props,null,j.mode,F),kl(F,P),F.return=j,F;case H:return P=id(P,j.mode,F),P.return=j,P;case A:return P=vs(P),ee(j,P,F)}if(Pe(P)||k(P))return P=ds(P,j.mode,F,null),P.return=j,P;if(typeof P.then=="function")return ee(j,Nc(P),F);if(P.$$typeof===re)return ee(j,Rc(j,P),F);xc(j,P)}return null}function Q(j,P,F,Z){var ye=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ye!==null?null:S(j,P,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return F.key===ye?N(j,P,F,Z):null;case H:return F.key===ye?G(j,P,F,Z):null;case A:return F=vs(F),Q(j,P,F,Z)}if(Pe(F)||k(F))return ye!==null?null:X(j,P,F,Z,null);if(typeof F.then=="function")return Q(j,P,Nc(F),Z);if(F.$$typeof===re)return Q(j,P,Rc(j,F),Z);xc(j,F)}return null}function $(j,P,F,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(F)||null,S(P,j,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return j=j.get(Z.key===null?F:Z.key)||null,N(P,j,Z,ye);case H:return j=j.get(Z.key===null?F:Z.key)||null,G(P,j,Z,ye);case A:return Z=vs(Z),$(j,P,F,Z,ye)}if(Pe(Z)||k(Z))return j=j.get(F)||null,X(P,j,Z,ye,null);if(typeof Z.then=="function")return $(j,P,F,Nc(Z),ye);if(Z.$$typeof===re)return $(j,P,F,Rc(P,Z),ye);xc(P,Z)}return null}function de(j,P,F,Z){for(var ye=null,Ye=null,me=P,Me=P=0,Ue=null;me!==null&&Me<F.length;Me++){me.index>Me?(Ue=me,me=null):Ue=me.sibling;var Qe=Q(j,me,F[Me],Z);if(Qe===null){me===null&&(me=Ue);break}t&&me&&Qe.alternate===null&&i(j,me),P=d(Qe,P,Me),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe,me=Ue}if(Me===F.length)return s(j,me),He&&pi(j,Me),ye;if(me===null){for(;Me<F.length;Me++)me=ee(j,F[Me],Z),me!==null&&(P=d(me,P,Me),Ye===null?ye=me:Ye.sibling=me,Ye=me);return He&&pi(j,Me),ye}for(me=l(me);Me<F.length;Me++)Ue=$(me,j,Me,F[Me],Z),Ue!==null&&(t&&Ue.alternate!==null&&me.delete(Ue.key===null?Me:Ue.key),P=d(Ue,P,Me),Ye===null?ye=Ue:Ye.sibling=Ue,Ye=Ue);return t&&me.forEach(function(Sa){return i(j,Sa)}),He&&pi(j,Me),ye}function _e(j,P,F,Z){if(F==null)throw Error(a(151));for(var ye=null,Ye=null,me=P,Me=P=0,Ue=null,Qe=F.next();me!==null&&!Qe.done;Me++,Qe=F.next()){me.index>Me?(Ue=me,me=null):Ue=me.sibling;var Sa=Q(j,me,Qe.value,Z);if(Sa===null){me===null&&(me=Ue);break}t&&me&&Sa.alternate===null&&i(j,me),P=d(Sa,P,Me),Ye===null?ye=Sa:Ye.sibling=Sa,Ye=Sa,me=Ue}if(Qe.done)return s(j,me),He&&pi(j,Me),ye;if(me===null){for(;!Qe.done;Me++,Qe=F.next())Qe=ee(j,Qe.value,Z),Qe!==null&&(P=d(Qe,P,Me),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe);return He&&pi(j,Me),ye}for(me=l(me);!Qe.done;Me++,Qe=F.next())Qe=$(me,j,Me,Qe.value,Z),Qe!==null&&(t&&Qe.alternate!==null&&me.delete(Qe.key===null?Me:Qe.key),P=d(Qe,P,Me),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe);return t&&me.forEach(function(P1){return i(j,P1)}),He&&pi(j,Me),ye}function it(j,P,F,Z){if(typeof F=="object"&&F!==null&&F.type===B&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case O:e:{for(var ye=F.key;P!==null;){if(P.key===ye){if(ye=F.type,ye===B){if(P.tag===7){s(j,P.sibling),Z=f(P,F.props.children),Z.return=j,j=Z;break e}}else if(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&vs(ye)===P.type){s(j,P.sibling),Z=f(P,F.props),kl(Z,F),Z.return=j,j=Z;break e}s(j,P);break}else i(j,P);P=P.sibling}F.type===B?(Z=ds(F.props.children,j.mode,Z,F.key),Z.return=j,j=Z):(Z=Sc(F.type,F.key,F.props,null,j.mode,Z),kl(Z,F),Z.return=j,j=Z)}return v(j);case H:e:{for(ye=F.key;P!==null;){if(P.key===ye)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){s(j,P.sibling),Z=f(P,F.children||[]),Z.return=j,j=Z;break e}else{s(j,P);break}else i(j,P);P=P.sibling}Z=id(F,j.mode,Z),Z.return=j,j=Z}return v(j);case A:return F=vs(F),it(j,P,F,Z)}if(Pe(F))return de(j,P,F,Z);if(k(F)){if(ye=k(F),typeof ye!="function")throw Error(a(150));return F=ye.call(F),_e(j,P,F,Z)}if(typeof F.then=="function")return it(j,P,Nc(F),Z);if(F.$$typeof===re)return it(j,P,Rc(j,F),Z);xc(j,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(s(j,P.sibling),Z=f(P,F),Z.return=j,j=Z):(s(j,P),Z=rd(F,j.mode,Z),Z.return=j,j=Z),v(j)):s(j,P)}return function(j,P,F,Z){try{Pl=0;var ye=it(j,P,F,Z);return yo=null,ye}catch(me){if(me===po||me===Ic)throw me;var Ye=zn(29,me,null,j.mode);return Ye.lanes=Z,Ye.return=j,Ye}finally{}}}var Es=Xy(!0),Wy=Xy(!1),sa=!1;function pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function oa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function la(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=bc(t),Vy(t,null,s),i}return Tc(t,l,i,s),bc(t)}function jl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,hi(t,s)}}function vd(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var _d=!1;function Ll(){if(_d){var t=go;if(t!==null)throw t}}function Ul(t,i,s,l){_d=!1;var f=t.updateQueue;sa=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,G=N.next;N.next=null,v===null?d=G:v.next=G,v=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==v&&(S===null?X.firstBaseUpdate=G:S.next=G,X.lastBaseUpdate=N))}if(d!==null){var ee=f.baseState;v=0,X=G=N=null,S=d;do{var Q=S.lane&-536870913,$=Q!==S.lane;if($?(Le&Q)===Q:(l&Q)===Q){Q!==0&&Q===mo&&(_d=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var de=t,_e=S;Q=i;var it=s;switch(_e.tag){case 1:if(de=_e.payload,typeof de=="function"){ee=de.call(it,ee,Q);break e}ee=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=_e.payload,Q=typeof de=="function"?de.call(it,ee,Q):de,Q==null)break e;ee=b({},ee,Q);break e;case 2:sa=!0}}Q=S.callback,Q!==null&&(t.flags|=64,$&&(t.flags|=8192),$=f.callbacks,$===null?f.callbacks=[Q]:$.push(Q))}else $={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(G=X=$,N=ee):X=X.next=$,v|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;$=S,S=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);X===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=G,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),da|=v,t.lanes=v,t.memoizedState=ee}}function Jy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Zy(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Jy(s[t],i)}var vo=V(null),Oc=V(0);function ev(t,i){t=Ci,oe(Oc,t),oe(vo,i),Ci=t|i.baseLanes}function Ed(){oe(Oc,Ci),oe(vo,vo.current)}function Td(){Ci=Oc.current,J(vo),J(Oc)}var Bn=V(null),ar=null;function ua(t){var i=t.alternate;oe(xt,xt.current&1),oe(Bn,t),ar===null&&(i===null||vo.current!==null||i.memoizedState!==null)&&(ar=t)}function bd(t){oe(xt,xt.current),oe(Bn,t),ar===null&&(ar=t)}function tv(t){t.tag===22?(oe(xt,xt.current),oe(Bn,t),ar===null&&(ar=t)):ca()}function ca(){oe(xt,xt.current),oe(Bn,Bn.current)}function qn(t){J(Bn),ar===t&&(ar=null),J(xt)}var xt=V(0);function Mc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Im(s)||Dm(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var _i=0,Oe=null,nt=null,zt=null,Vc=!1,_o=!1,Ts=!1,Pc=0,zl=0,Eo=null,AA=0;function Rt(){throw Error(a(321))}function Sd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Un(t[s],i[s]))return!1;return!0}function wd(t,i,s,l,f,d){return _i=d,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?Lv:Ud,Ts=!1,d=s(l,f),Ts=!1,_o&&(d=rv(i,s,l,f)),nv(t),d}function nv(t){Y.H=Hl;var i=nt!==null&&nt.next!==null;if(_i=0,zt=nt=Oe=null,Vc=!1,zl=0,Eo=null,i)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&Ac(t)&&(Bt=!0))}function rv(t,i,s,l){Oe=t;var f=0;do{if(_o&&(Eo=null),zl=0,_o=!1,25<=f)throw Error(a(301));if(f+=1,zt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Uv,d=i(s,l)}while(_o);return d}function RA(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Bl(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Oe.flags|=1024),i}function Ad(){var t=Pc!==0;return Pc=0,t}function Rd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Cd(t){if(Vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Vc=!1}_i=0,zt=nt=Oe=null,_o=!1,zl=Pc=0,Eo=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Oe.memoizedState=zt=t:zt=zt.next=t,zt}function Ot(){if(nt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=zt===null?Oe.memoizedState:zt.next;if(i!==null)zt=i,nt=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},zt===null?Oe.memoizedState=zt=t:zt=zt.next=t}return zt}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(t){var i=zl;return zl+=1,Eo===null&&(Eo=[]),t=Qy(Eo,t,i),i=Oe,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?Lv:Ud),t}function jc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===re)return tn(t)}throw Error(a(438,String(t)))}function Id(t){var i=null,s=Oe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=kc(),Oe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=M;return i.index++,s}function Ei(t,i){return typeof i=="function"?i(t):i}function Lc(t){var i=Ot();return Dd(i,nt,t)}function Dd(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=v=null,N=null,G=i,X=!1;do{var ee=G.lane&-536870913;if(ee!==G.lane?(Le&ee)===ee:(_i&ee)===ee){var Q=G.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ee===mo&&(X=!0);else if((_i&Q)===Q){G=G.next,Q===mo&&(X=!0);continue}else ee={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(S=N=ee,v=d):N=N.next=ee,Oe.lanes|=Q,da|=Q;ee=G.action,Ts&&s(d,ee),d=G.hasEagerState?G.eagerState:s(d,ee)}else Q={lane:ee,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},N===null?(S=N=Q,v=d):N=N.next=Q,Oe.lanes|=ee,da|=ee;G=G.next}while(G!==null&&G!==i);if(N===null?v=d:N.next=S,!Un(d,t.memoizedState)&&(Bt=!0,X&&(s=go,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nd(t){var i=Ot(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);Un(d,i.memoizedState)||(Bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function iv(t,i,s){var l=Oe,f=Ot(),d=He;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!Un((nt||f).memoizedState,s);if(v&&(f.memoizedState=s,Bt=!0),f=f.queue,Md(ov.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,To(9,{destroy:void 0},sv.bind(null,l,f,s,i),null),st===null)throw Error(a(349));d||(_i&127)!==0||av(l,i,s)}return s}function av(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Oe.updateQueue,i===null?(i=kc(),Oe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function sv(t,i,s,l){i.value=s,i.getSnapshot=l,lv(i)&&uv(t)}function ov(t,i,s){return s(function(){lv(i)&&uv(t)})}function lv(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Un(t,s)}catch{return!0}}function uv(t){var i=fs(t,2);i!==null&&xn(i,t,2)}function xd(t){var i=bn();if(typeof t=="function"){var s=t;if(t=s(),Ts){Sn(!0);try{s()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},i}function cv(t,i,s,l){return t.baseState=s,Dd(t,nt,typeof l=="function"?l:Ei)}function CA(t,i,s,l,f){if(Bc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,hv(i,d)):(d.next=s.next,i.pending=s.next=d)}}function hv(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var S=s(f,l),N=Y.S;N!==null&&N(v,S),fv(t,i,S)}catch(G){Od(t,i,G)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=s(f,l),fv(t,i,d)}catch(G){Od(t,i,G)}}function fv(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){dv(t,i,l)},function(l){return Od(t,i,l)}):dv(t,i,s)}function dv(t,i,s){i.status="fulfilled",i.value=s,mv(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,hv(t,s)))}function Od(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,mv(i),i=i.next;while(i!==l)}t.action=null}function mv(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function gv(t,i){return i}function pv(t,i){if(He){var s=st.formState;if(s!==null){e:{var l=Oe;if(He){if(dt){t:{for(var f=dt,d=ir;f.nodeType!==8;){if(!d){f=null;break t}if(f=sr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){dt=sr(f.nextSibling),l=f.data==="F!";break e}}ia(l)}l=!1}l&&(i=s[0])}}return s=bn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:i},s.queue=l,s=Pv.bind(null,Oe,l),l.dispatch=s,l=xd(!1),d=Ld.bind(null,Oe,!1,l.queue),l=bn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=CA.bind(null,Oe,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function yv(t){var i=Ot();return vv(i,nt,t)}function vv(t,i,s){if(i=Dd(t,i,gv)[0],t=Lc(Ei)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Bl(i)}catch(v){throw v===po?Ic:v}else l=i;i=Ot();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Oe.flags|=2048,To(9,{destroy:void 0},IA.bind(null,f,s),null)),[l,d,t]}function IA(t,i){t.action=i}function _v(t){var i=Ot(),s=nt;if(s!==null)return vv(i,s,t);Ot(),i=i.memoizedState,s=Ot();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function To(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=kc(),Oe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Ev(){return Ot().memoizedState}function Uc(t,i,s,l){var f=bn();Oe.flags|=t,f.memoizedState=To(1|i,{destroy:void 0},s,l===void 0?null:l)}function zc(t,i,s,l){var f=Ot();l=l===void 0?null:l;var d=f.memoizedState.inst;nt!==null&&l!==null&&Sd(l,nt.memoizedState.deps)?f.memoizedState=To(i,d,s,l):(Oe.flags|=t,f.memoizedState=To(1|i,d,s,l))}function Tv(t,i){Uc(8390656,8,t,i)}function Md(t,i){zc(2048,8,t,i)}function DA(t){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=kc(),Oe.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function bv(t){var i=Ot().memoizedState;return DA({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Sv(t,i){return zc(4,2,t,i)}function wv(t,i){return zc(4,4,t,i)}function Av(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Rv(t,i,s){s=s!=null?s.concat([t]):null,zc(4,4,Av.bind(null,i,t),s)}function Vd(){}function Cv(t,i){var s=Ot();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Sd(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Iv(t,i){var s=Ot();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Sd(i,l[1]))return l[0];if(l=t(),Ts){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[l,i],l}function Pd(t,i,s){return s===void 0||(_i&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=D_(),Oe.lanes|=t,da|=t,s)}function Dv(t,i,s,l){return Un(s,i)?s:vo.current!==null?(t=Pd(t,s,l),Un(t,i)||(Bt=!0),t):(_i&42)===0||(_i&1073741824)!==0&&(Le&261930)===0?(Bt=!0,t.memoizedState=s):(t=D_(),Oe.lanes|=t,da|=t,i)}function Nv(t,i,s,l,f){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=Y.T,S={};Y.T=S,Ld(t,!1,i,s);try{var N=f(),G=Y.S;if(G!==null&&G(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=wA(N,l);ql(t,i,X,Gn(t))}else ql(t,i,l,Gn(t))}catch(ee){ql(t,i,{then:function(){},status:"rejected",reason:ee},Gn())}finally{ie.p=d,v!==null&&S.types!==null&&(v.types=S.types),Y.T=v}}function NA(){}function kd(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=xv(t).queue;Nv(t,f,i,ue,s===null?NA:function(){return Ov(t),s(l)})}function xv(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ue},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ov(t){var i=xv(t);i.next===null&&(i=t.alternate.memoizedState),ql(t,i.next.queue,{},Gn())}function jd(){return tn(au)}function Mv(){return Ot().memoizedState}function Vv(){return Ot().memoizedState}function xA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Gn();t=oa(s);var l=la(i,t,s);l!==null&&(xn(l,i,s),jl(l,i,s)),i={cache:fd()},t.payload=i;return}i=i.return}}function OA(t,i,s){var l=Gn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bc(t)?kv(i,s):(s=td(t,i,s,l),s!==null&&(xn(s,t,l),jv(s,i,l)))}function Pv(t,i,s){var l=Gn();ql(t,i,s,l)}function ql(t,i,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bc(t))kv(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,s);if(f.hasEagerState=!0,f.eagerState=S,Un(S,v))return Tc(t,i,f,0),st===null&&Ec(),!1}catch{}finally{}if(s=td(t,i,f,l),s!==null)return xn(s,t,l),jv(s,i,l),!0}return!1}function Ld(t,i,s,l){if(l={lane:2,revertLane:pm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bc(t)){if(i)throw Error(a(479))}else i=td(t,s,l,2),i!==null&&xn(i,t,2)}function Bc(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function kv(t,i){_o=Vc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function jv(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,hi(t,s)}}var Hl={readContext:tn,use:jc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};Hl.useEffectEvent=Rt;var Lv={readContext:tn,use:jc,useCallback:function(t,i){return bn().memoizedState=[t,i===void 0?null:i],t},useContext:tn,useEffect:Tv,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Uc(4194308,4,Av.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Uc(4194308,4,t,i)},useInsertionEffect:function(t,i){Uc(4,2,t,i)},useMemo:function(t,i){var s=bn();i=i===void 0?null:i;var l=t();if(Ts){Sn(!0);try{t()}finally{Sn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=bn();if(s!==void 0){var f=s(i);if(Ts){Sn(!0);try{s(i)}finally{Sn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=OA.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=bn();return t={current:t},i.memoizedState=t},useState:function(t){t=xd(t);var i=t.queue,s=Pv.bind(null,Oe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Vd,useDeferredValue:function(t,i){var s=bn();return Pd(s,t,i)},useTransition:function(){var t=xd(!1);return t=Nv.bind(null,Oe,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Oe,f=bn();if(He){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),st===null)throw Error(a(349));(Le&127)!==0||av(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,Tv(ov.bind(null,l,d,t),[t]),l.flags|=2048,To(9,{destroy:void 0},sv.bind(null,l,d,s,i),null),s},useId:function(){var t=bn(),i=st.identifierPrefix;if(He){var s=Kr,l=Qr;s=(l&~(1<<32-pt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Pc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=AA++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:jd,useFormState:pv,useActionState:pv,useOptimistic:function(t){var i=bn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Ld.bind(null,Oe,!0,s),s.dispatch=i,[t,i]},useMemoCache:Id,useCacheRefresh:function(){return bn().memoizedState=xA.bind(null,Oe)},useEffectEvent:function(t){var i=bn(),s={impl:t};return i.memoizedState=s,function(){if(($e&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Ud={readContext:tn,use:jc,useCallback:Cv,useContext:tn,useEffect:Md,useImperativeHandle:Rv,useInsertionEffect:Sv,useLayoutEffect:wv,useMemo:Iv,useReducer:Lc,useRef:Ev,useState:function(){return Lc(Ei)},useDebugValue:Vd,useDeferredValue:function(t,i){var s=Ot();return Dv(s,nt.memoizedState,t,i)},useTransition:function(){var t=Lc(Ei)[0],i=Ot().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:iv,useId:Mv,useHostTransitionStatus:jd,useFormState:yv,useActionState:yv,useOptimistic:function(t,i){var s=Ot();return cv(s,nt,t,i)},useMemoCache:Id,useCacheRefresh:Vv};Ud.useEffectEvent=bv;var Uv={readContext:tn,use:jc,useCallback:Cv,useContext:tn,useEffect:Md,useImperativeHandle:Rv,useInsertionEffect:Sv,useLayoutEffect:wv,useMemo:Iv,useReducer:Nd,useRef:Ev,useState:function(){return Nd(Ei)},useDebugValue:Vd,useDeferredValue:function(t,i){var s=Ot();return nt===null?Pd(s,t,i):Dv(s,nt.memoizedState,t,i)},useTransition:function(){var t=Nd(Ei)[0],i=Ot().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:iv,useId:Mv,useHostTransitionStatus:jd,useFormState:_v,useActionState:_v,useOptimistic:function(t,i){var s=Ot();return nt!==null?cv(s,nt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Id,useCacheRefresh:Vv};Uv.useEffectEvent=bv;function zd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:b({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Bd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Gn(),f=oa(l);f.payload=i,s!=null&&(f.callback=s),i=la(t,f,l),i!==null&&(xn(i,t,l),jl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Gn(),f=oa(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=la(t,f,l),i!==null&&(xn(i,t,l),jl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Gn(),l=oa(s);l.tag=2,i!=null&&(l.callback=i),i=la(t,l,s),i!==null&&(xn(i,t,s),jl(i,t,s))}};function zv(t,i,s,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Dl(s,l)||!Dl(f,d):!0}function Bv(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Bd.enqueueReplaceState(i,i.state,null)}function bs(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=b({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function qv(t){_c(t)}function Hv(t){console.error(t)}function Fv(t){_c(t)}function qc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Gv(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qd(t,i,s){return s=oa(s),s.tag=3,s.payload={element:null},s.callback=function(){qc(t,i)},s}function Yv(t){return t=oa(t),t.tag=3,t}function Qv(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Gv(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Gv(i,s,l),typeof f!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function MA(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&fo(i,s,f,!0),s=Bn.current,s!==null){switch(s.tag){case 31:case 13:return ar===null?eh():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Dc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),dm(t,l,f)),!1;case 22:return s.flags|=65536,l===Dc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),dm(t,l,f)),!1}throw Error(a(435,s.tag))}return dm(t,l,f),eh(),!1}if(He)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==od&&(t=Error(a(422),{cause:l}),Ol(tr(t,s)))):(l!==od&&(i=Error(a(423),{cause:l}),Ol(tr(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=tr(l,s),f=qd(t.stateNode,l,f),vd(t,f),Ct!==4&&(Ct=2)),!1;var d=Error(a(520),{cause:l});if(d=tr(d,s),Wl===null?Wl=[d]:Wl.push(d),Ct!==4&&(Ct=2),i===null)return!0;l=tr(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=qd(s.stateNode,l,t),vd(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ma===null||!ma.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Yv(f),Qv(f,t,s,l),vd(s,f),!1}s=s.return}while(s!==null);return!1}var Hd=Error(a(461)),Bt=!1;function nn(t,i,s,l){i.child=t===null?Wy(i,null,s,l):Es(i,t.child,s,l)}function Kv(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return ps(i),l=wd(t,i,s,v,d,f),S=Ad(),t!==null&&!Bt?(Rd(t,i,f),Ti(t,i,f)):(He&&S&&ad(i),i.flags|=1,nn(t,i,l,f),i.child)}function $v(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!nd(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Xv(t,i,d,l,f)):(t=Sc(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Wd(t,f)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Dl,s(v,l)&&t.ref===i.ref)return Ti(t,i,f)}return i.flags|=1,t=gi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Xv(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(Dl(d,l)&&t.ref===i.ref)if(Bt=!1,i.pendingProps=l=d,Wd(t,f))(t.flags&131072)!==0&&(Bt=!0);else return i.lanes=t.lanes,Ti(t,i,f)}return Fd(t,i,s,l,f)}function Wv(t,i,s,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Jv(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cc(i,d!==null?d.cachePool:null),d!==null?ev(i,d):Ed(),tv(i);else return l=i.lanes=536870912,Jv(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Cc(i,d.cachePool),ev(i,d),ca(),i.memoizedState=null):(t!==null&&Cc(i,null),Ed(),ca());return nn(t,i,f,s),i.child}function Fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Jv(t,i,s,l,f){var d=md();return d=d===null?null:{parent:Ut._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&Cc(i,null),Ed(),tv(i),t!==null&&fo(t,i,l,!0),i.childLanes=f,null}function Hc(t,i){return i=Gc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Zv(t,i,s){return Es(i,t.child,null,s),t=Hc(i,i.pendingProps),t.flags|=2,qn(i),i.memoizedState=null,t}function VA(t,i,s){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=Hc(i,l),i.lanes=536870912,Fl(null,t);if(bd(i),(t=dt)?(t=hE(t,ir),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:na!==null?{id:Qr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},s=ky(t),s.return=i,i.child=s,en=i,dt=null)):t=null,t===null)throw ia(i);return i.lanes=536870912,null}return Hc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(bd(i),f)if(i.flags&256)i.flags&=-257,i=Zv(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Bt||fo(t,i,s,!1),f=(s&t.childLanes)!==0,Bt||f){if(l=st,l!==null&&(v=Pr(l,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,fs(t,v),xn(l,t,v),Hd;eh(),i=Zv(t,i,s)}else t=d.treeContext,dt=sr(v.nextSibling),en=i,He=!0,ra=null,ir=!1,t!==null&&Uy(i,t),i=Hc(i,l),i.flags|=4096;return i}return t=gi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Fc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Fd(t,i,s,l,f){return ps(i),s=wd(t,i,s,l,void 0,f),l=Ad(),t!==null&&!Bt?(Rd(t,i,f),Ti(t,i,f)):(He&&l&&ad(i),i.flags|=1,nn(t,i,s,f),i.child)}function e_(t,i,s,l,f,d){return ps(i),i.updateQueue=null,s=rv(i,l,s,f),nv(t),l=Ad(),t!==null&&!Bt?(Rd(t,i,d),Ti(t,i,d)):(He&&l&&ad(i),i.flags|=1,nn(t,i,s,d),i.child)}function t_(t,i,s,l,f){if(ps(i),i.stateNode===null){var d=lo,v=s.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},pd(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?tn(v):lo,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(zd(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Bd.enqueueReplaceState(d,d.state,null),Ul(i,l,d,f),Ll(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=bs(s,S);d.props=N;var G=d.context,X=s.contextType;v=lo,typeof X=="object"&&X!==null&&(v=tn(X));var ee=s.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||G!==v)&&Bv(i,d,l,v),sa=!1;var Q=i.memoizedState;d.state=Q,Ul(i,l,d,f),Ll(),G=i.memoizedState,S||Q!==G||sa?(typeof ee=="function"&&(zd(i,s,ee,l),G=i.memoizedState),(N=sa||zv(i,s,N,l,Q,G,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,yd(t,i),v=i.memoizedProps,X=bs(s,v),d.props=X,ee=i.pendingProps,Q=d.context,G=s.contextType,N=lo,typeof G=="object"&&G!==null&&(N=tn(G)),S=s.getDerivedStateFromProps,(G=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||Q!==N)&&Bv(i,d,l,N),sa=!1,Q=i.memoizedState,d.state=Q,Ul(i,l,d,f),Ll();var $=i.memoizedState;v!==ee||Q!==$||sa||t!==null&&t.dependencies!==null&&Ac(t.dependencies)?(typeof S=="function"&&(zd(i,s,S,l),$=i.memoizedState),(X=sa||zv(i,s,X,l,Q,$,N)||t!==null&&t.dependencies!==null&&Ac(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Fc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Es(i,t.child,null,f),i.child=Es(i,null,s,f)):nn(t,i,s,f),i.memoizedState=d.state,t=i.child):t=Ti(t,i,f),t}function n_(t,i,s,l){return ms(),i.flags|=256,nn(t,i,s,l),i.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(t){return{baseLanes:t,cachePool:Gy()}}function Qd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Fn),t}function r_(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(f?ua(i):ca(),(t=dt)?(t=hE(t,ir),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:na!==null?{id:Qr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},s=ky(t),s.return=i,i.child=s,en=i,dt=null)):t=null,t===null)throw ia(i);return Dm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(ca(),f=i.mode,S=Gc({mode:"hidden",children:S},f),l=ds(l,f,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Yd(s),l.childLanes=Qd(t,v,s),i.memoizedState=Gd,Fl(null,l)):(ua(i),Kd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(ua(i),i.flags&=-257,i=$d(t,i,s)):i.memoizedState!==null?(ca(),i.child=t.child,i.flags|=128,i=null):(ca(),S=l.fallback,f=i.mode,l=Gc({mode:"visible",children:l.children},f),S=ds(S,f,s,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Es(i,t.child,null,s),l=i.child,l.memoizedState=Yd(s),l.childLanes=Qd(t,v,s),i.memoizedState=Gd,i=Fl(null,l));else if(ua(i),Dm(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(a(419)),l.stack="",l.digest=v,Ol({value:l,source:null,stack:null}),i=$d(t,i,s)}else if(Bt||fo(t,i,s,!1),v=(s&t.childLanes)!==0,Bt||v){if(v=st,v!==null&&(l=Pr(v,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,fs(t,l),xn(v,t,l),Hd;Im(S)||eh(),i=$d(t,i,s)}else Im(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,dt=sr(S.nextSibling),en=i,He=!0,ra=null,ir=!1,t!==null&&Uy(i,t),i=Kd(i,l.children),i.flags|=4096);return i}return f?(ca(),S=l.fallback,f=i.mode,N=t.child,G=N.sibling,l=gi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,G!==null?S=gi(G,S):(S=ds(S,f,s,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Fl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Yd(s):(f=S.cachePool,f!==null?(N=Ut._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=Gy(),S={baseLanes:S.baseLanes|s,cachePool:f}),l.memoizedState=S,l.childLanes=Qd(t,v,s),i.memoizedState=Gd,Fl(t.child,l)):(ua(i),s=t.child,t=s.sibling,s=gi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function Kd(t,i){return i=Gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Gc(t,i){return t=zn(22,t,null,i),t.lanes=0,t}function $d(t,i,s){return Es(i,t.child,null,s),t=Kd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function i_(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),cd(t.return,i,s)}function Xd(t,i,s,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=f,v.treeForkCount=d)}function a_(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=xt.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,oe(xt,v),nn(t,i,l,s),l=He?xl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&i_(t,s,i);else if(t.tag===19)i_(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&Mc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Xd(i,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Mc(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Xd(i,!0,s,null,d,l);break;case"together":Xd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ti(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),da|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(fo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=gi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=gi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Wd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ac(t)))}function PA(t,i,s){switch(i.tag){case 3:ut(i,i.stateNode.containerInfo),aa(i,Ut,t.memoizedState.cache),ms();break;case 27:case 5:hr(i);break;case 4:ut(i,i.stateNode.containerInfo);break;case 10:aa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,bd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ua(i),i.flags|=128,null):(s&i.child.childLanes)!==0?r_(t,i,s):(ua(i),t=Ti(t,i,s),t!==null?t.sibling:null);ua(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(fo(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return a_(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(xt,xt.current),l)break;return null;case 22:return i.lanes=0,Wv(t,i,s,i.pendingProps);case 24:aa(i,Ut,t.memoizedState.cache)}return Ti(t,i,s)}function s_(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Bt=!0;else{if(!Wd(t,s)&&(i.flags&128)===0)return Bt=!1,PA(t,i,s);Bt=(t.flags&131072)!==0}else Bt=!1,He&&(i.flags&1048576)!==0&&Ly(i,xl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=vs(i.elementType),i.type=t,typeof t=="function")nd(t)?(l=bs(t,l),i.tag=1,i=t_(null,i,t,l,s)):(i.tag=0,i=Fd(null,i,t,l,s));else{if(t!=null){var f=t.$$typeof;if(f===se){i.tag=11,i=Kv(null,i,t,l,s);break e}else if(f===D){i.tag=14,i=$v(null,i,t,l,s);break e}}throw i=pe(t)||t,Error(a(306,i,""))}}return i;case 0:return Fd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=bs(l,i.pendingProps),t_(t,i,l,f,s);case 3:e:{if(ut(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,yd(t,i),Ul(i,l,null,s);var v=i.memoizedState;if(l=v.cache,aa(i,Ut,l),l!==d.cache&&hd(i,[Ut],s,!0),Ll(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=n_(t,i,l,s);break e}else if(l!==f){f=tr(Error(a(424)),i),Ol(f),i=n_(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=sr(t.firstChild),en=i,He=!0,ra=null,ir=!0,s=Wy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ms(),l===f){i=Ti(t,i,s);break e}nn(t,i,l,s)}i=i.child}return i;case 26:return Fc(t,i),t===null?(s=yE(i.type,null,i.pendingProps,null))?i.memoizedState=s:He||(s=i.type,t=i.pendingProps,l=oh(Ae.current).createElement(s),l[bt]=i,l[kt]=t,rn(l,s,t),jt(l),i.stateNode=l):i.memoizedState=yE(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return hr(i),t===null&&He&&(l=i.stateNode=mE(i.type,i.pendingProps,Ae.current),en=i,ir=!0,f=dt,va(i.type)?(Nm=f,dt=sr(l.firstChild)):dt=f),nn(t,i,i.pendingProps.children,s),Fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((f=l=dt)&&(l=h1(l,i.type,i.pendingProps,ir),l!==null?(i.stateNode=l,en=i,dt=sr(l.firstChild),ir=!1,f=!0):f=!1),f||ia(i)),hr(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Am(f,d)?l=null:v!==null&&Am(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=wd(t,i,RA,null,null,s),au._currentValue=f),Fc(t,i),nn(t,i,l,s),i.child;case 6:return t===null&&He&&((t=s=dt)&&(s=f1(s,i.pendingProps,ir),s!==null?(i.stateNode=s,en=i,dt=null,t=!0):t=!1),t||ia(i)),null;case 13:return r_(t,i,s);case 4:return ut(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Es(i,null,l,s):nn(t,i,l,s),i.child;case 11:return Kv(t,i,i.type,i.pendingProps,s);case 7:return nn(t,i,i.pendingProps,s),i.child;case 8:return nn(t,i,i.pendingProps.children,s),i.child;case 12:return nn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,aa(i,i.type,l.value),nn(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ps(i),f=tn(f),l=l(f),i.flags|=1,nn(t,i,l,s),i.child;case 14:return $v(t,i,i.type,i.pendingProps,s);case 15:return Xv(t,i,i.type,i.pendingProps,s);case 19:return a_(t,i,s);case 31:return VA(t,i,s);case 22:return Wv(t,i,s,i.pendingProps);case 24:return ps(i),l=tn(Ut),t===null?(f=md(),f===null&&(f=st,d=fd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},pd(i),aa(i,Ut,f)):((t.lanes&s)!==0&&(yd(t,i),Ul(i,null,null,s),Ll()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),aa(i,Ut,l)):(l=d.cache,aa(i,Ut,l),l!==f.cache&&hd(i,[Ut],s,!0))),nn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function bi(t){t.flags|=4}function Jd(t,i,s,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(M_())t.flags|=8192;else throw _s=Dc,gd}else t.flags&=-16777217}function o_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bE(i))if(M_())t.flags|=8192;else throw _s=Dc,gd}function Yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_n():536870912,t.lanes|=i,Ao|=i)}function Gl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function kA(t,i,s){var l=i.pendingProps;switch(sd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),vi(Ut),Ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ho(i)?bi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ld())),mt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(bi(i),d!==null?(mt(i),o_(i,d)):(mt(i),Jd(i,f,null,l,s))):d?d!==t.memoizedState?(bi(i),mt(i),o_(i,d)):(mt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&bi(i),mt(i),Jd(i,f,t,l,s)),null;case 27:if(Ir(i),s=Ae.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return mt(i),null}t=le.current,ho(i)?zy(i):(t=mE(f,l,s),i.stateNode=t,bi(i))}return mt(i),null;case 5:if(Ir(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return mt(i),null}if(d=le.current,ho(i))zy(i);else{var v=oh(Ae.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[bt]=i,d[kt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(rn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&bi(i)}}return mt(i),Jd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&bi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ae.current,ho(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=en,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||rE(t.nodeValue,s)),t||ia(i,!0)}else t=oh(t).createTextNode(l),t[bt]=i,i.stateNode=t}return mt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=ho(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[bt]=i}else ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),t=!1}else s=ld(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(qn(i),i):(qn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return mt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ho(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[bt]=i}else ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),f=!1}else f=ld(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(qn(i),i):(qn(i),null)}return qn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Yc(i,i.updateQueue),mt(i),null);case 4:return Ge(),t===null&&Em(i.stateNode.containerInfo),mt(i),null;case 10:return vi(i.type),mt(i),null;case 19:if(J(xt),l=i.memoizedState,l===null)return mt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Gl(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Mc(t),d!==null){for(i.flags|=128,Gl(l,!1),t=d.updateQueue,i.updateQueue=t,Yc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Py(s,t),s=s.sibling;return oe(xt,xt.current&1|2),He&&pi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Jt()>Wc&&(i.flags|=128,f=!0,Gl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Mc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Yc(i,t),Gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!He)return mt(i),null}else 2*Jt()-l.renderingStartTime>Wc&&s!==536870912&&(i.flags|=128,f=!0,Gl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Jt(),t.sibling=null,s=xt.current,oe(xt,f?s&1|2:s&1),He&&pi(i,l.treeForkCount),t):(mt(i),null);case 22:case 23:return qn(i),Td(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),s=i.updateQueue,s!==null&&Yc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&J(ys),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),vi(Ut),mt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function jA(t,i){switch(sd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return vi(Ut),Ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ir(i),null;case 31:if(i.memoizedState!==null){if(qn(i),i.alternate===null)throw Error(a(340));ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(qn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(xt),null;case 4:return Ge(),null;case 10:return vi(i.type),null;case 22:case 23:return qn(i),Td(),t!==null&&J(ys),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return vi(Ut),null;case 25:return null;default:return null}}function l_(t,i){switch(sd(i),i.tag){case 3:vi(Ut),Ge();break;case 26:case 27:case 5:Ir(i);break;case 4:Ge();break;case 31:i.memoizedState!==null&&qn(i);break;case 13:qn(i);break;case 19:J(xt);break;case 10:vi(i.type);break;case 22:case 23:qn(i),Td(),t!==null&&J(ys);break;case 24:vi(Ut)}}function Yl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==f)}}catch(S){et(i,i.return,S)}}function ha(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=i;var N=s,G=S;try{G()}catch(X){et(f,N,X)}}}l=l.next}while(l!==d)}}catch(X){et(i,i.return,X)}}function u_(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Zy(i,s)}catch(l){et(t,t.return,l)}}}function c_(t,i,s){s.props=bs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){et(t,i,l)}}function Ql(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){et(t,i,f)}}function $r(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){et(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){et(t,i,f)}else s.current=null}function h_(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){et(t,t.return,f)}}function Zd(t,i,s){try{var l=t.stateNode;a1(l,t.type,s,i),l[kt]=i}catch(f){et(t,t.return,f)}}function f_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&va(t.type)||t.tag===4}function em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&va(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function tm(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=pr));else if(l!==4&&(l===27&&va(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(tm(t,i,s),t=t.sibling;t!==null;)tm(t,i,s),t=t.sibling}function Qc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&va(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Qc(t,i,s),t=t.sibling;t!==null;)Qc(t,i,s),t=t.sibling}function d_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);rn(i,l,s),i[bt]=t,i[kt]=s}catch(d){et(t,t.return,d)}}var Si=!1,qt=!1,nm=!1,m_=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function LA(t,i){if(t=t.containerInfo,Sm=mh,t=Ry(t),$f(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,S=-1,N=-1,G=0,X=0,ee=t,Q=null;t:for(;;){for(var $;ee!==s||f!==0&&ee.nodeType!==3||(S=v+f),ee!==d||l!==0&&ee.nodeType!==3||(N=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),($=ee.firstChild)!==null;)Q=ee,ee=$;for(;;){if(ee===t)break t;if(Q===s&&++G===f&&(S=v),Q===d&&++X===l&&(N=v),($=ee.nextSibling)!==null)break;ee=Q,Q=ee.parentNode}ee=$}s=S===-1||N===-1?null:{start:S,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(wm={focusedElem:t,selectionRange:s},mh=!1,Xt=i;Xt!==null;)if(i=Xt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Xt=t;else for(;Xt!==null;){switch(i=Xt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var de=bs(s.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){et(s,s.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Cm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Xt=t;break}Xt=i.return}}function g_(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(t,s),l&4&&Yl(5,s);break;case 1:if(Ai(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){et(s,s.return,v)}else{var f=bs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(s,s.return,v)}}l&64&&u_(s),l&512&&Ql(s,s.return);break;case 3:if(Ai(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Zy(t,i)}catch(v){et(s,s.return,v)}}break;case 27:i===null&&l&4&&d_(s);case 26:case 5:Ai(t,s),i===null&&l&4&&h_(s),l&512&&Ql(s,s.return);break;case 12:Ai(t,s);break;case 31:Ai(t,s),l&4&&v_(t,s);break;case 13:Ai(t,s),l&4&&__(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=QA.bind(null,s),d1(t,s))));break;case 22:if(l=s.memoizedState!==null||Si,!l){i=i!==null&&i.memoizedState!==null||qt,f=Si;var d=qt;Si=l,(qt=i)&&!d?Ri(t,s,(s.subtreeFlags&8772)!==0):Ai(t,s),Si=f,qt=d}break;case 30:break;default:Ai(t,s)}}function p_(t){var i=t.alternate;i!==null&&(t.alternate=null,p_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&kr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Cn=!1;function wi(t,i,s){for(s=s.child;s!==null;)y_(t,i,s),s=s.sibling}function y_(t,i,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(cn,s)}catch{}switch(s.tag){case 26:qt||$r(s,i),wi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qt||$r(s,i);var l=vt,f=Cn;va(s.type)&&(vt=s.stateNode,Cn=!1),wi(t,i,s),nu(s.stateNode),vt=l,Cn=f;break;case 5:qt||$r(s,i);case 6:if(l=vt,f=Cn,vt=null,wi(t,i,s),vt=l,Cn=f,vt!==null)if(Cn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(s.stateNode)}catch(d){et(s,i,d)}else try{vt.removeChild(s.stateNode)}catch(d){et(s,i,d)}break;case 18:vt!==null&&(Cn?(t=vt,uE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Mo(t)):uE(vt,s.stateNode));break;case 4:l=vt,f=Cn,vt=s.stateNode.containerInfo,Cn=!0,wi(t,i,s),vt=l,Cn=f;break;case 0:case 11:case 14:case 15:ha(2,s,i),qt||ha(4,s,i),wi(t,i,s);break;case 1:qt||($r(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&c_(s,i,l)),wi(t,i,s);break;case 21:wi(t,i,s);break;case 22:qt=(l=qt)||s.memoizedState!==null,wi(t,i,s),qt=l;break;default:wi(t,i,s)}}function v_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Mo(t)}catch(s){et(i,i.return,s)}}}function __(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mo(t)}catch(s){et(i,i.return,s)}}function UA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new m_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new m_),i;default:throw Error(a(435,t.tag))}}function Kc(t,i){var s=UA(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var f=KA.bind(null,t,l);l.then(f,f)}})}function In(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(va(S.type)){vt=S.stateNode,Cn=!1;break e}break;case 5:vt=S.stateNode,Cn=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,Cn=!0;break e}S=S.return}if(vt===null)throw Error(a(160));y_(d,v,f),vt=null,Cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)E_(i,t),i=i.sibling}var br=null;function E_(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(i,t),Dn(t),l&4&&(ha(3,t,t.return),Yl(3,t),ha(5,t,t.return));break;case 1:In(i,t),Dn(t),l&512&&(qt||s===null||$r(s,s.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=br;if(In(i,t),Dn(t),l&512&&(qt||s===null||$r(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[At]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,l,s),d[bt]=t,jt(d),l=d;break e;case"link":var v=EE("link","href",f).get(l+(s.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(S,1);break t}}d=f.createElement(l),rn(d,l,s),f.head.appendChild(d);break;case"meta":if(v=EE("meta","content",f).get(l+(s.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(S,1);break t}}d=f.createElement(l),rn(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[bt]=t,jt(d),l=d}t.stateNode=l}else TE(f,t.type,t.stateNode);else t.stateNode=_E(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?TE(f,t.type,t.stateNode):_E(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zd(t,t.memoizedProps,s.memoizedProps)}break;case 27:In(i,t),Dn(t),l&512&&(qt||s===null||$r(s,s.return)),s!==null&&l&4&&Zd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(In(i,t),Dn(t),l&512&&(qt||s===null||$r(s,s.return)),t.flags&32){f=t.stateNode;try{Rn(f,"")}catch(de){et(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Zd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(nm=!0);break;case 6:if(In(i,t),Dn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(de){et(t,t.return,de)}}break;case 3:if(ch=null,f=br,br=lh(i.containerInfo),In(i,t),br=f,Dn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Mo(i.containerInfo)}catch(de){et(t,t.return,de)}nm&&(nm=!1,T_(t));break;case 4:l=br,br=lh(t.stateNode.containerInfo),In(i,t),Dn(t),br=l;break;case 12:In(i,t),Dn(t);break;case 31:In(i,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 13:In(i,t),Dn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xc=Jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 22:f=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,G=Si,X=qt;if(Si=G||f,qt=X||N,In(i,t),qt=X,Si=G,Dn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||N||Si||qt||Ss(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){N=s=i;try{if(d=N.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,Q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(de){et(N,N.return,de)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(de){et(N,N.return,de)}}}else if(i.tag===18){if(s===null){N=i;try{var $=N.stateNode;f?cE($,!0):cE(N.stateNode,!1)}catch(de){et(N,N.return,de)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Kc(t,s))));break;case 19:In(i,t),Dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 30:break;case 21:break;default:In(i,t),Dn(t)}}function Dn(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(f_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=em(t);Qc(t,d,f);break;case 5:var v=s.stateNode;s.flags&32&&(Rn(v,""),s.flags&=-33);var S=em(t);Qc(t,S,v);break;case 3:case 4:var N=s.stateNode.containerInfo,G=em(t);tm(t,G,N);break;default:throw Error(a(161))}}catch(X){et(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function T_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;T_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ai(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)g_(t,i.alternate,i),i=i.sibling}function Ss(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ha(4,i,i.return),Ss(i);break;case 1:$r(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&c_(i,i.return,s),Ss(i);break;case 27:nu(i.stateNode);case 26:case 5:$r(i,i.return),Ss(i);break;case 22:i.memoizedState===null&&Ss(i);break;case 30:Ss(i);break;default:Ss(i)}t=t.sibling}}function Ri(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ri(f,d,s),Yl(4,d);break;case 1:if(Ri(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){et(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Jy(N[f],S)}catch(G){et(l,l.return,G)}}s&&v&64&&u_(d),Ql(d,d.return);break;case 27:d_(d);case 26:case 5:Ri(f,d,s),s&&l===null&&v&4&&h_(d),Ql(d,d.return);break;case 12:Ri(f,d,s);break;case 31:Ri(f,d,s),s&&v&4&&v_(f,d);break;case 13:Ri(f,d,s),s&&v&4&&__(f,d);break;case 22:d.memoizedState===null&&Ri(f,d,s),Ql(d,d.return);break;case 30:break;default:Ri(f,d,s)}i=i.sibling}}function rm(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ml(s))}function im(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ml(t))}function Sr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(t,i,s,l),i=i.sibling}function b_(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Sr(t,i,s,l),f&2048&&Yl(9,i);break;case 1:Sr(t,i,s,l);break;case 3:Sr(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ml(t)));break;case 12:if(f&2048){Sr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){et(i,i.return,N)}}else Sr(t,i,s,l);break;case 31:Sr(t,i,s,l);break;case 13:Sr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Sr(t,i,s,l):Kl(t,i):d._visibility&2?Sr(t,i,s,l):(d._visibility|=2,bo(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&rm(v,i);break;case 24:Sr(t,i,s,l),f&2048&&im(i.alternate,i);break;default:Sr(t,i,s,l)}}function bo(t,i,s,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,S=s,N=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:bo(d,v,S,N,f),Yl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?bo(d,v,S,N,f):Kl(d,v):(X._visibility|=2,bo(d,v,S,N,f)),f&&G&2048&&rm(v.alternate,v);break;case 24:bo(d,v,S,N,f),f&&G&2048&&im(v.alternate,v);break;default:bo(d,v,S,N,f)}i=i.sibling}}function Kl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:Kl(s,l),f&2048&&rm(l.alternate,l);break;case 24:Kl(s,l),f&2048&&im(l.alternate,l);break;default:Kl(s,l)}i=i.sibling}}var $l=8192;function So(t,i,s){if(t.subtreeFlags&$l)for(t=t.child;t!==null;)S_(t,i,s),t=t.sibling}function S_(t,i,s){switch(t.tag){case 26:So(t,i,s),t.flags&$l&&t.memoizedState!==null&&A1(s,br,t.memoizedState,t.memoizedProps);break;case 5:So(t,i,s);break;case 3:case 4:var l=br;br=lh(t.stateNode.containerInfo),So(t,i,s),br=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=$l,$l=16777216,So(t,i,s),$l=l):So(t,i,s));break;default:So(t,i,s)}}function w_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Xt=l,R_(l,t)}w_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)A_(t),t=t.sibling}function A_(t){switch(t.tag){case 0:case 11:case 15:Xl(t),t.flags&2048&&ha(9,t,t.return);break;case 3:Xl(t);break;case 12:Xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,$c(t)):Xl(t);break;default:Xl(t)}}function $c(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Xt=l,R_(l,t)}w_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ha(8,i,i.return),$c(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,$c(i));break;default:$c(i)}t=t.sibling}}function R_(t,i){for(;Xt!==null;){var s=Xt;switch(s.tag){case 0:case 11:case 15:ha(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ml(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Xt=l;else e:for(s=t;Xt!==null;){l=Xt;var f=l.sibling,d=l.return;if(p_(l),l===s){Xt=null;break e}if(f!==null){f.return=d,Xt=f;break e}Xt=d}}}var zA={getCacheForType:function(t){var i=tn(Ut),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return tn(Ut).controller.signal}},BA=typeof WeakMap=="function"?WeakMap:Map,$e=0,st=null,ke=null,Le=0,Ze=0,Hn=null,fa=!1,wo=!1,am=!1,Ci=0,Ct=0,da=0,ws=0,sm=0,Fn=0,Ao=0,Wl=null,Nn=null,om=!1,Xc=0,C_=0,Wc=1/0,Jc=null,ma=null,Yt=0,ga=null,Ro=null,Ii=0,lm=0,um=null,I_=null,Jl=0,cm=null;function Gn(){return($e&2)!==0&&Le!==0?Le&-Le:Y.T!==null?pm():Yi()}function D_(){if(Fn===0)if((Le&536870912)===0||He){var t=ci;ci<<=1,(ci&3932160)===0&&(ci=262144),Fn=t}else Fn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),Fn}function xn(t,i,s){(t===st&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Co(t,0),pa(t,Le,Fn,!1)),mr(t,s),(($e&2)===0||t!==st)&&(t===st&&(($e&2)===0&&(ws|=s),Ct===4&&pa(t,Le,Fn,!1)),Xr(t))}function N_(t,i,s){if(($e&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||hn(t,i),f=l?FA(t,i):fm(t,i,!0),d=l;do{if(f===0){wo&&!l&&pa(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!qA(s)){f=fm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;f=Wl;var N=S.current.memoizedState.isDehydrated;if(N&&(Co(S,v).flags|=256),v=fm(S,v,!1),v!==2){if(am&&!N){S.errorRecoveryDisabledLanes|=d,ws|=d,f=4;break e}d=Nn,Nn=f,d!==null&&(Nn===null?Nn=d:Nn.push.apply(Nn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Co(t,0),pa(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:pa(l,i,Fn,!fa);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Xc+300-Jt(),10<f)){if(pa(l,i,Fn,!fa),ht(l,0,!0)!==0)break e;Ii=i,l.timeoutHandle=oE(x_.bind(null,l,s,Nn,Jc,om,i,Fn,ws,Ao,fa,d,"Throttled",-0,0),f);break e}x_(l,s,Nn,Jc,om,i,Fn,ws,Ao,fa,d,null,-0,0)}}break}while(!0);Xr(t)}function x_(t,i,s,l,f,d,v,S,N,G,X,ee,Q,$){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pr},S_(i,d,ee);var de=(d&62914560)===d?Xc-Jt():(d&4194048)===d?C_-Jt():0;if(de=R1(ee,de),de!==null){Ii=d,t.cancelPendingCommit=de(U_.bind(null,t,i,d,s,l,f,v,S,N,X,ee,null,Q,$)),pa(t,d,v,!G);return}}U_(t,i,d,s,l,f,v,S,N)}function qA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!Un(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function pa(t,i,s,l){i&=~sm,i&=~ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-pt(f),v=1<<d;l[d]=-1,f&=~v}s!==0&&Vr(t,s,i)}function Zc(){return($e&6)===0?(Zl(0),!1):!0}function hm(){if(ke!==null){if(Ze===0)var t=ke.return;else t=ke,yi=gs=null,Cd(t),yo=null,Pl=0,t=ke;for(;t!==null;)l_(t.alternate,t),t=t.return;ke=null}}function Co(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,l1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ii=0,hm(),st=t,ke=s=gi(t.current,null),Le=i,Ze=0,Hn=null,fa=!1,wo=hn(t,i),am=!1,Ao=Fn=sm=ws=da=Ct=0,Nn=Wl=null,om=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-pt(l),d=1<<f;i|=t[f],l&=~d}return Ci=i,Ec(),s}function O_(t,i){Oe=null,Y.H=Hl,i===po||i===Ic?(i=Ky(),Ze=3):i===gd?(i=Ky(),Ze=4):Ze=i===Hd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,ke===null&&(Ct=1,qc(t,tr(i,t.current)))}function M_(){var t=Bn.current;return t===null?!0:(Le&4194048)===Le?ar===null:(Le&62914560)===Le||(Le&536870912)!==0?t===ar:!1}function V_(){var t=Y.H;return Y.H=Hl,t===null?Hl:t}function P_(){var t=Y.A;return Y.A=zA,t}function eh(){Ct=4,fa||(Le&4194048)!==Le&&Bn.current!==null||(wo=!0),(da&134217727)===0&&(ws&134217727)===0||st===null||pa(st,Le,Fn,!1)}function fm(t,i,s){var l=$e;$e|=2;var f=V_(),d=P_();(st!==t||Le!==i)&&(Jc=null,Co(t,i)),i=!1;var v=Ct;e:do try{if(Ze!==0&&ke!==null){var S=ke,N=Hn;switch(Ze){case 8:hm(),v=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var G=Ze;if(Ze=0,Hn=null,Io(t,S,N,G),s&&wo){v=0;break e}break;default:G=Ze,Ze=0,Hn=null,Io(t,S,N,G)}}HA(),v=Ct;break}catch(X){O_(t,X)}while(!0);return i&&t.shellSuspendCounter++,yi=gs=null,$e=l,Y.H=f,Y.A=d,ke===null&&(st=null,Le=0,Ec()),v}function HA(){for(;ke!==null;)k_(ke)}function FA(t,i){var s=$e;$e|=2;var l=V_(),f=P_();st!==t||Le!==i?(Jc=null,Wc=Jt()+500,Co(t,i)):wo=hn(t,i);e:do try{if(Ze!==0&&ke!==null){i=ke;var d=Hn;t:switch(Ze){case 1:Ze=0,Hn=null,Io(t,i,d,1);break;case 2:case 9:if(Yy(d)){Ze=0,Hn=null,j_(i);break}i=function(){Ze!==2&&Ze!==9||st!==t||(Ze=7),Xr(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Yy(d)?(Ze=0,Hn=null,j_(i)):(Ze=0,Hn=null,Io(t,i,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var S=ke;if(v?bE(v):S.stateNode.complete){Ze=0,Hn=null;var N=S.sibling;if(N!==null)ke=N;else{var G=S.return;G!==null?(ke=G,th(G)):ke=null}break t}}Ze=0,Hn=null,Io(t,i,d,5);break;case 6:Ze=0,Hn=null,Io(t,i,d,6);break;case 8:hm(),Ct=6;break e;default:throw Error(a(462))}}GA();break}catch(X){O_(t,X)}while(!0);return yi=gs=null,Y.H=l,Y.A=f,$e=s,ke!==null?0:(st=null,Le=0,Ec(),Ct)}function GA(){for(;ke!==null&&!hl();)k_(ke)}function k_(t){var i=s_(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,i===null?th(t):ke=i}function j_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=e_(s,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=e_(s,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Cd(i);default:l_(s,i),i=ke=Py(i,Ci),i=s_(s,i,Ci)}t.memoizedProps=t.pendingProps,i===null?th(t):ke=i}function Io(t,i,s,l){yi=gs=null,Cd(i),yo=null,Pl=0;var f=i.return;try{if(MA(t,f,i,s,Le)){Ct=1,qc(t,tr(s,t.current)),ke=null;return}}catch(d){if(f!==null)throw ke=f,d;Ct=1,qc(t,tr(s,t.current)),ke=null;return}i.flags&32768?(He||l===1?t=!0:wo||(Le&536870912)!==0?t=!1:(fa=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L_(i,t)):th(i)}function th(t){var i=t;do{if((i.flags&32768)!==0){L_(i,fa);return}t=i.return;var s=kA(i.alternate,i,Ci);if(s!==null){ke=s;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);Ct===0&&(Ct=5)}function L_(t,i){do{var s=jA(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);Ct=6,ke=null}function U_(t,i,s,l,f,d,v,S,N){t.cancelPendingCommit=null;do nh();while(Yt!==0);if(($e&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=ed,Ks(t,s,d,v,S,N),t===st&&(ke=st=null,Le=0),Ro=i,ga=t,Ii=s,lm=d,um=f,I_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$A(Or,function(){return F_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=ie.p,ie.p=2,v=$e,$e|=4;try{LA(t,i,s)}finally{$e=v,ie.p=f,Y.T=l}}Yt=1,z_(),B_(),q_()}}function z_(){if(Yt===1){Yt=0;var t=ga,i=Ro,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=ie.p;ie.p=2;var f=$e;$e|=4;try{E_(i,t);var d=wm,v=Ry(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&Ay(S.ownerDocument.documentElement,S)){if(N!==null&&$f(S)){var G=N.start,X=N.end;if(X===void 0&&(X=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,Q=ee&&ee.defaultView||window;if(Q.getSelection){var $=Q.getSelection(),de=S.textContent.length,_e=Math.min(N.start,de),it=N.end===void 0?_e:Math.min(N.end,de);!$.extend&&_e>it&&(v=it,it=_e,_e=v);var j=wy(S,_e),P=wy(S,it);if(j&&P&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==P.node||$.focusOffset!==P.offset)){var F=ee.createRange();F.setStart(j.node,j.offset),$.removeAllRanges(),_e>it?($.addRange(F),$.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),$.addRange(F))}}}}for(ee=[],$=S;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}mh=!!Sm,wm=Sm=null}finally{$e=f,ie.p=l,Y.T=s}}t.current=i,Yt=2}}function B_(){if(Yt===2){Yt=0;var t=ga,i=Ro,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=ie.p;ie.p=2;var f=$e;$e|=4;try{g_(t,i.alternate,i)}finally{$e=f,ie.p=l,Y.T=s}}Yt=3}}function q_(){if(Yt===4||Yt===3){Yt=0,Ka();var t=ga,i=Ro,s=Ii,l=I_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,Ro=ga=null,H_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ma=null),Pn(s),i=i.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(cn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,f=ie.p,ie.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{Y.T=i,ie.p=f}}(Ii&3)!==0&&nh(),Xr(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===cm?Jl++:(Jl=0,cm=t):Jl=0,Zl(0)}}function H_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ml(i)))}function nh(){return z_(),B_(),q_(),F_()}function F_(){if(Yt!==5)return!1;var t=ga,i=lm;lm=0;var s=Pn(Ii),l=Y.T,f=ie.p;try{ie.p=32>s?32:s,Y.T=null,s=um,um=null;var d=ga,v=Ii;if(Yt=0,Ro=ga=null,Ii=0,($e&6)!==0)throw Error(a(331));var S=$e;if($e|=4,A_(d.current),b_(d,d.current,v,s),$e=S,Zl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(cn,d)}catch{}return!0}finally{ie.p=f,Y.T=l,H_(t,i)}}function G_(t,i,s){i=tr(s,i),i=qd(t.stateNode,i,2),t=la(t,i,2),t!==null&&(mr(t,2),Xr(t))}function et(t,i,s){if(t.tag===3)G_(t,t,s);else for(;i!==null;){if(i.tag===3){G_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){t=tr(s,t),s=Yv(2),l=la(i,s,2),l!==null&&(Qv(s,l,i,t),mr(l,2),Xr(l));break}}i=i.return}}function dm(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new BA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(am=!0,f.add(s),t=YA.bind(null,t,i,s),i.then(t,t))}function YA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,st===t&&(Le&s)===s&&(Ct===4||Ct===3&&(Le&62914560)===Le&&300>Jt()-Xc?($e&2)===0&&Co(t,0):sm|=s,Ao===Le&&(Ao=0)),Xr(t)}function Y_(t,i){i===0&&(i=_n()),t=fs(t,i),t!==null&&(mr(t,i),Xr(t))}function QA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),Y_(t,s)}function KA(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),Y_(t,s)}function $A(t,i){return Dt(t,i)}var rh=null,Do=null,mm=!1,ih=!1,gm=!1,ya=0;function Xr(t){t!==Do&&t.next===null&&(Do===null?rh=Do=t:Do=Do.next=t),ih=!0,mm||(mm=!0,WA())}function Zl(t,i){if(!gm&&ih){gm=!0;do for(var s=!1,l=rh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,X_(l,d))}else d=Le,d=ht(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hn(l,d)||(s=!0,X_(l,d));l=l.next}while(s);gm=!1}}function XA(){Q_()}function Q_(){ih=mm=!1;var t=0;ya!==0&&o1()&&(t=ya);for(var i=Jt(),s=null,l=rh;l!==null;){var f=l.next,d=K_(l,i);d===0?(l.next=null,s===null?rh=f:s.next=f,f===null&&(Do=s)):(s=l,(t!==0||(d&3)!==0)&&(ih=!0)),l=f}Yt!==0&&Yt!==5||Zl(t),ya!==0&&(ya=0)}function K_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-pt(d),S=1<<v,N=f[v];N===-1?((S&s)===0||(S&l)!==0)&&(f[v]=at(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=st,s=Le,s=ht(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&xr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||hn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&xr(l),Pn(s)){case 2:case 8:s=Xa;break;case 32:s=Or;break;case 268435456:s=Ja;break;default:s=Or}return l=$_.bind(null,t),s=Dt(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&xr(l),t.callbackPriority=2,t.callbackNode=null,2}function $_(t,i){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(nh()&&t.callbackNode!==s)return null;var l=Le;return l=ht(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(N_(t,l,i),K_(t,Jt()),t.callbackNode!=null&&t.callbackNode===s?$_.bind(null,t):null)}function X_(t,i){if(nh())return null;N_(t,i,!0)}function WA(){u1(function(){($e&6)!==0?Dt($a,XA):Q_()})}function pm(){if(ya===0){var t=mo;t===0&&(t=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),ya=t}return ya}function W_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Js(""+t)}function J_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function JA(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=W_((f[kt]||null).action),v=l.submitter;v&&(i=(i=v[kt]||null)?W_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new Hr("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ya!==0){var N=v?J_(f,v):new FormData(f);kd(s,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=v?J_(f,v):new FormData(f),kd(s,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var ym=0;ym<Zf.length;ym++){var vm=Zf[ym],ZA=vm.toLowerCase(),e1=vm[0].toUpperCase()+vm.slice(1);Tr(ZA,"on"+e1)}Tr(Dy,"onAnimationEnd"),Tr(Ny,"onAnimationIteration"),Tr(xy,"onAnimationStart"),Tr("dblclick","onDoubleClick"),Tr("focusin","onFocus"),Tr("focusout","onBlur"),Tr(pA,"onTransitionRun"),Tr(yA,"onTransitionStart"),Tr(vA,"onTransitionCancel"),Tr(Oy,"onTransitionEnd"),Ur("onMouseEnter",["mouseout","mouseover"]),Ur("onMouseLeave",["mouseout","mouseover"]),Ur("onPointerEnter",["pointerout","pointerover"]),Ur("onPointerLeave",["pointerout","pointerover"]),Lr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Lr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Lr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Lr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Lr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function Z_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],N=S.instance,G=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(X){_c(X)}f.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(S=l[v],N=S.instance,G=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=G;try{d(f)}catch(X){_c(X)}f.currentTarget=null,d=N}}}}function je(t,i){var s=i[Ne];s===void 0&&(s=i[Ne]=new Set);var l=t+"__bubble";s.has(l)||(eE(i,t,2,!1),s.add(l))}function _m(t,i,s){var l=0;i&&(l|=4),eE(s,t,l,i)}var ah="_reactListening"+Math.random().toString(36).slice(2);function Em(t){if(!t[ah]){t[ah]=!0,fl.forEach(function(s){s!=="selectionchange"&&(t1.has(s)||_m(s,!1,t),_m(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ah]||(i[ah]=!0,_m("selectionchange",!1,i))}}function eE(t,i,s,l){switch(DE(i)){case 2:var f=D1;break;case 8:f=N1;break;default:f=Pm}s=f.bind(null,i,s,t),f=void 0,!is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function Tm(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=Xn(S),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Ji(function(){var G=d,X=Wn(s),ee=[];e:{var Q=My.get(t);if(Q!==void 0){var $=Hr,de=t;switch(t){case"keypress":if(ss(s)===0)break e;case"keydown":case"keyup":$=pc;break;case"focusin":de="focus",$=ls;break;case"focusout":de="blur",$=ls;break;case"beforeblur":case"afterblur":$=ls;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case Dy:case Ny:case xy:$=uc;break;case Oy:$=w;break;case"scroll":case"scrollend":$=wl;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=mi;break;case"toggle":case"beforetoggle":$=xe}var _e=(i&4)!==0,it=!_e&&(t==="scroll"||t==="scrollend"),j=_e?Q!==null?Q+"Capture":null:Q;_e=[];for(var P=G,F;P!==null;){var Z=P;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||j===null||(Z=yr(P,j),Z!=null&&_e.push(tu(P,Z,F))),it)break;P=P.return}0<_e.length&&(Q=new $(Q,de,null,s,X),ee.push({event:Q,listeners:_e}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",Q&&s!==Tl&&(de=s.relatedTarget||s.fromElement)&&(Xn(de)||de[$n]))break e;if(($||Q)&&(Q=X.window===X?X:(Q=X.ownerDocument)?Q.defaultView||Q.parentWindow:window,$?(de=s.relatedTarget||s.toElement,$=G,de=de?Xn(de):null,de!==null&&(it=u(de),_e=de.tag,de!==it||_e!==5&&_e!==27&&_e!==6)&&(de=null)):($=null,de=G),$!==de)){if(_e=Al,Z="onMouseLeave",j="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(_e=mi,Z="onPointerLeave",j="onPointerEnter",P="pointer"),it=$==null?Q:jn($),F=de==null?Q:jn(de),Q=new _e(Z,P+"leave",$,s,X),Q.target=it,Q.relatedTarget=F,Z=null,Xn(X)===G&&(_e=new _e(j,P+"enter",de,s,X),_e.target=F,_e.relatedTarget=it,Z=_e),it=Z,$&&de)t:{for(_e=n1,j=$,P=de,F=0,Z=j;Z;Z=_e(Z))F++;Z=0;for(var ye=P;ye;ye=_e(ye))Z++;for(;0<F-Z;)j=_e(j),F--;for(;0<Z-F;)P=_e(P),Z--;for(;F--;){if(j===P||P!==null&&j===P.alternate){_e=j;break t}j=_e(j),P=_e(P)}_e=null}else _e=null;$!==null&&tE(ee,Q,$,_e,!1),de!==null&&it!==null&&tE(ee,it,de,_e,!0)}}e:{if(Q=G?jn(G):window,$=Q.nodeName&&Q.nodeName.toLowerCase(),$==="select"||$==="input"&&Q.type==="file")var Ye=vy;else if(py(Q))if(_y)Ye=dA;else{Ye=hA;var me=cA}else $=Q.nodeName,!$||$.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Ws(G.elementType)&&(Ye=vy):Ye=fA;if(Ye&&(Ye=Ye(t,G))){yy(ee,Ye,s,X);break e}me&&me(t,Q,G),t==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&vl(Q,"number",Q.value)}switch(me=G?jn(G):window,t){case"focusin":(py(me)||me.contentEditable==="true")&&(ao=me,Xf=G,Nl=null);break;case"focusout":Nl=Xf=ao=null;break;case"mousedown":Wf=!0;break;case"contextmenu":case"mouseup":case"dragend":Wf=!1,Cy(ee,s,X);break;case"selectionchange":if(gA)break;case"keydown":case"keyup":Cy(ee,s,X)}var Me;if(Ke)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else io?us(t,s)&&(Ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ue="onCompositionStart");Ue&&(Yr&&s.locale!=="ko"&&(io||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&io&&(Me=Sl()):(qr=X,bl="value"in qr?qr.value:qr.textContent,io=!0)),me=sh(G,Ue),0<me.length&&(Ue=new Gr(Ue,t,null,s,X),ee.push({event:Ue,listeners:me}),Me?Ue.data=Me:(Me=ro(s),Me!==null&&(Ue.data=Me)))),(Me=Zn?sA(t,s):oA(t,s))&&(Ue=sh(G,"onBeforeInput"),0<Ue.length&&(me=new Gr("onBeforeInput","beforeinput",null,s,X),ee.push({event:me,listeners:Ue}),me.data=Me)),JA(ee,t,G,s,X)}Z_(ee,i)})}function tu(t,i,s){return{instance:t,listener:i,currentTarget:s}}function sh(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=yr(t,s),f!=null&&l.unshift(tu(t,f,d)),f=yr(t,i),f!=null&&l.push(tu(t,f,d))),t.tag===3)return l;t=t.return}return[]}function n1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tE(t,i,s,l,f){for(var d=i._reactName,v=[];s!==null&&s!==l;){var S=s,N=S.alternate,G=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||G===null||(N=G,f?(G=yr(s,d),G!=null&&v.unshift(tu(s,G,N))):f||(G=yr(s,d),G!=null&&v.push(tu(s,G,N)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var r1=/\r\n?/g,i1=/\u0000|\uFFFD/g;function nE(t){return(typeof t=="string"?t:""+t).replace(r1,`
`).replace(i1,"")}function rE(t,i){return i=nE(i),nE(t)===i}function rt(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Rn(t,""+l);break;case"className":Ln(t,"class",l);break;case"tabIndex":Ln(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(t,s,l);break;case"style":El(t,l,d);break;case"data":if(i!=="object"){Ln(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Js(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&rt(t,i,"name",f.name,f,null),rt(t,i,"formEncType",f.formEncType,f,null),rt(t,i,"formMethod",f.formMethod,f,null),rt(t,i,"formTarget",f.formTarget,f,null)):(rt(t,i,"encType",f.encType,f,null),rt(t,i,"method",f.method,f,null),rt(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Js(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=pr);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Js(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":je("beforetoggle",t),je("toggle",t),$s(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$s(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=sc.get(s)||s,$s(t,s,l))}}function bm(t,i,s,l,f,d){switch(s){case"style":El(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Rn(t,l):(typeof l=="number"||typeof l=="bigint")&&Rn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[kt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):$s(t,s,l)}}}function rn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:rt(t,i,d,v,s,null)}}f&&rt(t,i,"srcSet",s.srcSet,s,null),l&&rt(t,i,"src",s.src,s,null);return;case"input":je("invalid",t);var S=d=v=f=null,N=null,G=null;for(l in s)if(s.hasOwnProperty(l)){var X=s[l];if(X!=null)switch(l){case"name":f=X;break;case"type":v=X;break;case"checked":N=X;break;case"defaultChecked":G=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:rt(t,i,l,X,s,null)}}rc(t,d,S,N,G,v,f,!1);return;case"select":je("invalid",t),l=v=d=null;for(f in s)if(s.hasOwnProperty(f)&&(S=s[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:rt(t,i,f,S,s,null)}i=d,s=v,t.multiple=!!l,i!=null?Ki(t,!!l,i,!1):s!=null&&Ki(t,!!l,s,!0);return;case"textarea":je("invalid",t),d=f=l=null;for(v in s)if(s.hasOwnProperty(v)&&(S=s[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:rt(t,i,v,S,s,null)}$i(t,l,f,d);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,i,N,l,s,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<eu.length;l++)je(eu[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in s)if(s.hasOwnProperty(G)&&(l=s[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:rt(t,i,G,l,s,null)}return;default:if(Ws(i)){for(X in s)s.hasOwnProperty(X)&&(l=s[X],l!==void 0&&bm(t,i,X,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&rt(t,i,S,l,s,null))}function a1(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,N=null,G=null,X=null;for($ in s){var ee=s[$];if(s.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty($)||rt(t,i,$,null,l,ee)}}for(var Q in l){var $=l[Q];if(ee=s[Q],l.hasOwnProperty(Q)&&($!=null||ee!=null))switch(Q){case"type":d=$;break;case"name":f=$;break;case"checked":G=$;break;case"defaultChecked":X=$;break;case"value":v=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:$!==ee&&rt(t,i,Q,$,l,ee)}}Xs(t,v,S,N,G,X,d,f);return;case"select":$=v=S=Q=null;for(d in s)if(N=s[d],s.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(d)||rt(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=s[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Q=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==N&&rt(t,i,f,d,l,N)}i=S,s=v,l=$,Q!=null?Ki(t,!!s,Q,!1):!!l!=!!s&&(i!=null?Ki(t,!!s,i,!0):Ki(t,!!s,s?[]:"",!1));return;case"textarea":$=Q=null;for(S in s)if(f=s[S],s.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(t,i,S,null,l,f)}for(v in l)if(f=l[v],d=s[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Q=f;break;case"defaultValue":$=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&rt(t,i,v,f,l,d)}ic(t,Q,$);return;case"option":for(var de in s)if(Q=s[de],s.hasOwnProperty(de)&&Q!=null&&!l.hasOwnProperty(de))switch(de){case"selected":t.selected=!1;break;default:rt(t,i,de,null,l,Q)}for(N in l)if(Q=l[N],$=s[N],l.hasOwnProperty(N)&&Q!==$&&(Q!=null||$!=null))switch(N){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:rt(t,i,N,Q,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in s)Q=s[_e],s.hasOwnProperty(_e)&&Q!=null&&!l.hasOwnProperty(_e)&&rt(t,i,_e,null,l,Q);for(G in l)if(Q=l[G],$=s[G],l.hasOwnProperty(G)&&Q!==$&&(Q!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:rt(t,i,G,Q,l,$)}return;default:if(Ws(i)){for(var it in s)Q=s[it],s.hasOwnProperty(it)&&Q!==void 0&&!l.hasOwnProperty(it)&&bm(t,i,it,void 0,l,Q);for(X in l)Q=l[X],$=s[X],!l.hasOwnProperty(X)||Q===$||Q===void 0&&$===void 0||bm(t,i,X,Q,l,$);return}}for(var j in s)Q=s[j],s.hasOwnProperty(j)&&Q!=null&&!l.hasOwnProperty(j)&&rt(t,i,j,null,l,Q);for(ee in l)Q=l[ee],$=s[ee],!l.hasOwnProperty(ee)||Q===$||Q==null&&$==null||rt(t,i,ee,Q,l,$)}function iE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&iE(v)){for(v=0,S=f.responseEnd,l+=1;l<s.length;l++){var N=s[l],G=N.startTime;if(G>S)break;var X=N.transferSize,ee=N.initiatorType;X&&iE(ee)&&(N=N.responseEnd,v+=X*(N<S?1:(S-G)/(N-G)))}if(--l,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sm=null,wm=null;function oh(t){return t.nodeType===9?t:t.ownerDocument}function aE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sE(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Am(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rm=null;function o1(){var t=window.event;return t&&t.type==="popstate"?t===Rm?!1:(Rm=t,!0):(Rm=null,!1)}var oE=typeof setTimeout=="function"?setTimeout:void 0,l1=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,u1=typeof queueMicrotask=="function"?queueMicrotask:typeof lE<"u"?function(t){return lE.resolve(null).then(t).catch(c1)}:oE;function c1(t){setTimeout(function(){throw t})}function va(t){return t==="head"}function uE(t,i){var s=i,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(f),Mo(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")nu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,nu(s);for(var d=s.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[At]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&nu(t.ownerDocument.body);s=f}while(s);Mo(i)}function cE(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Cm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Cm(s),kr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function h1(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[At])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=sr(t.nextSibling),t===null)break}return null}function f1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=sr(t.nextSibling),t===null))return null;return t}function hE(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=sr(t.nextSibling),t===null))return null;return t}function Im(t){return t.data==="$?"||t.data==="$~"}function Dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function d1(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function sr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Nm=null;function fE(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return sr(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function dE(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function mE(t,i,s){switch(i=oh(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function nu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);kr(t)}var or=new Map,gE=new Set;function lh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=ie.d;ie.d={f:m1,r:g1,D:p1,C:y1,L:v1,m:_1,X:T1,S:E1,M:b1};function m1(){var t=Di.f(),i=Zc();return t||i}function g1(t){var i=wn(t);i!==null&&i.tag===5&&i.type==="form"?Ov(i):Di.r(t)}var No=typeof document>"u"?null:document;function pE(t,i,s){var l=No;if(l&&typeof i=="string"&&i){var f=An(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),gE.has(f)||(gE.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),rn(i,"link",t),jt(i),l.head.appendChild(i)))}}function p1(t){Di.D(t),pE("dns-prefetch",t,null)}function y1(t,i){Di.C(t,i),pE("preconnect",t,i)}function v1(t,i,s){Di.L(t,i,s);var l=No;if(l&&t&&i){var f='link[rel="preload"][as="'+An(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+An(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+An(s.imageSizes)+'"]')):f+='[href="'+An(t)+'"]';var d=f;switch(i){case"style":d=xo(t);break;case"script":d=Oo(t)}or.has(d)||(t=b({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),or.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(ru(d))||i==="script"&&l.querySelector(iu(d))||(i=l.createElement("link"),rn(i,"link",t),jt(i),l.head.appendChild(i)))}}function _1(t,i){Di.m(t,i);var s=No;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oo(t)}if(!or.has(d)&&(t=b({rel:"modulepreload",href:t},i),or.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(iu(d)))return}l=s.createElement("link"),rn(l,"link",t),jt(l),s.head.appendChild(l)}}}function E1(t,i,s){Di.S(t,i,s);var l=No;if(l&&t){var f=jr(l).hoistableStyles,d=xo(t);i=i||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(ru(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},s),(s=or.get(d))&&xm(t,s);var N=v=l.createElement("link");jt(N),rn(N,"link",t),N._p=new Promise(function(G,X){N.onload=G,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,uh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function T1(t,i){Di.X(t,i);var s=No;if(s&&t){var l=jr(s).hoistableScripts,f=Oo(t),d=l.get(f);d||(d=s.querySelector(iu(f)),d||(t=b({src:t,async:!0},i),(i=or.get(f))&&Om(t,i),d=s.createElement("script"),jt(d),rn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function b1(t,i){Di.M(t,i);var s=No;if(s&&t){var l=jr(s).hoistableScripts,f=Oo(t),d=l.get(f);d||(d=s.querySelector(iu(f)),d||(t=b({src:t,async:!0,type:"module"},i),(i=or.get(f))&&Om(t,i),d=s.createElement("script"),jt(d),rn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function yE(t,i,s,l){var f=(f=Ae.current)?lh(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=xo(s.href),s=jr(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=xo(s.href);var d=jr(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(ru(t)))&&!d._p&&(v.instance=d,v.state.loading=5),or.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},or.set(t,s),d||S1(f,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oo(s),s=jr(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function xo(t){return'href="'+An(t)+'"'}function ru(t){return'link[rel="stylesheet"]['+t+"]"}function vE(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function S1(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),rn(i,"link",s),jt(i),t.head.appendChild(i))}function Oo(t){return'[src="'+An(t)+'"]'}function iu(t){return"script[async]"+t}function _E(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+An(s.href)+'"]');if(l)return i.instance=l,jt(l),l;var f=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),rn(l,"style",f),uh(l,s.precedence,t),i.instance=l;case"stylesheet":f=xo(s.href);var d=t.querySelector(ru(f));if(d)return i.state.loading|=4,i.instance=d,jt(d),d;l=vE(s),(f=or.get(f))&&xm(l,f),d=(t.ownerDocument||t).createElement("link"),jt(d);var v=d;return v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),rn(d,"link",l),i.state.loading|=4,uh(d,s.precedence,t),i.instance=d;case"script":return d=Oo(s.src),(f=t.querySelector(iu(d)))?(i.instance=f,jt(f),f):(l=s,(f=or.get(d))&&(l=b({},s),Om(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),jt(f),rn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,uh(l,s.precedence,t));return i.instance}function uh(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function xm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ch=null;function EE(t,i,s){if(ch===null){var l=new Map,f=ch=new Map;f.set(s,l)}else f=ch,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[At]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function TE(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function w1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function bE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function A1(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=xo(l.href),d=i.querySelector(ru(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=hh.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,jt(d);return}d=i.ownerDocument||i,l=vE(l),(f=or.get(f))&&xm(l,f),d=d.createElement("link"),jt(d);var v=d;v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),rn(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=hh.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Mm=0;function R1(t,i){return t.stylesheets&&t.count===0&&dh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Mm===0&&(Mm=62500*s1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Mm?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fh=null;function dh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fh=new Map,i.forEach(C1,t),fh=null,hh.call(t))}function C1(t,i){if(!(i.state.loading&4)){var s=fh.get(t);if(s)var l=s.get(null);else{s=new Map,fh.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,f),s.set(v,f),this.count++,l=hh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var au={$$typeof:re,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function I1(t,i,s,l,f,d,v,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kn(0),this.hiddenUpdates=Kn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function SE(t,i,s,l,f,d,v,S,N,G,X,ee){return t=new I1(t,i,s,v,N,G,X,ee,S),i=1,d===!0&&(i|=24),d=zn(3,null,null,i),t.current=d,d.stateNode=t,i=fd(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},pd(d),t}function wE(t){return t?(t=lo,t):lo}function AE(t,i,s,l,f,d){f=wE(f),l.context===null?l.context=f:l.pendingContext=f,l=oa(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=la(t,l,i),s!==null&&(xn(s,t,i),jl(s,t,i))}function RE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Vm(t,i){RE(t,i),(t=t.alternate)&&RE(t,i)}function CE(t){if(t.tag===13||t.tag===31){var i=fs(t,67108864);i!==null&&xn(i,t,67108864),Vm(t,67108864)}}function IE(t){if(t.tag===13||t.tag===31){var i=Gn();i=gr(i);var s=fs(t,i);s!==null&&xn(s,t,i),Vm(t,i)}}var mh=!0;function D1(t,i,s,l){var f=Y.T;Y.T=null;var d=ie.p;try{ie.p=2,Pm(t,i,s,l)}finally{ie.p=d,Y.T=f}}function N1(t,i,s,l){var f=Y.T;Y.T=null;var d=ie.p;try{ie.p=8,Pm(t,i,s,l)}finally{ie.p=d,Y.T=f}}function Pm(t,i,s,l){if(mh){var f=km(l);if(f===null)Tm(t,i,l,gh,s),NE(t,l);else if(O1(f,t,i,s,l))l.stopPropagation();else if(NE(t,l),i&4&&-1<x1.indexOf(t)){for(;f!==null;){var d=wn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ct(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var N=1<<31-pt(v);S.entanglements[1]|=N,v&=~N}Xr(d),($e&6)===0&&(Wc=Jt()+500,Zl(0))}}break;case 31:case 13:S=fs(d,2),S!==null&&xn(S,d,2),Zc(),Vm(d,2)}if(d=km(l),d===null&&Tm(t,i,l,gh,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else Tm(t,i,l,null,s)}}function km(t){return t=Wn(t),jm(t)}var gh=null;function jm(t){if(gh=null,t=Xn(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return gh=t,null}function DE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ui()){case $a:return 2;case Xa:return 8;case Or:case Wa:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var Lm=!1,_a=null,Ea=null,Ta=null,su=new Map,ou=new Map,ba=[],x1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NE(t,i){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":su.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(i.pointerId)}}function lu(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=wn(i),i!==null&&CE(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function O1(t,i,s,l,f){switch(i){case"focusin":return _a=lu(_a,t,i,s,l,f),!0;case"dragenter":return Ea=lu(Ea,t,i,s,l,f),!0;case"mouseover":return Ta=lu(Ta,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return su.set(d,lu(su.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,ou.set(d,lu(ou.get(d)||null,t,i,s,l,f)),!0}return!1}function xE(t){var i=Xn(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,kn(t.priority,function(){IE(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,kn(t.priority,function(){IE(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=km(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Tl=l,s.target.dispatchEvent(l),Tl=null}else return i=wn(s),i!==null&&CE(i),t.blockedOn=s,!1;i.shift()}return!0}function OE(t,i,s){ph(t)&&s.delete(i)}function M1(){Lm=!1,_a!==null&&ph(_a)&&(_a=null),Ea!==null&&ph(Ea)&&(Ea=null),Ta!==null&&ph(Ta)&&(Ta=null),su.forEach(OE),ou.forEach(OE)}function yh(t,i){t.blockedOn===i&&(t.blockedOn=null,Lm||(Lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,M1)))}var vh=null;function ME(t){vh!==t&&(vh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vh===t&&(vh=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(jm(l||s)===null)continue;break}var d=wn(s);d!==null&&(t.splice(i,3),i-=3,kd(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Mo(t){function i(N){return yh(N,t)}_a!==null&&yh(_a,t),Ea!==null&&yh(Ea,t),Ta!==null&&yh(Ta,t),su.forEach(i),ou.forEach(i);for(var s=0;s<ba.length;s++){var l=ba[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ba.length&&(s=ba[0],s.blockedOn===null);)xE(s),s.blockedOn===null&&ba.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],v=f[kt]||null;if(typeof d=="function")v||ME(s);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[kt]||null)S=v.formAction;else if(jm(f)!==null)continue}else S=v.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),ME(s)}}}function VE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Um(t){this._internalRoot=t}_h.prototype.render=Um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Gn();AE(s,l,t,i,null,null)},_h.prototype.unmount=Um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;AE(t.current,2,null,t,null,null),Zc(),i[$n]=null}};function _h(t){this._internalRoot=t}_h.prototype.unstable_scheduleHydration=function(t){if(t){var i=Yi();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ba.length&&i!==0&&i<ba[s].priority;s++);ba.splice(s,0,t),s===0&&xE(t)}};var PE=e.version;if(PE!=="19.2.0")throw Error(a(527,PE,"19.2.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var V1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{cn=Eh.inject(V1),Pt=Eh}catch{}}return cu.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=qv,d=Hv,v=Fv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=SE(t,1,!1,null,null,s,l,null,f,d,v,VE),t[$n]=i.current,Em(t),new Um(i)},cu.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=qv,v=Hv,S=Fv,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),i=SE(t,1,!0,i,s??null,l,f,N,d,v,S,VE),i.context=wE(null),s=i.current,l=Gn(),l=gr(l),f=oa(l),f.callback=null,la(s,f,l),s=l,i.current.lanes=s,mr(i,s),Xr(i),t[$n]=i.current,Em(t),new _h(i)},cu.version="19.2.0",cu}var GE;function F1(){if(GE)return qm.exports;GE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qm.exports=H1(),qm.exports}var G1=F1();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var YE="popstate";function Y1(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ks(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),mg("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Ru(u))}function a(o,u){Ar(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return K1(e,n,a,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ar(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Q1(){return Math.random().toString(36).substring(2,10)}function QE(r,e){return{usr:r.state,key:r.key,idx:e}}function mg(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ks(e):e,state:n,key:e&&e.key||a||Q1()}}function Ru({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ks(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function K1(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",p=null,g=T();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function T(){return(h.state||{idx:null}).idx}function b(){m="POP";let L=T(),U=L==null?null:L-g;g=L,p&&p({action:m,location:B.location,delta:U})}function R(L,U){m="PUSH";let W=mg(B.location,L,U);n&&n(W,L),g=T()+1;let re=QE(W,g),se=B.createHref(W);try{h.pushState(re,"",se)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;o.location.assign(se)}u&&p&&p({action:m,location:B.location,delta:1})}function O(L,U){m="REPLACE";let W=mg(B.location,L,U);n&&n(W,L),g=T();let re=QE(W,g),se=B.createHref(W);h.replaceState(re,"",se),u&&p&&p({action:m,location:B.location,delta:0})}function H(L){return $1(L)}let B={get action(){return m},get location(){return r(o,h)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(YE,b),p=L,()=>{o.removeEventListener(YE,b),p=null}},createHref(L){return e(o,L)},createURL:H,encodeLocation(L){let U=H(L);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:R,replace:O,go(L){return h.go(L)}};return B}function $1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Ru(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Gb(r,e,n="/"){return X1(r,e,n,!1)}function X1(r,e,n,a){let o=typeof e=="string"?ks(e):e,u=ki(o.pathname||"/",n);if(u==null)return null;let h=Yb(r);W1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=lR(u);m=sR(h[p],g,a)}return m}function Yb(r,e=[],n=[],a="",o=!1){let u=(h,m,p=o,g)=>{let T={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(a)&&p)return;St(T.relativePath.startsWith(a),`Absolute route path "${T.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(a.length)}let b=Mi([a,T.relativePath]),R=n.concat(T);h.children&&h.children.length>0&&(St(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Yb(h.children,e,R,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:iR(b,h.index),routesMeta:R})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of Qb(h.path))u(h,m,!0,p)}),e}function Qb(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=Qb(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function W1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:aR(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var J1=/^:[\w-]+$/,Z1=3,eR=2,tR=1,nR=10,rR=-2,KE=r=>r==="*";function iR(r,e){let n=r.split("/"),a=n.length;return n.some(KE)&&(a+=rR),e&&(a+=eR),n.filter(o=>!KE(o)).reduce((o,u)=>o+(J1.test(u)?Z1:u===""?tR:nR),a)}function aR(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function sR(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),R=p.route;if(!b&&g&&n&&!a[a.length-1].route.index&&(b=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:Mi([u,b.pathname]),pathnameBase:fR(Mi([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=Mi([u,b.pathnameBase]))}return h}function Fh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=oR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:T,isOptional:b},R)=>{if(T==="*"){let H=m[R]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const O=m[R];return b&&!O?g[T]=void 0:g[T]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function oR(r,e=!1,n=!0){Ar(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function lR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ar(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ki(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function uR(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?ks(r):r;return{pathname:n?n.startsWith("/")?n:cR(n,e):e,search:dR(a),hash:mR(o)}}function cR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ym(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Kb(r){let e=hR(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function $b(r,e,n,a=!1){let o;typeof r=="string"?o=ks(r):(o={...r},St(!o.pathname||!o.pathname.includes("?"),Ym("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),Ym("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),Ym("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!a&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let p=uR(o,m),g=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var Mi=r=>r.join("/").replace(/\/\/+/g,"/"),fR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),dR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,mR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function gR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Xb=["POST","PUT","PATCH","DELETE"];new Set(Xb);var pR=["GET",...Xb];new Set(pR);var tl=z.createContext(null);tl.displayName="DataRouter";var mf=z.createContext(null);mf.displayName="DataRouterState";z.createContext(!1);var Wb=z.createContext({isTransitioning:!1});Wb.displayName="ViewTransition";var yR=z.createContext(new Map);yR.displayName="Fetchers";var vR=z.createContext(null);vR.displayName="Await";var li=z.createContext(null);li.displayName="Navigation";var ku=z.createContext(null);ku.displayName="Location";var qi=z.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var ap=z.createContext(null);ap.displayName="RouteError";function _R(r,{relative:e}={}){St(ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(li),{hash:o,pathname:u,search:h}=Lu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Mi([n,u])),a.createHref({pathname:m,search:h,hash:o})}function ju(){return z.useContext(ku)!=null}function js(){return St(ju(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(ku).location}var Jb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zb(r){z.useContext(li).static||z.useLayoutEffect(r)}function sp(){let{isDataRoute:r}=z.useContext(qi);return r?OR():ER()}function ER(){St(ju(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(tl),{basename:e,navigator:n}=z.useContext(li),{matches:a}=z.useContext(qi),{pathname:o}=js(),u=JSON.stringify(Kb(a)),h=z.useRef(!1);return Zb(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(Ar(h.current,Jb),!h.current)return;if(typeof p=="number"){n.go(p);return}let T=$b(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Mi([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}z.createContext(null);function Lu(r,{relative:e}={}){let{matches:n}=z.useContext(qi),{pathname:a}=js(),o=JSON.stringify(Kb(n));return z.useMemo(()=>$b(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function TR(r,e){return e0(r,e)}function e0(r,e,n,a,o){St(ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(li),{matches:h}=z.useContext(qi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let W=b&&b.path||"";t0(g,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let R=js(),O;if(e){let W=typeof e=="string"?ks(e):e;St(T==="/"||W.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),O=W}else O=R;let H=O.pathname||"/",B=H;if(T!=="/"){let W=T.replace(/^\//,"").split("/");B="/"+H.replace(/^\//,"").split("/").slice(W.length).join("/")}let L=Gb(r,{pathname:B});Ar(b||L!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Ar(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=RR(L&&L.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:Mi([T,u.encodeLocation?u.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:Mi([T,u.encodeLocation?u.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),h,n,a,o);return e&&U?z.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},U):U}function bR(){let r=xR(),e=gR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var SR=z.createElement(bR,null),wR=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(qi.Provider,{value:this.props.routeContext},z.createElement(ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AR({routeContext:r,match:e,children:n}){let a=z.useContext(tl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(qi.Provider,{value:r},n)}function RR(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);St(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let T=u[g];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=g),T.route.id){let{loaderData:b,errors:R}=n,O=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!R||R[T.route.id]===void 0);if(T.route.lazy||O){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,T,b)=>{let R,O=!1,H=null,B=null;n&&(R=h&&T.route.id?h[T.route.id]:void 0,H=T.route.errorElement||SR,m&&(p<0&&b===0?(t0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,B=null):p===b&&(O=!0,B=T.route.hydrateFallbackElement||null)));let L=e.concat(u.slice(0,b+1)),U=()=>{let W;return R?W=H:O?W=B:T.route.Component?W=z.createElement(T.route.Component,null):T.route.element?W=T.route.element:W=g,z.createElement(AR,{match:T,routeContext:{outlet:g,matches:L,isDataRoute:n!=null},children:W})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?z.createElement(wR,{location:n.location,revalidation:n.revalidation,component:H,error:R,children:U(),routeContext:{outlet:null,matches:L,isDataRoute:!0},unstable_onError:a}):U()},null)}function op(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CR(r){let e=z.useContext(tl);return St(e,op(r)),e}function IR(r){let e=z.useContext(mf);return St(e,op(r)),e}function DR(r){let e=z.useContext(qi);return St(e,op(r)),e}function lp(r){let e=DR(r),n=e.matches[e.matches.length-1];return St(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function NR(){return lp("useRouteId")}function xR(){let r=z.useContext(ap),e=IR("useRouteError"),n=lp("useRouteError");return r!==void 0?r:e.errors?.[n]}function OR(){let{router:r}=CR("useNavigate"),e=lp("useNavigate"),n=z.useRef(!1);return Zb(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Ar(n.current,Jb),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var $E={};function t0(r,e,n){!e&&!$E[r]&&($E[r]=!0,Ar(!1,n))}z.memo(MR);function MR({routes:r,future:e,state:n,unstable_onError:a}){return e0(r,void 0,n,a,e)}function Aa(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VR({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){St(!ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ks(n));let{pathname:p="/",search:g="",hash:T="",state:b=null,key:R="default"}=n,O=z.useMemo(()=>{let H=ki(p,h);return H==null?null:{location:{pathname:H,search:g,hash:T,state:b,key:R},navigationType:a}},[h,p,g,T,b,R,a]);return Ar(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:z.createElement(li.Provider,{value:m},z.createElement(ku.Provider,{children:e,value:O}))}function PR({children:r,location:e}){return TR(gg(r),e)}function gg(r,e=[]){let n=[];return z.Children.forEach(r,(a,o)=>{if(!z.isValidElement(a))return;let u=[...e,o];if(a.type===z.Fragment){n.push.apply(n,gg(a.props.children,u));return}St(a.type===Aa,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=gg(a.props.children,u)),n.push(h)}),n}var xh="get",Oh="application/x-www-form-urlencoded";function gf(r){return r!=null&&typeof r.tagName=="string"}function kR(r){return gf(r)&&r.tagName.toLowerCase()==="button"}function jR(r){return gf(r)&&r.tagName.toLowerCase()==="form"}function LR(r){return gf(r)&&r.tagName.toLowerCase()==="input"}function UR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function zR(r,e){return r.button===0&&(!e||e==="_self")&&!UR(r)}var Th=null;function BR(){if(Th===null)try{new FormData(document.createElement("form"),0),Th=!1}catch{Th=!0}return Th}var qR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(r){return r!=null&&!qR.has(r)?(Ar(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):r}function HR(r,e){let n,a,o,u,h;if(jR(r)){let m=r.getAttribute("action");a=m?ki(m,e):null,n=r.getAttribute("method")||xh,o=Qm(r.getAttribute("enctype"))||Oh,u=new FormData(r)}else if(kR(r)||LR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?ki(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||xh,o=Qm(r.getAttribute("formenctype"))||Qm(m.getAttribute("enctype"))||Oh,u=new FormData(m,r),!BR()){let{name:g,type:T,value:b}=r;if(T==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,b)}}else{if(gf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xh,a=null,o=Oh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function up(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function FR(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&ki(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function GR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function QR(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await GR(u,n);return h.links?h.links():[]}return[]}));return WR(a.flat(1).filter(YR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function XE(r,e,n,a,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let T=a.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function KR(r,e,{includeHydrateFallback:n}={}){return $R(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $R(r){return[...new Set(r)]}function XR(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function WR(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(XR(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function n0(){let r=z.useContext(tl);return up(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function JR(){let r=z.useContext(mf);return up(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cp=z.createContext(void 0);cp.displayName="FrameworkContext";function r0(){let r=z.useContext(cp);return up(r,"You must render this element inside a <HydratedRouter> element"),r}function ZR(r,e){let n=z.useContext(cp),[a,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,R=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let B=U=>{U.forEach(W=>{h(W.isIntersecting)})},L=new IntersectionObserver(B,{threshold:.5});return R.current&&L.observe(R.current),()=>{L.disconnect()}}},[r]),z.useEffect(()=>{if(a){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[a]);let O=()=>{o(!0)},H=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:hu(m,O),onBlur:hu(p,H),onMouseEnter:hu(g,O),onMouseLeave:hu(T,H),onTouchStart:hu(b,O)}]:[!1,R,{}]}function hu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function eC({page:r,...e}){let{router:n}=n0(),a=z.useMemo(()=>Gb(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?z.createElement(nC,{page:r,matches:a,...e}):null}function tC(r){let{manifest:e,routeModules:n}=r0(),[a,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return QR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),a}function nC({page:r,matches:e,...n}){let a=js(),{manifest:o,routeModules:u}=r0(),{basename:h}=n0(),{loaderData:m,matches:p}=JR(),g=z.useMemo(()=>XE(r,e,p,o,a,"data"),[r,e,p,o,a]),T=z.useMemo(()=>XE(r,e,p,o,a,"assets"),[r,e,p,o,a]),b=z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let H=new Set,B=!1;if(e.forEach(U=>{let W=o.routes[U.route.id];!W||!W.hasLoader||(!g.some(re=>re.route.id===U.route.id)&&U.route.id in m&&u[U.route.id]?.shouldRevalidate||W.hasClientLoader?B=!0:H.add(U.route.id))}),H.size===0)return[];let L=FR(r,h,"data");return B&&H.size>0&&L.searchParams.set("_routes",e.filter(U=>H.has(U.route.id)).map(U=>U.route.id).join(",")),[L.pathname+L.search]},[h,m,a,o,g,e,r,u]),R=z.useMemo(()=>KR(T,o),[T,o]),O=tC(T);return z.createElement(z.Fragment,null,b.map(H=>z.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),R.map(H=>z.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),O.map(({key:H,link:B})=>z.createElement("link",{key:H,nonce:n.nonce,...B})))}function rC(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var i0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i0&&(window.__reactRouterVersion="7.9.5")}catch{}function iC({basename:r,children:e,window:n}){let a=z.useRef();a.current==null&&(a.current=Y1({window:n,v5Compat:!0}));let o=a.current,[u,h]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(VR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var a0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,...R},O){let{basename:H}=z.useContext(li),B=typeof g=="string"&&a0.test(g),L,U=!1;if(typeof g=="string"&&B&&(L=g,i0))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),x=ki(M.pathname,H);M.origin===I.origin&&x!=null?g=x+M.search+M.hash:U=!0}catch{Ar(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=_R(g,{relative:o}),[re,se,fe]=ZR(a,R),ge=lC(g,{replace:h,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function D(I){e&&e(I),I.defaultPrevented||ge(I)}let A=z.createElement("a",{...R,...fe,href:L||W,onClick:U||u?e:D,ref:rC(O,se),target:p,"data-discover":!B&&n==="render"?"true":void 0});return re&&!B?z.createElement(z.Fragment,null,A,z.createElement(eC,{page:W})):A});Ee.displayName="Link";var aC=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},T){let b=Lu(h,{relative:g.relative}),R=js(),O=z.useContext(mf),{navigator:H,basename:B}=z.useContext(li),L=O!=null&&dC(b)&&m===!0,U=H.encodeLocation?H.encodeLocation(b).pathname:b.pathname,W=R.pathname,re=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(W=W.toLowerCase(),re=re?re.toLowerCase():null,U=U.toLowerCase()),re&&B&&(re=ki(re,B)||re);const se=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let fe=W===U||!o&&W.startsWith(U)&&W.charAt(se)==="/",ge=re!=null&&(re===U||!o&&re.startsWith(U)&&re.charAt(U.length)==="/"),D={isActive:fe,isPending:ge,isTransitioning:L},A=fe?e:void 0,I;typeof a=="function"?I=a(D):I=[a,fe?"active":null,ge?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(D):u;return z.createElement(Ee,{...g,"aria-current":A,className:I,ref:T,style:M,to:h,viewTransition:m},typeof p=="function"?p(D):p)});aC.displayName="NavLink";var sC=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=xh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,...R},O)=>{let H=hC(),B=fC(m,{relative:g}),L=h.toLowerCase()==="get"?"get":"post",U=typeof m=="string"&&a0.test(m),W=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let se=re.nativeEvent.submitter,fe=se?.getAttribute("formmethod")||h;H(se||re.currentTarget,{fetcherKey:e,method:fe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b})};return z.createElement("form",{ref:O,method:L,action:B,onSubmit:a?p:W,...R,"data-discover":!U&&r==="render"?"true":void 0})});sC.displayName="Form";function oC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s0(r){let e=z.useContext(tl);return St(e,oC(r)),e}function lC(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=sp(),p=js(),g=Lu(r,{relative:u});return z.useCallback(T=>{if(zR(T,e)){T.preventDefault();let b=n!==void 0?n:Ru(p)===Ru(g);m(r,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,a,e,r,o,u,h])}var uC=0,cC=()=>`__${String(++uC)}__`;function hC(){let{router:r}=s0("useSubmit"),{basename:e}=z.useContext(li),n=NR();return z.useCallback(async(a,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=HR(a,e);if(o.navigate===!1){let T=o.fetcherKey||cC();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function fC(r,{relative:e}={}){let{basename:n}=z.useContext(li),a=z.useContext(qi);St(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Lu(r||".",{relative:e})},h=js();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Mi([n,u.pathname])),Ru(u)}function dC(r,{relative:e}={}){let n=z.useContext(Wb);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=s0("useViewTransitionState"),o=Lu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ki(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=ki(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Fh(o.pathname,h)!=null||Fh(o.pathname,u)!=null}const mC=()=>{};var WE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},gC=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},l0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(R=64)),a.push(n[T],n[b],n[R],n[O])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(o0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):gC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new pC;const R=u<<2|m>>4;if(a.push(R),g!==64){const O=m<<4&240|g>>2;if(a.push(O),b!==64){const H=g<<6&192|b;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class pC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yC=function(r){const e=o0(r);return l0.encodeByteArray(e,!0)},Gh=function(r){return yC(r).replace(/\./g,"")},u0=function(r){try{return l0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=()=>vC().__FIREBASE_DEFAULTS__,EC=()=>{if(typeof process>"u"||typeof WE>"u")return;const r=WE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&u0(r[1]);return e&&JSON.parse(e)},pf=()=>{try{return mC()||_C()||EC()||TC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},c0=r=>pf()?.emulatorHosts?.[r],bC=r=>{const e=c0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},h0=()=>pf()?.config,f0=r=>pf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gh(JSON.stringify(n)),Gh(JSON.stringify(h)),""].join(".")}const Eu={};function AC(){const r={prod:[],emulator:[]};for(const e of Object.keys(Eu))Eu[e]?r.emulator.push(e):r.prod.push(e);return r}function RC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let JE=!1;function m0(r,e){if(typeof window>"u"||typeof document>"u"||!nl(window.location.host)||Eu[r]===e||Eu[r]||JE)return;Eu[r]=e;function n(R){return`__firebase__banner__${R}`}const a="__firebase__banner",u=AC().prod.length>0;function h(){const R=document.getElementById(a);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,O){R.setAttribute("width","24"),R.setAttribute("id",O),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{JE=!0,h()},R}function T(R,O){R.setAttribute("id",O),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=RC(a),O=n("text"),H=document.getElementById(O)||document.createElement("span"),B=n("learnmore"),L=document.getElementById(B)||document.createElement("a"),U=n("preprendIcon"),W=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const re=R.element;m(re),T(L,B);const se=g();p(W,U),re.append(W,H,L,se),document.body.appendChild(re)}u?(H.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function IC(){const r=pf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OC(){const r=vn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function MC(){return!IC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VC(){try{return typeof indexedDB=="object"}catch{return!1}}function PC(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="FirebaseError";class Hi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=kC,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?jC(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Hi(o,m,a)}}function jC(r,e){return r.replace(LC,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const LC=/\{\$([^}]+)}/g;function UC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ji(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(ZE(u)&&ZE(h)){if(!ji(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function ZE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function du(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function mu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function zC(r,e){const n=new BC(r,e);return n.subscribe.bind(n)}class BC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");qC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Km),o.error===void 0&&(o.error=Km),o.complete===void 0&&(o.complete=Km);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(r){return r&&r._delegate?r._delegate:r}class Ns{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new SC;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GC(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:FC(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FC(r){return r===As?void 0:r}function GC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const QC={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},KC=ze.INFO,$C={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},XC=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=$C[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=KC,this._logHandler=XC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const WC=(r,e)=>e.some(n=>r instanceof n);let eT,tT;function JC(){return eT||(eT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZC(){return tT||(tT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g0=new WeakMap,pg=new WeakMap,p0=new WeakMap,$m=new WeakMap,fp=new WeakMap;function eI(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(xa(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&g0.set(n,r)}).catch(()=>{}),fp.set(e,r),e}function tI(r){if(pg.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});pg.set(r,e)}let yg={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return pg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||p0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function nI(r){yg=r(yg)}function rI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Xm(this),e,...n);return p0.set(a,e.sort?e.sort():[e]),xa(a)}:ZC().includes(r)?function(...e){return r.apply(Xm(this),e),xa(g0.get(this))}:function(...e){return xa(r.apply(Xm(this),e))}}function iI(r){return typeof r=="function"?rI(r):(r instanceof IDBTransaction&&tI(r),WC(r,JC())?new Proxy(r,yg):r)}function xa(r){if(r instanceof IDBRequest)return eI(r);if($m.has(r))return $m.get(r);const e=iI(r);return e!==r&&($m.set(r,e),fp.set(e,r)),e}const Xm=r=>fp.get(r);function aI(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=xa(h);return a&&h.addEventListener("upgradeneeded",p=>{a(xa(h.result),p.oldVersion,p.newVersion,xa(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const sI=["get","getKey","getAll","getAllKeys","count"],oI=["put","add","delete","clear"],Wm=new Map;function nT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wm.get(e))return Wm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=oI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||sI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Wm.set(e,u),u}nI(r=>({...r,get:(e,n,a)=>nT(e,n)||r.get(e,n,a),has:(e,n)=>!!nT(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function uI(r){return r.getComponent()?.type==="VERSION"}const vg="@firebase/app",rT="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new hp("@firebase/app"),cI="@firebase/app-compat",hI="@firebase/analytics-compat",fI="@firebase/analytics",dI="@firebase/app-check-compat",mI="@firebase/app-check",gI="@firebase/auth",pI="@firebase/auth-compat",yI="@firebase/database",vI="@firebase/data-connect",_I="@firebase/database-compat",EI="@firebase/functions",TI="@firebase/functions-compat",bI="@firebase/installations",SI="@firebase/installations-compat",wI="@firebase/messaging",AI="@firebase/messaging-compat",RI="@firebase/performance",CI="@firebase/performance-compat",II="@firebase/remote-config",DI="@firebase/remote-config-compat",NI="@firebase/storage",xI="@firebase/storage-compat",OI="@firebase/firestore",MI="@firebase/ai",VI="@firebase/firestore-compat",PI="firebase",kI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="[DEFAULT]",jI={[vg]:"fire-core",[cI]:"fire-core-compat",[fI]:"fire-analytics",[hI]:"fire-analytics-compat",[mI]:"fire-app-check",[dI]:"fire-app-check-compat",[gI]:"fire-auth",[pI]:"fire-auth-compat",[yI]:"fire-rtdb",[vI]:"fire-data-connect",[_I]:"fire-rtdb-compat",[EI]:"fire-fn",[TI]:"fire-fn-compat",[bI]:"fire-iid",[SI]:"fire-iid-compat",[wI]:"fire-fcm",[AI]:"fire-fcm-compat",[RI]:"fire-perf",[CI]:"fire-perf-compat",[II]:"fire-rc",[DI]:"fire-rc-compat",[NI]:"fire-gcs",[xI]:"fire-gcs-compat",[OI]:"fire-fst",[VI]:"fire-fst-compat",[MI]:"fire-vertex","fire-js":"fire-js",[PI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,LI=new Map,Eg=new Map;function iT(r,e){try{r.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Yo(r){const e=r.name;if(Eg.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Eg.set(e,r);for(const n of Yh.values())iT(n,r);for(const n of LI.values())iT(n,r);return!0}function dp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function lr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new Uu("app","Firebase",UI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=kI;function y0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:_g,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Oa.create("bad-app-name",{appName:String(o)});if(n||(n=h0()),!n)throw Oa.create("no-options");const u=Yh.get(o);if(u){if(ji(n,u.options)&&ji(a,u.config))return u;throw Oa.create("duplicate-app",{appName:o})}const h=new YC(o);for(const p of Eg.values())h.addComponent(p);const m=new zI(n,a,h);return Yh.set(o,m),m}function v0(r=_g){const e=Yh.get(r);if(!e&&r===_g&&h0())return y0();if(!e)throw Oa.create("no-app",{appName:r});return e}function Ma(r,e,n){let a=jI[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(h.join(" "));return}Yo(new Ns(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="firebase-heartbeat-database",qI=1,Cu="firebase-heartbeat-store";let Jm=null;function _0(){return Jm||(Jm=aI(BI,qI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Oa.create("idb-open",{originalErrorMessage:r.message})})),Jm}async function HI(r){try{const n=(await _0()).transaction(Cu),a=await n.objectStore(Cu).get(E0(r));return await n.done,a}catch(e){if(e instanceof Hi)Li.warn(e.message);else{const n=Oa.create("idb-get",{originalErrorMessage:e?.message});Li.warn(n.message)}}}async function aT(r,e){try{const a=(await _0()).transaction(Cu,"readwrite");await a.objectStore(Cu).put(e,E0(r)),await a.done}catch(n){if(n instanceof Hi)Li.warn(n.message);else{const a=Oa.create("idb-set",{originalErrorMessage:n?.message});Li.warn(a.message)}}}function E0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=1024,GI=30;class YI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>GI){const o=$I(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sT(),{heartbeatsToSend:n,unsentEntries:a}=QI(this._heartbeatsCache.heartbeats),o=Gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Li.warn(e),""}}}function sT(){return new Date().toISOString().substring(0,10)}function QI(r,e=FI){const n=[];let a=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),oT(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),oT(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class KI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VC()?PC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function oT(r){return Gh(JSON.stringify({version:2,heartbeats:r})).length}function $I(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r){Yo(new Ns("platform-logger",e=>new lI(e),"PRIVATE")),Yo(new Ns("heartbeat",e=>new YI(e),"PRIVATE")),Ma(vg,rT,r),Ma(vg,rT,"esm2020"),Ma("fire-js","")}XI("");function T0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WI=T0,b0=new Uu("auth","Firebase",T0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new hp("@firebase/auth");function JI(r,...e){Qh.logLevel<=ze.WARN&&Qh.warn(`Auth (${rl}): ${r}`,...e)}function Mh(r,...e){Qh.logLevel<=ze.ERROR&&Qh.error(`Auth (${rl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(r,...e){throw mp(r,...e)}function Zr(r,...e){return mp(r,...e)}function S0(r,e,n){const a={...WI(),[e]:n};return new Uu("auth","Firebase",a).create(e,{appName:r.name})}function Vi(r){return S0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return b0.create(r,...e)}function be(r,e,...n){if(!r)throw mp(e,...n)}function xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mh(e),new Error(e)}function Ui(r,e){r||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(){return typeof self<"u"&&self.location?.href||""}function ZI(){return lT()==="http:"||lT()==="https:"}function lT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZI()||NC()||"connection"in navigator)?navigator.onLine:!0}function tD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=CC()||xC()}get(){return eD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r,e){Ui(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iD=new Bu(3e4,6e4);function qa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ha(r,e,n,a,o={}){return A0(r,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=zu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return DC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&nl(r.emulatorConfig.host)&&(g.credentials="include"),w0.fetch()(await R0(r,r.config.apiHost,n,m),g)})}async function A0(r,e,n){r._canInitEmulator=!1;const a={...nD,...e};try{const o=new sD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw bh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw bh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw bh(r,"user-disabled",h);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw S0(r,T,g);Rr(r,T)}}catch(o){if(o instanceof Hi)throw o;Rr(r,"network-request-failed",{message:String(o)})}}async function qu(r,e,n,a,o={}){const u=await Ha(r,e,n,a,o);return"mfaPendingCredential"in u&&Rr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function R0(r,e,n,a){const o=`${e}${n}?${a}`,u=r,h=u.config.emulator?gp(r.config,o):`${r.config.apiScheme}://${o}`;return rD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function aD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Zr(this.auth,"network-request-failed")),iD.get())})}}function bh(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Zr(r,e,a);return o.customData._tokenResponse=n,o}function uT(r){return r!==void 0&&r.enterprise!==void 0}class oD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lD(r,e){return Ha(r,"GET","/v2/recaptchaConfig",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(r,e){return Ha(r,"POST","/v1/accounts:delete",e)}async function Kh(r,e){return Ha(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cD(r,e=!1){const n=Kt(r),a=await n.getIdToken(e),o=pp(a);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:a,authTime:Tu(Zm(o.auth_time)),issuedAtTime:Tu(Zm(o.iat)),expirationTime:Tu(Zm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Zm(r){return Number(r)*1e3}function pp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=u0(n);return o?JSON.parse(o):(Mh("Failed to decode base64 JWT payload"),null)}catch(o){return Mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function cT(r){const e=pp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Hi&&hD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function hD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(r){const e=r.auth,n=await r.getIdToken(),a=await Iu(r,Kh(e,{idToken:n}));be(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?C0(o.providerUserInfo):[],h=mD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new bg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function dD(r){const e=Kt(r);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mD(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function C0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gD(r,e){const n=await A0(r,{},async()=>{const a=zu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await R0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&nl(r.emulatorConfig.host)&&(p.credentials="include"),w0.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pD(r,e){return Ha(r,"POST","/v2/accounts:revokeToken",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=cT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await gD(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,h=new qo;return a&&(be(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class wr{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new fD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cD(this,e)}reload(){return dD(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await Iu(this,uD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:O,providerData:H,stsTokenManager:B}=n;be(b&&B,e,"internal-error");const L=qo.fromJSON(this.name,B);be(typeof b=="string",e,"internal-error"),wa(a,e.name),wa(o,e.name),be(typeof R=="boolean",e,"internal-error"),be(typeof O=="boolean",e,"internal-error"),wa(u,e.name),wa(h,e.name),wa(m,e.name),wa(p,e.name),wa(g,e.name),wa(T,e.name);const U=new wr({uid:b,auth:e,email:o,emailVerified:R,displayName:a,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:L,createdAt:g,lastLoginAt:T});return H&&Array.isArray(H)&&(U.providerData=H.map(W=>({...W}))),p&&(U._redirectEventId=p),U}static async _fromIdTokenResponse(e,n,a=!1){const o=new qo;o.updateFromServerResponse(n);const u=new wr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await $h(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?C0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new qo;m.updateFromIdToken(a);const p=new wr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new bg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=new Map;function Oi(r){Ui(r instanceof Function,"Expected a class definition");let e=hT.get(r);return e?(Ui(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,hT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}I0.type="NONE";const fT=I0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r,e,n){return`firebase:${r}:${e}:${n}`}class Ho{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?wr._fromGetAccountInfoResponse(this.auth,n,e):null}return wr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Ho(Oi(fT),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Oi(fT);const h=Vh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let b;if(typeof T=="string"){const R=await Kh(e,{idToken:T}).catch(()=>{});if(!R)break;b=await wr._fromGetAccountInfoResponse(e,R,T)}else b=wr._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ho(u,e,a):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Ho(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V0(e))return"Blackberry";if(P0(e))return"Webos";if(N0(e))return"Safari";if((e.includes("chrome/")||x0(e))&&!e.includes("edge/"))return"Chrome";if(M0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function D0(r=vn()){return/firefox\//i.test(r)}function N0(r=vn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x0(r=vn()){return/crios\//i.test(r)}function O0(r=vn()){return/iemobile/i.test(r)}function M0(r=vn()){return/android/i.test(r)}function V0(r=vn()){return/blackberry/i.test(r)}function P0(r=vn()){return/webos/i.test(r)}function yp(r=vn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function yD(r=vn()){return yp(r)&&!!window.navigator?.standalone}function vD(){return OC()&&document.documentMode===10}function k0(r=vn()){return yp(r)||M0(r)||P0(r)||V0(r)||/windows phone/i.test(r)||O0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(r,e=[]){let n;switch(r){case"Browser":n=dT(vn());break;case"Worker":n=`${dT(vn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rl}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(r,e={}){return Ha(r,"GET","/v2/passwordPolicy",qa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=6;class bD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new _D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Oi(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),a=await wr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(lr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(Vi(this));const n=e?Kt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ED(this),n=new bD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await pD(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Oi(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[Oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(lr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&JI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ls(r){return Kt(r)}class mT{constructor(e){this.auth=e,this.observer=null,this.addObserver=zC(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wD(r){yf=r}function L0(r){return yf.loadJS(r)}function AD(){return yf.recaptchaEnterpriseScript}function RD(){return yf.gapiScript}function CD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ID{constructor(){this.enterprise=new DD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class DD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ND="recaptcha-enterprise",U0="NO_RECAPTCHA";class xD{constructor(e){this.type=ND,this.auth=Ls(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{lD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new oD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;uT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(U0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ID().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(m=>{if(!n&&uT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=AD();p.length!==0&&(p+=m),L0(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function gT(r,e,n,a=!1,o=!1){const u=new xD(r);let h;if(o)h=U0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Sg(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await gT(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await gT(r,e,n,n==="getOobCode");return a(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(r,e){const n=dp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ji(u,e??{}))return o;Rr(o,"already-initialized")}return n.initialize({options:e})}function MD(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Oi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function VD(r,e,n){const a=Ls(r);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=z0(e),{host:h,port:m}=PD(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(ji(g,a.config.emulator)&&ji(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,nl(h)?(d0(`${u}//${h}${p}`),m0("Auth",!0)):kD()}function z0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function PD(r){const e=z0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:pT(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:pT(h)}}}function pT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function kD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,n){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function jD(r,e){return Ha(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(r,e){return qu(r,"POST","/v1/accounts:signInWithPassword",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(r,e){return qu(r,"POST","/v1/accounts:signInWithEmailLink",qa(r,e))}async function zD(r,e){return qu(r,"POST","/v1/accounts:signInWithEmailLink",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends vp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Du(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Du(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sg(e,n,"signInWithPassword",LD);case"emailLink":return UD(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sg(e,a,"signUpPassword",jD);case"emailLink":return zD(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(r,e){return qu(r,"POST","/v1/accounts:signInWithIdp",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD="http://localhost";class xs extends vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const h=new xs(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Fo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Fo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fo(e,n)}buildRequest(){const e={requestUri:BD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=zu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HD(r){const e=du(mu(r)).link,n=e?du(mu(e)).deep_link_id:null,a=du(mu(r)).deep_link_id;return(a?du(mu(a)).link:null)||a||n||e||r}class _p{constructor(e){const n=du(mu(e)),a=n.apiKey??null,o=n.oobCode??null,u=qD(n.mode??null);be(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HD(e);try{return new _p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,n){return Du._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=_p.parseLink(n);return be(a,"argument-error"),Du._fromEmailAndCode(e,a.code,a.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu extends B0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Hu{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return xs._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ca.credential(n,a)}catch{return null}}}Ca.GOOGLE_SIGN_IN_METHOD="google.com";Ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Hu{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.GITHUB_SIGN_IN_METHOD="github.com";Ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Hu{constructor(){super("twitter.com")}static credential(e,n){return xs._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Da.credential(n,a)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FD(r,e){return qu(r,"POST","/v1/accounts:signUp",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await wr._fromIdTokenResponse(e,a,o),h=yT(a);return new Os({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=yT(a);return new Os({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function yT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends Hi{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Xh(e,n,a,o)}}function q0(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xh._fromErrorAndOperation(r,u,e,a):u})}async function GD(r,e,n=!1){const a=await Iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Os._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(r,e,n=!1){const{auth:a}=r;if(lr(a.app))return Promise.reject(Vi(a));const o="reauthenticate";try{const u=await Iu(r,q0(a,o,e,r),n);be(u.idToken,a,"internal-error");const h=pp(u.idToken);be(h,a,"internal-error");const{sub:m}=h;return be(r.uid===m,a,"user-mismatch"),Os._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Rr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(r,e,n=!1){if(lr(r.app))return Promise.reject(Vi(r));const a="signIn",o=await q0(r,a,e),u=await Os._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function QD(r,e){return H0(Ls(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F0(r){const e=Ls(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function KD(r,e,n){if(lr(r.app))return Promise.reject(Vi(r));const a=Ls(r),h=await Sg(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&F0(r),p}),m=await Os._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(m.user),m}function $D(r,e,n){return lr(r.app)?Promise.reject(Vi(r)):QD(Kt(r),il.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&F0(r),a})}function XD(r,e,n,a){return Kt(r).onIdTokenChanged(e,n,a)}function WD(r,e,n){return Kt(r).beforeAuthStateChanged(e,n)}function Us(r,e,n,a){return Kt(r).onAuthStateChanged(e,n,a)}function JD(r){return Kt(r).signOut()}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=1e3,eN=10;class Y0 extends G0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);vD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eN):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},ZD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y0.type="LOCAL";const tN=Y0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0 extends G0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Q0.type="SESSION";const K0=Q0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new vf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await nN(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Ep("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function iN(r){ei().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function aN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sN(){return navigator?.serviceWorker?.controller||null}function oN(){return $0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="firebaseLocalStorageDb",lN=1,Jh="firebaseLocalStorage",W0="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _f(r,e){return r.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function uN(){const r=indexedDB.deleteDatabase(X0);return new Fu(r).toPromise()}function wg(){const r=indexedDB.open(X0,lN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Jh,{keyPath:W0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Jh)?e(a):(a.close(),await uN(),e(await wg()))})})}async function vT(r,e,n){const a=_f(r,!0).put({[W0]:e,value:n});return new Fu(a).toPromise()}async function cN(r,e){const n=_f(r,!1).get(e),a=await new Fu(n).toPromise();return a===void 0?null:a.value}function _T(r,e){const n=_f(r,!0).delete(e);return new Fu(n).toPromise()}const hN=800,fN=3;class J0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>fN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(oN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aN(),!this.activeServiceWorker)return;this.sender=new rN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wg();return await vT(e,Wh,"1"),await _T(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>vT(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>cN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_T(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=_f(o,!1).getAll();return new Fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J0.type="LOCAL";const dN=J0;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(r,e){return e?Oi(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gN(r){return H0(r.auth,new Tp(r),r.bypassAuthState)}function pN(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),YD(n,new Tp(r),r.bypassAuthState)}async function yN(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),GD(n,new Tp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gN;case"linkViaPopup":case"linkViaRedirect":return yN;case"reauthViaPopup":case"reauthViaRedirect":return pN;default:Rr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=new Bu(2e3,1e4);class Uo extends Z0{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Uo.currentPopupAction&&Uo.currentPopupAction.cancel(),Uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vN.get())};e()}}Uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="pendingRedirect",Ph=new Map;class EN extends Z0{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const a=await TN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TN(r,e){const n=wN(e),a=SN(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function bN(r,e){Ph.set(r._key(),e)}function SN(r){return Oi(r._redirectPersistence)}function wN(r){return Vh(_N,r.config.apiKey,r.name)}async function AN(r,e,n=!1){if(lr(r.app))return Promise.reject(Vi(r));const a=Ls(r),o=mN(a,e),h=await new EN(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=600*1e3;class CN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!eS(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ET(e))}saveEventToCache(e){this.cachedEventUids.add(ET(e)),this.lastProcessedEventTime=Date.now()}}function ET(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function eS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function IN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(r,e={}){return Ha(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xN=/^https?/;async function ON(r){if(r.config.emulator)return;const{authorizedDomains:e}=await DN(r);for(const n of e)try{if(MN(n))return}catch{}Rr(r,"unauthorized-domain")}function MN(r){const e=Tg(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!xN.test(n))return!1;if(NN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new Bu(3e4,6e4);function TT(){const r=ei().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function PN(r){return new Promise((e,n)=>{function a(){TT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TT(),n(Zr(r,"network-request-failed"))},timeout:VN.get()})}if(ei().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ei().gapi?.load)a();else{const o=CD("iframefcb");return ei()[o]=()=>{gapi.load?a():n(Zr(r,"network-request-failed"))},L0(`${RD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function kN(r){return kh=kh||PN(r),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Bu(5e3,15e3),LN="__/auth/iframe",UN="emulator/auth/iframe",zN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?gp(e,UN):`https://${r.config.authDomain}/${LN}`,a={apiKey:e.apiKey,appName:r.name,v:rl},o=BN.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${zu(a).slice(1)}`}async function HN(r){const e=await kN(r),n=ei().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:qN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zN,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=Zr(r,"network-request-failed"),m=ei().setTimeout(()=>{u(h)},jN.get());function p(){ei().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GN=500,YN=600,QN="_blank",KN="http://localhost";class bT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $N(r,e,n,a=GN,o=YN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...FN,width:a.toString(),height:o.toString(),top:u,left:h},g=vn().toLowerCase();n&&(m=x0(g)?QN:n),D0(g)&&(e=e||KN,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[O,H])=>`${R}${O}=${H},`,"");if(yD(g)&&m!=="_self")return XN(e||"",m),new bT(null);const b=window.open(e||"",m,T);be(b,r,"popup-blocked");try{b.focus()}catch{}return new bT(b)}function XN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="__/auth/handler",JN="emulator/auth/handler",ZN=encodeURIComponent("fac");async function ST(r,e,n,a,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:rl,eventId:o};if(e instanceof B0){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",UC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof Hu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${ZN}=${encodeURIComponent(p)}`:"";return`${ex(r)}?${zu(m).slice(1)}${g}`}function ex({config:r}){return r.emulator?gp(r,JN):`https://${r.authDomain}/${WN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="webStorageSupport";class tx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K0,this._completeRedirectFn=AN,this._overrideRedirectResult=bN}async _openPopup(e,n,a,o){Ui(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ST(e,n,a,Tg(),o);return $N(e,u,Ep())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await ST(e,n,a,Tg(),o);return iN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ui(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await HN(e),a=new CN(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(eg,{type:eg},o=>{const u=o?.[0]?.[eg];u!==void 0&&n(!!u),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ON(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k0()||N0()||yp()}}const nx=tx;var wT="@firebase/auth",AT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ax(r){Yo(new Ns("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j0(r)},g=new SD(a,o,u,p);return MD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Yo(new Ns("auth-internal",e=>{const n=Ls(e.getProvider("auth").getImmediate());return(a=>new rx(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(wT,AT,ix(r)),Ma(wT,AT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=300,ox=f0("authIdTokenMaxAge")||sx;let RT=null;const lx=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>ox)return;const o=n?.token;RT!==o&&(RT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ux(r=v0()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=OD(r,{popupRedirectResolver:nx,persistence:[dN,tN,K0]}),a=f0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=lx(u.toString());WD(n,h,()=>h(n.currentUser)),XD(n,m=>h(m))}}const o=c0("auth");return o&&VD(n,`http://${o}`),n}function cx(){return document.getElementsByTagName("head")?.[0]??document}wD({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Zr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",cx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ax("Browser");var hx="firebase",fx="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(hx,fx,"app");var CT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,tS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function I(){}I.prototype=A.prototype,D.F=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(M,x,k){for(var C=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)C[pe-2]=arguments[pe];return A.prototype[x].apply(M,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)M[x]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(x=0;x<16;++x)M[x]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],x=D.g[2];let k=D.g[3],C;C=A+(k^I&(x^k))+M[0]+3614090360&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(x^A&(I^x))+M[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=x+(I^k&(A^I))+M[2]+606105819&4294967295,x=k+(C<<17&4294967295|C>>>15),C=I+(A^x&(k^A))+M[3]+3250441966&4294967295,I=x+(C<<22&4294967295|C>>>10),C=A+(k^I&(x^k))+M[4]+4118548399&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(x^A&(I^x))+M[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=x+(I^k&(A^I))+M[6]+2821735955&4294967295,x=k+(C<<17&4294967295|C>>>15),C=I+(A^x&(k^A))+M[7]+4249261313&4294967295,I=x+(C<<22&4294967295|C>>>10),C=A+(k^I&(x^k))+M[8]+1770035416&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(x^A&(I^x))+M[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=x+(I^k&(A^I))+M[10]+4294925233&4294967295,x=k+(C<<17&4294967295|C>>>15),C=I+(A^x&(k^A))+M[11]+2304563134&4294967295,I=x+(C<<22&4294967295|C>>>10),C=A+(k^I&(x^k))+M[12]+1804603682&4294967295,A=I+(C<<7&4294967295|C>>>25),C=k+(x^A&(I^x))+M[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=x+(I^k&(A^I))+M[14]+2792965006&4294967295,x=k+(C<<17&4294967295|C>>>15),C=I+(A^x&(k^A))+M[15]+1236535329&4294967295,I=x+(C<<22&4294967295|C>>>10),C=A+(x^k&(I^x))+M[1]+4129170786&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^x&(A^I))+M[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=x+(A^I&(k^A))+M[11]+643717713&4294967295,x=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(x^k))+M[0]+3921069994&4294967295,I=x+(C<<20&4294967295|C>>>12),C=A+(x^k&(I^x))+M[5]+3593408605&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^x&(A^I))+M[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=x+(A^I&(k^A))+M[15]+3634488961&4294967295,x=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(x^k))+M[4]+3889429448&4294967295,I=x+(C<<20&4294967295|C>>>12),C=A+(x^k&(I^x))+M[9]+568446438&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^x&(A^I))+M[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=x+(A^I&(k^A))+M[3]+4107603335&4294967295,x=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(x^k))+M[8]+1163531501&4294967295,I=x+(C<<20&4294967295|C>>>12),C=A+(x^k&(I^x))+M[13]+2850285829&4294967295,A=I+(C<<5&4294967295|C>>>27),C=k+(I^x&(A^I))+M[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=x+(A^I&(k^A))+M[7]+1735328473&4294967295,x=k+(C<<14&4294967295|C>>>18),C=I+(k^A&(x^k))+M[12]+2368359562&4294967295,I=x+(C<<20&4294967295|C>>>12),C=A+(I^x^k)+M[5]+4294588738&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^x)+M[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=x+(k^A^I)+M[11]+1839030562&4294967295,x=k+(C<<16&4294967295|C>>>16),C=I+(x^k^A)+M[14]+4259657740&4294967295,I=x+(C<<23&4294967295|C>>>9),C=A+(I^x^k)+M[1]+2763975236&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^x)+M[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=x+(k^A^I)+M[7]+4139469664&4294967295,x=k+(C<<16&4294967295|C>>>16),C=I+(x^k^A)+M[10]+3200236656&4294967295,I=x+(C<<23&4294967295|C>>>9),C=A+(I^x^k)+M[13]+681279174&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^x)+M[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=x+(k^A^I)+M[3]+3572445317&4294967295,x=k+(C<<16&4294967295|C>>>16),C=I+(x^k^A)+M[6]+76029189&4294967295,I=x+(C<<23&4294967295|C>>>9),C=A+(I^x^k)+M[9]+3654602809&4294967295,A=I+(C<<4&4294967295|C>>>28),C=k+(A^I^x)+M[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=x+(k^A^I)+M[15]+530742520&4294967295,x=k+(C<<16&4294967295|C>>>16),C=I+(x^k^A)+M[2]+3299628645&4294967295,I=x+(C<<23&4294967295|C>>>9),C=A+(x^(I|~k))+M[0]+4096336452&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~x))+M[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=x+(A^(k|~I))+M[14]+2878612391&4294967295,x=k+(C<<15&4294967295|C>>>17),C=I+(k^(x|~A))+M[5]+4237533241&4294967295,I=x+(C<<21&4294967295|C>>>11),C=A+(x^(I|~k))+M[12]+1700485571&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~x))+M[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=x+(A^(k|~I))+M[10]+4293915773&4294967295,x=k+(C<<15&4294967295|C>>>17),C=I+(k^(x|~A))+M[1]+2240044497&4294967295,I=x+(C<<21&4294967295|C>>>11),C=A+(x^(I|~k))+M[8]+1873313359&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~x))+M[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=x+(A^(k|~I))+M[6]+2734768916&4294967295,x=k+(C<<15&4294967295|C>>>17),C=I+(k^(x|~A))+M[13]+1309151649&4294967295,I=x+(C<<21&4294967295|C>>>11),C=A+(x^(I|~k))+M[4]+4149444226&4294967295,A=I+(C<<6&4294967295|C>>>26),C=k+(I^(A|~x))+M[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=x+(A^(k|~I))+M[2]+718787259&4294967295,x=k+(C<<15&4294967295|C>>>17),C=I+(k^(x|~A))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+k&4294967295}a.prototype.v=function(D,A){A===void 0&&(A=D.length);const I=A-this.blockSize,M=this.C;let x=this.h,k=0;for(;k<A;){if(x==0)for(;k<=I;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<A;)if(M[x++]=D.charCodeAt(k++),x==this.blockSize){o(this,M),x=0;break}}else for(;k<A;)if(M[x++]=D[k++],x==this.blockSize){o(this,M),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)D[A++]=this.g[I]>>>M&255;return D};function u(D,A){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function h(D,A){this.h=A;const I=[];let M=!0;for(let x=D.length-1;x>=0;x--){const k=D[x]|0;M&&k==A||(I[x]=k,M=!1)}this.g=I}var m={};function p(D){return-128<=D&&D<128?u(D,function(A){return new h([A|0],A<0?-1:0)}):new h([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return L(g(-D));const A=[];let I=1;for(let M=0;D>=I;M++)A[M]=D/I|0,I*=4294967296;return new h(A,0)}function T(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return L(T(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(A,8));let M=b;for(let k=0;k<D.length;k+=8){var x=Math.min(8,D.length-k);const C=parseInt(D.substring(k,k+x),A);x<8?(x=g(Math.pow(A,x)),M=M.j(x).add(g(C))):(M=M.j(I),M=M.add(g(C)))}return M}var b=p(0),R=p(1),O=p(16777216);r=h.prototype,r.m=function(){if(B(this))return-L(this).m();let D=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);D+=(M>=0?M:4294967296+M)*A,A*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if(B(this))return"-"+L(this).toString(D);const A=g(Math.pow(D,6));var I=this;let M="";for(;;){const x=se(I,A).g;I=U(I,x.j(A));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=x,H(I))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function B(D){return D.h==-1}r.l=function(D){return D=U(this,D),B(D)?-1:H(D)?0:1};function L(D){const A=D.g.length,I=[];for(let M=0;M<A;M++)I[M]=~D.g[M];return new h(I,~D.h).add(R)}r.abs=function(){return B(this)?L(this):this},r.add=function(D){const A=Math.max(this.g.length,D.g.length),I=[];let M=0;for(let x=0;x<=A;x++){let k=M+(this.i(x)&65535)+(D.i(x)&65535),C=(k>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);M=C>>>16,k&=65535,C&=65535,I[x]=C<<16|k}return new h(I,I[I.length-1]&-2147483648?-1:0)};function U(D,A){return D.add(L(A))}r.j=function(D){if(H(this)||H(D))return b;if(B(this))return B(D)?L(this).j(L(D)):L(L(this).j(D));if(B(D))return L(this.j(L(D)));if(this.l(O)<0&&D.l(O)<0)return g(this.m()*D.m());const A=this.g.length+D.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let x=0;x<D.g.length;x++){const k=this.i(M)>>>16,C=this.i(M)&65535,pe=D.i(x)>>>16,Pe=D.i(x)&65535;I[2*M+2*x]+=C*Pe,W(I,2*M+2*x),I[2*M+2*x+1]+=k*Pe,W(I,2*M+2*x+1),I[2*M+2*x+1]+=C*pe,W(I,2*M+2*x+1),I[2*M+2*x+2]+=k*pe,W(I,2*M+2*x+2)}for(D=0;D<A;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=A;D<2*A;D++)I[D]=0;return new h(I,0)};function W(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function re(D,A){this.g=D,this.h=A}function se(D,A){if(H(A))throw Error("division by zero");if(H(D))return new re(b,b);if(B(D))return A=se(L(D),A),new re(L(A.g),L(A.h));if(B(A))return A=se(D,L(A)),new re(L(A.g),A.h);if(D.g.length>30){if(B(D)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var I=R,M=A;M.l(D)<=0;)I=fe(I),M=fe(M);var x=ge(I,1),k=ge(M,1);for(M=ge(M,2),I=ge(I,2);!H(M);){var C=k.add(M);C.l(D)<=0&&(x=x.add(I),k=C),M=ge(M,1),I=ge(I,1)}return A=U(D,x.j(A)),new re(x,A)}for(x=b;D.l(A)>=0;){for(I=Math.max(1,Math.floor(D.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=g(I),C=k.j(A);B(C)||C.l(D)>0;)I-=M,k=g(I),C=k.j(A);H(k)&&(k=R),x=x.add(k),D=U(D,C)}return new re(x,D)}r.B=function(D){return se(this,D).h},r.and=function(D){const A=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&D.i(M);return new h(I,this.h&D.h)},r.or=function(D){const A=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|D.i(M);return new h(I,this.h|D.h)},r.xor=function(D){const A=Math.max(this.g.length,D.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^D.i(M);return new h(I,this.h^D.h)};function fe(D){const A=D.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=D.i(M)<<1|D.i(M-1)>>>31;return new h(I,D.h)}function ge(D,A){const I=A>>5;A%=32;const M=D.g.length-I,x=[];for(let k=0;k<M;k++)x[k]=A>0?D.i(k+I)>>>A|D.i(k+I+1)<<32-A:D.i(k+I);return new h(x,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,tS=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,Va=h}).apply(typeof CT<"u"?CT:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nS,gu,rS,jh,Ag,iS,aS,sS;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var E=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in E))break e;E=E[q]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,q,K){for(var ae=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ae[xe-2]=arguments[xe];return y.prototype[q].apply(w,ae)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function H(c,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const K=q.length||0;c.length=E+K;for(let ae=0;ae<K;ae++)c[E+ae]=q[ae]}else c.push(q)}}class B{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function L(c){h.setTimeout(()=>{throw c},0)}function U(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class W{constructor(){this.h=this.g=null}add(y,E){const w=re.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var re=new B(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ge=!1,D=new W,A=()=>{const c=Promise.resolve(void 0);fe=()=>{c.then(I)}};function I(){for(var c;c=U();){try{c.h.call(c.g)}catch(E){L(E)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ge=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function pe(c,y){x.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(pe,x),pe.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ie(c,y,E,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=q,this.key=++Y,this.da=this.fa=!1}function ue(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function we(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function V(c){const y={};for(const E in c)y[E]=c[E];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)c[E]=w[E];for(let K=0;K<J.length;K++)E=J[K],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,y,E,w,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ae=Ae(c,y,w,q);return ae>-1?(y=c[ae],E||(y.fa=!1)):(y=new ie(y,this.src,K,!!w,q),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var w=c.g[E],q=Array.prototype.indexOf.call(w,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(ue(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ae(c,y,E,w){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==w)return q}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),ut={};function Ge(c,y,E,w,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Ge(c,y[K],E,w,q);return null}return E=Gi(E),c&&c[Pe]?c.J(y,E,m(w)?!!w.capture:!1,q):hr(c,y,E,!1,w,q)}function hr(c,y,E,w,q,K){if(!y)throw Error("Invalid event type");const ae=m(q)?!!q.capture:!!q;let xe=Vt(c);if(xe||(c[Ve]=xe=new le(c)),E=xe.add(y,E,w,ae,K),E.proxy)return E;if(w=Ir(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)k||(q=ae),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(Xe(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ir(){function c(E){return y.call(c.src,c.listener,E)}const y=dr;return c}function fr(c,y,E,w,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)fr(c,y[K],E,w,q);else w=m(w)?!!w.capture:!!w,E=Gi(E),c&&c[Pe]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ae(y,E,w,q),E>-1&&(ue(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Vt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ae(y,E,w,q)),(E=c>-1?y[c]:null)&&Dr(E))}function Dr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pe])Te(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(Xe(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Vt(y))?(Te(E,c),E.h==0&&(E.src=null,y[Ve]=null)):ue(c)}}}function Xe(c){return c in ut?ut[c]:ut[c]="on"+c}function dr(c,y){if(c.da)c=!0;else{y=new pe(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&Dr(c),c=E.call(w,y)}return c}function Vt(c){return c=c[Ve],c instanceof le?c:null}var Nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Gi(c){return typeof c=="function"?c:(c[Nr]||(c[Nr]=function(y){return c.handleEvent(y)}),c[Nr])}function Et(){M.call(this),this.i=new le(this),this.M=this,this.G=null}b(Et,M),Et.prototype[Pe]=!0,Et.prototype.removeEventListener=function(c,y,E,w){fr(this,c,y,E,w)};function Dt(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new x(y,c);else if(y instanceof x)y.target=y.target||c;else{var q=y;y=new x(w,c),oe(y,q)}q=!0;let K,ae;if(E)for(ae=E.length-1;ae>=0;ae--)K=y.g=E[ae],q=xr(K,w,!0,y)&&q;if(K=y.g=c,q=xr(K,w,!0,y)&&q,q=xr(K,w,!1,y)&&q,E)for(ae=0;ae<E.length;ae++)K=y.g=E[ae],q=xr(K,w,!1,y)&&q}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)ue(E[w]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},Et.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function xr(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const ae=y[K];if(ae&&!ae.da&&ae.capture==E){const xe=ae.listener,Nt=ae.ha||ae.src;ae.fa&&Te(c.i,ae),q=xe.call(Nt,w)!==!1&&q}}return q&&!w.defaultPrevented}function hl(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Ka(c){c.g=hl(()=>{c.g=null,c.i&&(c.i=!1,Ka(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Jt extends M{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ka(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(c){M.call(this),this.h=c,this.g={}}b(ui,M);var $a=[];function Xa(c){Ce(c.g,function(y,E){this.g.hasOwnProperty(E)&&Dr(y)},c),c.g={}}ui.prototype.N=function(){ui.Z.N.call(this),Xa(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Or=h.JSON.stringify,Wa=h.JSON.parse,Ja=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Za(){}function Ys(){}var cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){x.call(this,"d")}b(Pt,x);function Sn(){x.call(this,"c")}b(Sn,x);var pt={},es=null;function Mr(){return es=es||new Et}pt.Ia="serverreachability";function Qs(c){x.call(this,pt.Ia,c)}b(Qs,x);function Vn(c){const y=Mr();Dt(y,new Qs(y))}pt.STAT_EVENT="statevent";function ci(c,y){x.call(this,pt.STAT_EVENT,c),this.stat=y}b(ci,x);function Tt(c){const y=Mr();Dt(y,new ci(y,c))}pt.Ja="timingevent";function ct(c,y){x.call(this,pt.Ja,c),this.size=y}b(ct,x);function ht(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function hn(){this.g=!0}hn.prototype.ua=function(){this.g=!1};function at(c,y,E,w,q,K){c.info(function(){if(c.g)if(K){var ae="",xe=K.split("&");for(let Ke=0;Ke<xe.length;Ke++){var Nt=xe[Ke].split("=");if(Nt.length>1){const yt=Nt[0];Nt=Nt[1];const Zn=yt.split("_");ae=Zn.length>=2&&Zn[1]=="type"?ae+(yt+"="+Nt+"&"):ae+(yt+"=redacted&")}}}else ae=null;else ae=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+E+`
`+ae})}function _n(c,y,E,w,q,K,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+E+`
`+K+" "+ae})}function Kn(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ks(c,E)+(w?" "+w:"")})}function mr(c,y){c.info(function(){return"TIMEOUT: "+y})}hn.prototype.info=function(){};function Ks(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ae=1;ae<w.length;ae++)w[ae]=""}}}}return Or(K)}catch{return y}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pr;function gr(){}b(gr,Za),gr.prototype.g=function(){return new XMLHttpRequest},Pr=new gr;function Pn(c){return encodeURIComponent(String(c))}function Yi(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function kn(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new ui(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new En}function En(){this.i=null,this.g="",this.h=!1}var bt={},kt={};function $n(c,y,E){c.M=1,c.A=ts(Lt(y)),c.u=E,c.R=!0,Ne(c,null)}function Ne(c,y){c.F=Date.now(),At(c),c.B=Lt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ws(E.i,"t",w),c.C=0,E=c.j.L,c.h=new En,c.g=mc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new Jt(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var q="readystatechange";Array.isArray(q)||(q&&($a[0]=q.toString()),q=$a);for(let K=0;K<q.length;K++){const ae=Ge(E,q[K],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Vn(),at(c.i,c.v,c.B,c.l,c.S,c.u)}kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&vr(c)==3?y.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=vr(this.g),Nt=this.g.ya(),Ke=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||xe!=4||Nt==7||(Nt==8||Ke<=0?Vn(3):Vn(2)),Xn(this);var y=this.g.ca();this.X=y;var E=ot(this);if(this.o=y==200,_n(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var K=w;break t}}K=null}if(c=K)Kn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,jr(this,c);else{this.o=!1,this.m=3,Tt(12),jn(this),wn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<E.length;)if(yt=fn(this,E),yt==kt){xe==4&&(this.m=4,Tt(14),c=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==bt){this.m=4,Tt(15),Kn(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Kn(this.i,this.l,yt,null),jr(this,yt);if(ft(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)Kn(this.i,this.l,E,"[Invalid Chunked Response]"),jn(this),wn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Rl(ae),ae.P=!0,Tt(11))}}else Kn(this.i,this.l,E,null),jr(this,E);xe==4&&jn(this),this.o&&!this.K&&(xe==4?cc(this.j,this):(this.o=!1,At(this)))}else di(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),jn(this),wn(this)}}}catch{}finally{}};function ot(c){if(!ft(c))return c.g.la();const y=Zt(c.g);if(y==="")return"";let E="";const w=y.length,q=vr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return jn(c),wn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(q&&K==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function ft(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fn(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?kt:(E=Number(y.substring(E,w)),isNaN(E)?bt:(w+=1,w+E>y.length?kt:(y=y.slice(w,w+E),c.C=w+E,y)))}kn.prototype.cancel=function(){this.K=!0,jn(this)};function At(c){c.T=Date.now()+c.H,kr(c,c.H)}function kr(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ht(g(c.aa,c),y)}function Xn(c){c.D&&(h.clearTimeout(c.D),c.D=null)}kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(mr(this.i,this.B),this.M!=2&&(Vn(),Tt(17)),jn(this),this.m=2,wn(this)):kr(this,this.T-c)};function wn(c){c.j.I==0||c.K||cc(c.j,c)}function jn(c){Xn(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Xa(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function jr(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Ur(E.h,c))){if(!c.L&&Ur(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)no(E),ea(E);else break e;ls(E),Tt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ht(g(E.Va,E),6e3));Lr(E.h)<=1&&E.ta&&(E.ta=void 0)}else Gr(E,11)}else if((c.L||E.g==c)&&no(E),!C(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let Ke=q[y];const yt=Ke[0];if(!(yt<=E.K))if(E.K=yt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Zn=Ke[3];Zn!=null&&(E.ka=Zn,E.j.info("VER="+E.ka));const Yr=Ke[4];Yr!=null&&(E.za=Yr,E.j.info("SVER="+E.za));const _r=Ke[5];_r!=null&&typeof _r=="number"&&_r>0&&(w=1.5*_r,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Er=c.g;if(Er){const us=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var K=w.h;K.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ml(K,K.h),K.h=null))}if(w.G){const ro=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(w.wa=ro,Je(w.J,w.G,ro))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ae=c;if(w.na=dc(w,w.L?w.ba:null,w.W),ae.L){gl(w.h,ae);var xe=ae,Nt=w.O;Nt&&(xe.H=Nt),xe.D&&(Xn(xe),At(xe)),w.g=ae}else lc(w);E.i.length>0&&Fr(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Gr(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Gr(E,7):wl(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Vn(4)}catch{}}var jt=class{constructor(c,y){this.g=c,this.map=y}};function fl(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Lr(c){return c.h?1:c.g?c.g.size:0}function Ur(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ml(c,y){c.g?c.g.add(y):c.h=y}function gl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}fl.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return O(c.i)}var nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let q,K=null;w>=0?(q=c[E].substring(0,w),K=c[E].substring(w+1)):q=c[E],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ln(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Ln?(this.l=c.l,$t(this,c.j),this.o=c.o,this.g=c.g,Qi(this,c.u),this.h=c.h,yl(this,sc(c.i)),this.m=c.m):c&&(y=String(c).match(nc))?(this.l=!1,$t(this,y[1]||"",!0),this.o=zr(y[2]||""),this.g=zr(y[3]||"",!0),Qi(this,y[4]),this.h=zr(y[5]||"",!0),yl(this,y[6]||"",!0),this.m=zr(y[7]||"")):(this.l=!1,this.i=new $i(null,this.l))}Ln.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ns(y,Xs,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ns(y,Xs,!0),"@"),c.push(Pn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ns(E,E.charAt(0)=="/"?vl:rc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ns(E,ic)),c.join("")},Ln.prototype.resolve=function(c){const y=Lt(this);let E=!!c.j;E?$t(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)Qi(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let ae=0;ae<q.length;){const xe=q[ae++];xe=="."?w&&ae==q.length&&K.push(""):xe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ae==q.length&&K.push("")):(K.push(xe),w=!0)}w=K.join("/")}else w=q}return E?y.h=w:E=c.i.toString()!=="",E?yl(y,sc(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Lt(c){return new Ln(c)}function $t(c,y,E){c.j=E?zr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Qi(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function yl(c,y,E){y instanceof $i?(c.i=y,Js(c.i,c.l)):(E||(y=ns(y,Ki)),c.i=new $i(y,c.l))}function Je(c,y,E){c.i.set(y,E)}function ts(c){return Je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function zr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ns(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,An),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function An(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xs=/[#\/\?@]/g,rc=/[#\?:]/g,vl=/[#\?]/g,Ki=/[#\?@]/g,ic=/#/g;function $i(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&$s(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=$i.prototype,r.add=function(c,y){Rn(this),this.i=null,c=Xi(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ac(c,y){Rn(c),y=Xi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function _l(c,y){return Rn(c),y=Xi(c,y),c.g.has(y)}r.forEach=function(c,y){Rn(this),this.g.forEach(function(E,w){E.forEach(function(q){c.call(y,q,w,this)},this)},this)};function El(c,y){Rn(c);let E=[];if(typeof y=="string")_l(c,y)&&(E=E.concat(c.g.get(Xi(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return Rn(this),this.i=null,c=Xi(this,c),_l(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=El(this,c),c.length>0?String(c[0]):y):y};function Ws(c,y,E){ac(c,y),E.length>0&&(c.i=null,c.g.set(Xi(c,y),O(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const q=Pn(E);E=El(this,E);for(let K=0;K<E.length;K++){let ae=q;E[K]!==""&&(ae+="="+Pn(E[K])),c.push(ae)}}return this.i=c.join("&")};function sc(c){const y=new $i;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Xi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Js(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(E,w){const q=w.toLowerCase();w!=q&&(ac(this,w),Ws(this,q,E))},c)),c.j=y}function pr(c,y){const E=new hn;if(h.Image){const w=new Image;w.onload=T(Wn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=T(Wn,E,"TestLoadImage: error",!1,y,w),w.onabort=T(Wn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=T(Wn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Tl(c,y){const E=new hn,w=new AbortController,q=setTimeout(()=>{w.abort(),Wn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?Wn(E,"TestPingServer: ok",!0,y):Wn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Wn(E,"TestPingServer: error",!1,y)})}function Wn(c,y,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function Wi(){this.g=new Ja}function Br(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Br,Za),Br.prototype.g=function(){return new rs(this.i,this.h)};function rs(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(rs,Et),r=rs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,yr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yr(this)),this.g&&(this.readyState=3,yr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ji(this):yr(this),this.readyState==3&&Zs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ji(this))},r.Na=function(c){this.g&&(this.response=c,Ji(this))},r.ga=function(){this.g&&Ji(this)};function Ji(c){c.readyState=4,c.l=null,c.j=null,c.B=null,yr(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function yr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Jn(c){let y="";return Ce(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function is(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Jn(E),typeof c=="string"?E!=null&&Pn(E):Je(c,y,E))}function tt(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(tt,Et);var qr=/^https?$/i,bl=["POST","PUT"];r=tt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pr.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){as(this,K);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(bl,y,void 0)>=0)||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of E)this.g.setRequestHeader(K,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){as(this,K)}};function as(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Sl(c),fi(c)}function Sl(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Dt(this,"complete"),Dt(this,"abort"),fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fi(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ss(this):this.Xa())},r.Xa=function(){ss(this)};function ss(c){if(c.h&&typeof u<"u"){if(c.v&&vr(c)==4)setTimeout(c.Ca.bind(c),0);else if(Dt(c,"readystatechange"),vr(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=K===0){let ae=String(c.D).match(nc)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),w=!qr.test(ae?ae.toLowerCase():"")}E=w}if(E)Dt(c,"complete"),Dt(c,"success");else{c.o=6;try{var q=vr(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Sl(c)}}finally{fi(c)}}}}function fi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Dt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function vr(c){return c.g?c.g.readyState:0}r.ca=function(){try{return vr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wa(y)}};function Zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function di(c){const y={};c=(c.g&&vr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var E=Yi(c[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[q]||[];y[q]=K,K.push(E)}we(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Zi(c){this.za=0,this.i=[],this.j=new hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hr("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hr("baseRetryDelayMs",5e3,c),this.Za=Hr("retryDelaySeedMs",1e4,c),this.Ta=Hr("forwardChannelMaxRetries",2,c),this.va=Hr("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new fl(c&&c.concurrentRequestLimit),this.Ba=new Wi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Zi.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,w){Tt(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=dc(this,null,this.W),Fr(this)};function wl(c){if(eo(c),c.I==3){var y=c.V++,E=Lt(c.J);if(Je(E,"SID",c.M),Je(E,"RID",y),Je(E,"TYPE","terminate"),os(c,E),y=new kn(c,c.j,y),y.M=2,y.A=ts(Lt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=mc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),At(y)}fc(c)}function ea(c){c.g&&(Rl(c),c.g.cancel(),c.g=null)}function eo(c){ea(c),c.v&&(h.clearTimeout(c.v),c.v=null),no(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Fr(c){if(!dl(c.h)&&!c.m){c.m=!0;var y=c.Ea;fe||A(),ge||(fe(),ge=!0),D.add(y,c),c.D=0}}function to(c,y){return Lr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ht(g(c.Ea,c,y),hc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new kn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),oe(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=oc(this,q,y),E=Lt(this.J),Je(E,"RID",c),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),os(this,E),K&&(this.R?y="headers="+Pn(Jn(K))+"&"+y:this.u&&is(E,this.u,K)),ml(this.h,q),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",y),Je(E,"SID","null"),q.U=!0,$n(q,E,null)):$n(q,E,y),this.I=2}}else this.I==3&&(c?Al(this,c):this.i.length==0||dl(this.h)||Al(this))};function Al(c,y){var E;y?E=y.l:E=c.V++;const w=Lt(c.J);Je(w,"SID",c.M),Je(w,"RID",E),Je(w,"AID",c.K),os(c,w),c.u&&c.o&&is(w,c.u,c.o),E=new kn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=oc(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),ml(c.h,E),$n(E,w,y)}function os(c,y){c.H&&Ce(c.H,function(E,w){Je(y,w,E)}),c.l&&Ce({},function(E,w){Je(y,w,E)})}function oc(c,y,E){E=Math.min(c.i.length,E);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let xe=-1;for(;;){const Nt=["count="+E];xe==-1?E>0?(xe=q[0].g,Nt.push("ofs="+xe)):xe=0:Nt.push("ofs="+xe);let Ke=!0;for(let yt=0;yt<E;yt++){var K=q[yt].g;const Zn=q[yt].map;if(K-=xe,K<0)xe=Math.max(0,q[yt].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var ae=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Yr,_r]of ae){let Er=_r;m(_r)&&(Er=Or(_r)),Nt.push(K+Yr+"="+encodeURIComponent(Er))}}catch(Yr){throw Nt.push(K+"type="+encodeURIComponent("_badmap")),Yr}}catch{w&&w(Zn)}}if(Ke){ae=Nt.join("&");break e}}ae=void 0}return c=c.i.splice(0,E),y.G=c,ae}function lc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;fe||A(),ge||(fe(),ge=!0),D.add(y,c),c.A=0}}function ls(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ht(g(c.Da,c),hc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,uc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ht(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),ea(this),uc(this))};function Rl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function uc(c){c.g=new kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Lt(c.na);Je(y,"RID","rpc"),Je(y,"SID",c.M),Je(y,"AID",c.K),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Je(y,"TO",c.ia),Je(y,"TYPE","xmlhttp"),os(c,y),c.u&&c.o&&is(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ts(Lt(y)),E.u=null,E.R=!0,Ne(E,c)}r.Va=function(){this.C!=null&&(this.C=null,ea(this),ls(this),Tt(19))};function no(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function cc(c,y){var E=null;if(c.g==y){no(c),Rl(c),c.g=null;var w=2}else if(Ur(c.h,y))E=y.G,gl(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;w=Mr(),Dt(w,new ct(w,E)),Fr(c)}else lc(c);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&to(c,y)||w==2&&ls(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function hc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Gr(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),w=c.Ua;const q=!w;w=new Ln(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||$t(w,"https"),ts(w),q?pr(w.toString(),E):Tl(w.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(y),fc(c),eo(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function fc(c){if(c.I=0,c.ja=[],c.l){const y=pl(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function dc(c,y,E){var w=E instanceof Ln?Lt(E):new Ln(E);if(w.g!="")y&&(w.g=y+"."+w.g),Qi(w,w.u);else{var q=h.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new Ln(null);w&&$t(K,w),y&&(K.g=y),q&&Qi(K,q),E&&(K.h=E),w=K}return E=c.G,y=c.wa,E&&y&&Je(w,E,y),Je(w,"VER",c.ka),os(c,w),w}function mc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new tt(new Br({ab:E})):new tt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}r=gc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ta(){}ta.prototype.g=function(c,y){return new Tn(c,y)};function Tn(c,y){Et.call(this),this.g=new Zi(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new mi(this)}b(Tn,Et),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){wl(this.g)},Tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Or(c),c=E);y.i.push(new jt(y.Ya++,c)),y.I==3&&Fr(y)},Tn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,Tn.Z.N.call(this)};function pc(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(pc,Pt);function yc(){Sn.call(this),this.status=1}b(yc,Sn);function mi(c){this.g=c}b(mi,gc),mi.prototype.ra=function(){Dt(this.g,"a")},mi.prototype.qa=function(c){Dt(this.g,new pc(c))},mi.prototype.pa=function(c){Dt(this.g,new yc)},mi.prototype.oa=function(){Dt(this.g,"b")},ta.prototype.createWebChannel=ta.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,sS=function(){return new ta},aS=function(){return Mr()},iS=pt,Ag={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,jh=Vr,hi.COMPLETE="complete",rS=hi,Ys.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,gu=Ys,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,nS=tt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const IT="@firebase/firestore",DT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new hp("@firebase/firestore");function Po(){return Ms.logLevel}function he(r,...e){if(Ms.logLevel<=ze.DEBUG){const n=e.map(bp);Ms.debug(`Firestore (${al}): ${r}`,...n)}}function zi(r,...e){if(Ms.logLevel<=ze.ERROR){const n=e.map(bp);Ms.error(`Firestore (${al}): ${r}`,...n)}}function Qo(r,...e){if(Ms.logLevel<=ze.WARN){const n=e.map(bp);Ms.warn(`Firestore (${al}): ${r}`,...n)}}function bp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,oS(r,a,n)}function oS(r,e,n){let a=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw zi(a),new Error(a)}function We(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||oS(e,o,a)}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class mx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class gx{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new lS(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class px{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yx{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new px(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const a=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new NT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=_x(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Be(r,e){return r<e?-1:r>e?1:0}function Rg(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return tg(o)===tg(u)?Be(o,u):tg(o)?1:-1}return Be(r.length,e.length)}const Ex=55296,Tx=57343;function tg(r){const e=r.charCodeAt(0);return e>=Ex&&e<=Tx}function Ko(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="__name__";class Jr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Se(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Jr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const a=Jr.isNumericId(e),o=Jr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):Rg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class lt extends Jr{construct(e,n,a){return new lt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(te.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const bx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Jr{construct(e,n,a){return new on(e,n,a)}static isValidIdentifier(e){return bx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xT}static keyField(){return new on([xT])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new ce(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(lt.fromString(e))}static fromName(e){return new ve(lt.fromString(e).popFirst(5))}static empty(){return new ve(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r,e,n){if(!n)throw new ce(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Sx(r,e,n,a){if(e===!0&&a===!0)throw new ce(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function OT(r){if(!ve.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function MT(r){if(ve.isDocumentKey(r))throw new ce(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ef(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function cr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ef(r);throw new ce(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Gu(r,e){if(!cS(r))throw new ce(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const h=r[a];if(o&&typeof h!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new ce(te.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=-62135596800,PT=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*PT);return new gt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VT)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PT}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-VT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Gt("string",gt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new gt(0,0))}static max(){return new Re(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=-1;function wx(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new gt(n+1,0):new gt(n,a));return new ka(o,ve.empty(),e)}function Ax(r){return new ka(r.readTime,r.key,Nu)}class ka{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ka(Re.min(),ve.empty(),Nu)}static max(){return new ka(Re.max(),ve.empty(),Nu)}}function Rx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Be(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ix{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==Cx)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,a)=>{n(e)}))}static reject(e){return new ne(((n,a)=>{a(e)}))}static waitFor(e){return new ne(((n,a)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>a(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const a of e)n=n.next((o=>o?ne.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new ne(((a,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{h[g]=T,++m,m===u&&a(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new ne(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function Dx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ol(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function bf(r){return r==null}function Zh(r){return r===0&&1/r==-1/0}function Nx(r){return typeof r=="number"&&Number.isInteger(r)&&!Zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="";function xx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=kT(e)),e=Ox(r.get(n),e);return kT(e)}function Ox(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case hS:n+="";break;default:n+=u}}return n}function kT(r){return r+hS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Fa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function fS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new sn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LT(this.data.getIterator())}getIteratorFrom(e){return new LT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class LT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Qt(on.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new dS("Invalid base64 string: "+u):u}})(e);return new un(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Mx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(r){if(We(!!r,39018),typeof r=="string"){let e=0;const n=Mx.exec(r);if(We(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Mt(r.seconds),nanos:Mt(r.nanos)}}function Mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function La(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="server_timestamp",gS="__type__",pS="__previous_value__",yS="__local_write_time__";function Ap(r){return(r?.mapValue?.fields||{})[gS]?.stringValue===mS}function Sf(r){const e=r.mapValue.fields[pS];return Ap(e)?Sf(e):e}function xu(r){const e=ja(r.mapValue.fields[yS].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e,n,a,o,u,h,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const ef="(default)";class Ou{constructor(e,n){this.projectId=e,this.database=n||ef}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===ef}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="__type__",Px="__max__",Ah={mapValue:{}},_S="__vector__",tf="value";function Ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ap(r)?4:jx(r)?9007199254740991:kx(r)?10:11:Se(28295,{value:r})}function oi(r,e){if(r===e)return!0;const n=Ua(r);if(n!==Ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xu(r).isEqual(xu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ja(o.timestampValue),m=ja(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return La(o.bytesValue).isEqual(La(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Mt(o.geoPointValue.latitude)===Mt(u.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Mt(o.integerValue)===Mt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Mt(o.doubleValue),m=Mt(u.doubleValue);return h===m?Zh(h)===Zh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Ko(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(jT(h)!==jT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!oi(h[p],m[p])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Mu(r,e){return(r.values||[]).find((n=>oi(n,e)))!==void 0}function $o(r,e){if(r===e)return 0;const n=Ua(r),a=Ua(e);if(n!==a)return Be(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Mt(u.integerValue||u.doubleValue),p=Mt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return UT(r.timestampValue,e.timestampValue);case 4:return UT(xu(r),xu(e));case 5:return Rg(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=La(u),p=La(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Be(m[g],p[g]);if(T!==0)return T}return Be(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Be(Mt(u.latitude),Mt(h.latitude));return m!==0?m:Be(Mt(u.longitude),Mt(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return zT(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[tf]?.arrayValue,T=p[tf]?.arrayValue,b=Be(g?.values?.length||0,T?.values?.length||0);return b!==0?b:zT(g,T)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ah.mapValue&&h===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(h===Ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const R=Rg(p[b],T[b]);if(R!==0)return R;const O=$o(m[p[b]],g[T[b]]);if(O!==0)return O}return Be(p.length,T.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function UT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const n=ja(r),a=ja(e),o=Be(n.seconds,a.seconds);return o!==0?o:Be(n.nanos,a.nanos)}function zT(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=$o(n[o],a[o]);if(u)return u}return Be(n.length,a.length)}function Xo(r){return Cg(r)}function Cg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=ja(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return La(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Cg(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Cg(n.fields[h])}`;return o+"}"})(r.mapValue):Se(61005,{value:r})}function Lh(r){switch(Ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sf(r);return e?16+Lh(e):16;case 5:return 2*r.stringValue.length;case 6:return La(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Fa(a.fields,((u,h)=>{o+=u.length+Lh(h)})),o})(r.mapValue);default:throw Se(13486,{value:r})}}function BT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ig(r){return!!r&&"integerValue"in r}function Rp(r){return!!r&&"arrayValue"in r}function qT(r){return!!r&&"nullValue"in r}function HT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uh(r){return!!r&&"mapValue"in r}function kx(r){return(r?.mapValue?.fields||{})[vS]?.stringValue===_S}function bu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Fa(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=bu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bu(r.arrayValue.values[n]);return e}return{...r}}function jx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Px}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(n)}setAll(e){let n=on.emptyPath(),a={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=bu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Fa(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Mn(bu(this.value))}}function ES(r){const e=[];return Fa(r.fields,((n,a)=>{const o=new on([n]);if(Uh(a)){const u=ES(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,n,a,o,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new yn(e,0,Re.min(),Re.min(),Re.min(),Mn.empty(),0)}static newFoundDocument(e,n,a,o){return new yn(e,1,n,Re.min(),a,o,0)}static newNoDocument(e,n){return new yn(e,2,n,Re.min(),Re.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,Re.min(),Re.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.position=e,this.inclusive=n}}function FT(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=ve.comparator(ve.fromName(h.referenceValue),n.key):a=$o(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function GT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!oi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Lx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{}class Ft extends TS{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new zx(e,n,a):n==="array-contains"?new Hx(e,a):n==="in"?new Fx(e,a):n==="not-in"?new Gx(e,a):n==="array-contains-any"?new Yx(e,a):new Ft(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new Bx(e,a):new qx(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($o(n,this.value)):n!==null&&Ua(this.value)===Ua(n)&&this.matchesComparison($o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends TS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Cr(e,n)}matches(e){return bS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bS(r){return r.op==="and"}function SS(r){return Ux(r)&&bS(r)}function Ux(r){for(const e of r.filters)if(e instanceof Cr)return!1;return!0}function Dg(r){if(r instanceof Ft)return r.field.canonicalString()+r.op.toString()+Xo(r.value);if(SS(r))return r.filters.map((e=>Dg(e))).join(",");{const e=r.filters.map((n=>Dg(n))).join(",");return`${r.op}(${e})`}}function wS(r,e){return r instanceof Ft?(function(a,o){return o instanceof Ft&&a.op===o.op&&a.field.isEqual(o.field)&&oi(a.value,o.value)})(r,e):r instanceof Cr?(function(a,o){return o instanceof Cr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,h,m)=>u&&wS(h,o.filters[m])),!0):!1})(r,e):void Se(19439)}function AS(r){return r instanceof Ft?(function(n){return`${n.field.canonicalString()} ${n.op} ${Xo(n.value)}`})(r):r instanceof Cr?(function(n){return n.op.toString()+" {"+n.getFilters().map(AS).join(" ,")+"}"})(r):"Filter"}class zx extends Ft{constructor(e,n,a){super(e,n,a),this.key=ve.fromName(a.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bx extends Ft{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qx extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function RS(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class Hx extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&Mu(n.arrayValue,this.value)}}class Fx extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mu(this.value.arrayValue,n)}}class Gx extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mu(this.value.arrayValue,n)}}class Yx extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Mu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n=null,a=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function YT(r,e=null,n=[],a=[],o=null,u=null,h=null){return new Qx(r,e,n,a,o,u,h)}function Cp(r){const e=De(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Dg(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Xo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Xo(a))).join(",")),e.Te=n}return e.Te}function Ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Lx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!wS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!GT(r.startAt,e.startAt)&&GT(r.endAt,e.endAt)}function Ng(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n=null,a=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Kx(r,e,n,a,o,u,h,m){return new Yu(r,e,n,a,o,u,h,m)}function wf(r){return new Yu(r)}function QT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function CS(r){return r.collectionGroup!==null}function Su(r){const e=De(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Qt(on.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new rf(u,a))})),n.has(on.keyField().canonicalString())||e.Ie.push(new rf(on.keyField(),a))}return e.Ie}function ti(r){const e=De(r);return e.Ee||(e.Ee=$x(e,Su(r))),e.Ee}function $x(r,e){if(r.limitType==="F")return YT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new rf(o.field,u)}));const n=r.endAt?new nf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nf(r.startAt.position,r.startAt.inclusive):null;return YT(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function xg(r,e){const n=r.filters.concat([e]);return new Yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Og(r,e,n){return new Yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Af(r,e){return Ip(ti(r),ti(e))&&r.limitType===e.limitType}function IS(r){return`${Cp(ti(r))}|lt:${r.limitType}`}function ko(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>AS(o))).join(", ")}]`),bf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Xo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Xo(o))).join(",")),`Target(${a})`})(ti(r))}; limitType=${r.limitType})`}function Rf(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ve.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of Su(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(h,m,p){const g=FT(h,m,p);return h.inclusive?g<=0:g<0})(a.startAt,Su(a),o)||a.endAt&&!(function(h,m,p){const g=FT(h,m,p);return h.inclusive?g>=0:g>0})(a.endAt,Su(a),o))})(r,e)}function Xx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DS(r){return(e,n)=>{let a=!1;for(const o of Su(r)){const u=Wx(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function Wx(r,e,n){const a=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?$o(p,g):Se(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return fS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx=new wt(ve.comparator);function Bi(){return Jx}const NS=new wt(ve.comparator);function pu(...r){let e=NS;for(const n of r)e=e.insert(n.key,n);return e}function xS(r){let e=NS;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Rs(){return wu()}function OS(){return wu()}function wu(){return new zs((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Zx=new wt(ve.comparator),e2=new Qt(ve.comparator);function qe(...r){let e=e2;for(const n of r)e=e.add(n);return e}const t2=new Qt(Be);function n2(){return t2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function MS(r){return{integerValue:""+r}}function r2(r,e){return Nx(e)?MS(e):Dp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this._=void 0}}function i2(r,e,n){return r instanceof af?(function(o,u){const h={fields:{[gS]:{stringValue:mS},[yS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ap(u)&&(u=Sf(u)),u&&(h.fields[pS]=u),{mapValue:h}})(n,e):r instanceof Wo?PS(r,e):r instanceof Jo?kS(r,e):(function(o,u){const h=VS(o,u),m=KT(h)+KT(o.Ae);return Ig(h)&&Ig(o.Ae)?MS(m):Dp(o.serializer,m)})(r,e)}function a2(r,e,n){return r instanceof Wo?PS(r,e):r instanceof Jo?kS(r,e):n}function VS(r,e){return r instanceof sf?(function(a){return Ig(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class af extends Cf{}class Wo extends Cf{constructor(e){super(),this.elements=e}}function PS(r,e){const n=jS(e);for(const a of r.elements)n.some((o=>oi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Jo extends Cf{constructor(e){super(),this.elements=e}}function kS(r,e){let n=jS(e);for(const a of r.elements)n=n.filter((o=>!oi(o,a)));return{arrayValue:{values:n}}}class sf extends Cf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function KT(r){return Mt(r.integerValue||r.doubleValue)}function jS(r){return Rp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.field=e,this.transform=n}}function s2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Wo&&o instanceof Wo||a instanceof Jo&&o instanceof Jo?Ko(a.elements,o.elements,oi):a instanceof sf&&o instanceof sf?oi(a.Ae,o.Ae):a instanceof af&&o instanceof af})(r.transform,e.transform)}class o2{constructor(e,n){this.version=e,this.transformResults=n}}class ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ni}static exists(e){return new ni(void 0,e)}static updateTime(e){return new ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class If{}function US(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new BS(r.key,ni.none()):new Qu(r.key,r.data,ni.none());{const n=r.data,a=Mn.empty();let o=new Qt(on.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Ga(r.key,a,new Qn(o.toArray()),ni.none())}}function l2(r,e,n){r instanceof Qu?(function(o,u,h){const m=o.value.clone(),p=XT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ga?(function(o,u,h){if(!zh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=XT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(zS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Au(r,e,n,a){return r instanceof Qu?(function(u,h,m,p){if(!zh(u.precondition,h))return m;const g=u.value.clone(),T=WT(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof Ga?(function(u,h,m,p){if(!zh(u.precondition,h))return m;const g=WT(u.fieldTransforms,p,h),T=h.data;return T.setAll(zS(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,a):(function(u,h,m){return zh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function u2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=VS(a.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(a.field,u))}return n||null}function $T(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ko(a,o,((u,h)=>s2(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Qu extends If{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ga extends If{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function zS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function XT(r,e,n){const a=new Map;We(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);a.set(u.field,a2(h,m,n[o]))}return a}function WT(r,e,n){const a=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);a.set(o.field,i2(u,h,e))}return a}class BS extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c2 extends If{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&l2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Au(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Au(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=OS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=US(h,m);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,((n,a)=>$T(n,a)))&&Ko(this.baseMutations,e.baseMutations,((n,a)=>$T(n,a)))}}class Np{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Zx})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Np(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Fe;function m2(r){switch(r){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function qS(r){if(r===void 0)return zi("GRPC error has no .code"),te.UNKNOWN;switch(r){case Ht.OK:return te.OK;case Ht.CANCELLED:return te.CANCELLED;case Ht.UNKNOWN:return te.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return te.INTERNAL;case Ht.UNAVAILABLE:return te.UNAVAILABLE;case Ht.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Ht.NOT_FOUND:return te.NOT_FOUND;case Ht.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Ht.ABORTED:return te.ABORTED;case Ht.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Ht.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:r})}}(Fe=Ht||(Ht={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=new Va([4294967295,4294967295],0);function JT(r){const e=g2().encode(r),n=new tS;return n.update(e),new Uint8Array(n.digest())}function ZT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Va([n,a],0),new Va([o,u],0)]}class xp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(a<0)throw new yu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Va.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Va.fromNumber(a)));return o.compare(p2)===1&&(o=new Va([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=JT(e),[a,o]=ZT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);if(!this.we(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new xp(u,o,n);return a.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=JT(e),[a,o]=ZT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Df(Re.min(),o,new wt(Be),Bi(),qe())}}class Ku{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Ku(a,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class HS{constructor(e,n){this.targetId=e,this.Ce=n}}class FS{constructor(e,n,a=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class eb{constructor(){this.ve=0,this.Fe=tb(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),a=qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Se(38017,{changeType:u})}})),new Ku(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=tb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class y2{constructor(e){this.Ge=e,this.ze=new Map,this.je=Bi(),this.Je=Rh(),this.He=Rh(),this.Ye=new wt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Ng(u))if(a===0){const h=new ve(u.path);this.et(n,h,yn.newNoDocument(h,Re.min()))}else We(a===1,20013,{expectedCount:a});else{const h=this._t(n);if(h!==a){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=La(a).toUint8Array()}catch(p){if(p instanceof dS)return Qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new xp(h,o,u)}catch(p){return Qo(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Ng(m.target)){const p=new ve(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,yn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let a=qe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Df(e,n,this.Ye,this.je,a);return this.je=Bi(),this.Je=Rh(),this.He=Rh(),this.Ye=new wt(Be),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rh(){return new wt(ve.comparator)}function tb(){return new wt(ve.comparator)}const v2={asc:"ASCENDING",desc:"DESCENDING"},_2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E2={and:"AND",or:"OR"};class T2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mg(r,e){return r.useProto3Json||bf(e)?e:{value:e}}function of(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function b2(r,e){return of(r,e.toTimestamp())}function ri(r){return We(!!r,49232),Re.fromTimestamp((function(n){const a=ja(n);return new gt(a.seconds,a.nanos)})(r))}function Op(r,e){return Vg(r,e).canonicalString()}function Vg(r,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function YS(r){const e=lt.fromString(r);return We(WS(e),10190,{key:e.toString()}),e}function Pg(r,e){return Op(r.databaseId,e.path)}function ng(r,e){const n=YS(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(KS(n))}function QS(r,e){return Op(r.databaseId,e)}function S2(r){const e=YS(r);return e.length===4?lt.emptyPath():KS(e)}function kg(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function KS(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function nb(r,e,n){return{name:Pg(r,e),fields:n.value.mapValue.fields}}function w2(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(We(T===void 0||typeof T=="string",58123),un.fromBase64String(T||"")):(We(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),un.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const T=g.code===void 0?te.UNKNOWN:qS(g.code);return new ce(T,g.message||"")})(h);n=new FS(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=ng(r,a.document.name),u=ri(a.document.updateTime),h=a.document.createTime?ri(a.document.createTime):Re.min(),m=new Mn({mapValue:{fields:a.document.fields}}),p=yn.newFoundDocument(o,u,h,m),g=a.targetIds||[],T=a.removedTargetIds||[];n=new Bh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=ng(r,a.document),u=a.readTime?ri(a.readTime):Re.min(),h=yn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=ng(r,a.document),u=a.removedTargetIds||[];n=new Bh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new d2(o,u),m=a.targetId;n=new HS(m,h)}}return n}function A2(r,e){let n;if(e instanceof Qu)n={update:nb(r,e.key,e.value)};else if(e instanceof BS)n={delete:Pg(r,e.key)};else if(e instanceof Ga)n={update:nb(r,e.key,e.data),updateMask:V2(e.fieldMask)};else{if(!(e instanceof c2))return Se(16599,{Vt:e.type});n={verify:Pg(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,h){const m=h.transform;if(m instanceof af)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Wo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof sf)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:h.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:b2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(r,e.precondition)),n}function R2(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?ri(o.updateTime):ri(u);return h.isEqual(Re.min())&&(h=ri(u)),new o2(h,o.transformResults||[])})(n,e)))):[]}function C2(r,e){return{documents:[QS(r,e.path)]}}function I2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=QS(r,o);const u=(function(g){if(g.length!==0)return XS(Cr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((T=>(function(R){return{field:jo(R.field),direction:x2(R.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Mg(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function D2(r){let e=S2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){We(a===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const R=$S(b);return R instanceof Cr&&SS(R)?R.getFilters():[R]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((R=>(function(H){return new rf(Lo(H.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let R;return R=typeof b=="object"?b.value:b,bf(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(b){const R=!!b.before,O=b.values||[];return new nf(O,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const R=!b.before,O=b.values||[];return new nf(O,R)})(n.endAt)),Kx(e,o,h,u,m,"F",p,g)}function N2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $S(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Lo(n.unaryFilter.field);return Ft.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Lo(n.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Lo(n.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Lo(n.unaryFilter.field);return Ft.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ft.create(Lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Cr.create(n.compositeFilter.filters.map((a=>$S(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(r):Se(30097,{filter:r})}function x2(r){return v2[r]}function O2(r){return _2[r]}function M2(r){return E2[r]}function jo(r){return{fieldPath:r.canonicalString()}}function Lo(r){return on.fromServerFormat(r.fieldPath)}function XS(r){return r instanceof Ft?(function(n){if(n.op==="=="){if(HT(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NAN"}};if(qT(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(HT(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NAN"}};if(qT(n.value))return{unaryFilter:{field:jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(n.field),op:O2(n.op),value:n.value}}})(r):r instanceof Cr?(function(n){const a=n.getFilters().map((o=>XS(o)));return a.length===1?a[0]:{compositeFilter:{op:M2(n.op),filters:a}}})(r):Se(54877,{filter:r})}function V2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function WS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,a,o,u=Re.min(),h=Re.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.yt=e}}function k2(r){const e=D2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Cn=new L2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ka.min())}updateCollectionGroup(e,n,a){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class L2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Qt(lt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Qt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JS=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(JS,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Zo(0)}static cr(){return new Zo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="LruGarbageCollector",U2=1048576;function ab([r,e],[n,a]){const o=Be(r,n);return o===0?Be(e,a):o}class z2{constructor(e){this.Ir=e,this.buffer=new Qt(ab),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();ab(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ol(n)?he(ib,"Ignoring IndexedDB error during garbage collection: ",n):await sl(n)}await this.Vr(3e5)}))}}class q2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Tf.ce);const a=new z2(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(rb)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(a=b,m=Date.now(),this.removeTargets(e,a,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(g=Date.now(),Po()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function H2(r,e){return new q2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.changes=new zs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?ne.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Au(a.mutation,o,Qn.empty(),gt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=qe()){const o=Rs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let h=pu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const a=Rs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,qe())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,a,o){let u=Bi();const h=wu(),m=(function(){return wu()})();return n.forEach(((p,g)=>{const T=a.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Ga)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),Au(T.mutation,g,T.mutation.getFieldMask(),gt.now())):h.set(g.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>h.set(g,T))),n.forEach(((g,T)=>m.set(g,new G2(T,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=wu();let o=new wt(((h,m)=>h-m)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=a.get(p)||Qn.empty();T=m.applyToLocalView(g,T),a.set(p,T);const b=(o.get(m.batchId)||qe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=OS();T.forEach((R=>{if(!u.has(R)){const O=US(n.get(R),a.get(R));O!==null&&b.set(R,O),u=u.add(R)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ne.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):CS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):ne.resolve(Rs());let m=Nu,p=u;return h.next((g=>ne.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((R=>{p=p.insert(T,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,qe()))).next((T=>({batchId:m,changes:xS(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((a=>{let o=pu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=pu();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(b,R){return new Yu(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((T=>{T.forEach(((b,R)=>{h=h.insert(b,R)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((h=>{u.forEach(((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,yn.newInvalidDocument(T)))}));let m=pu();return h.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&Au(T.mutation,g,Qn.empty(),gt.now()),Rf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:k2(o.bundledQuery),readTime:ri(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.overlays=new wt(ve.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Rs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),ne.resolve()}getOverlaysForCollection(e,n,a){const o=Rs(),u=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new wt(((g,T)=>g-T));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let T=u.get(g.largestBatchId);T===null&&(T=Rs(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Rs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new f2(n,a));let u=this.qr.get(n);u===void 0&&(u=qe(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Qr=new Qt(Wt.$r),this.Ur=new Qt(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Wt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Wt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new ve(new lt([])),a=new Wt(n,e),o=new Wt(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new lt([])),a=new Wt(n,e),o=new Wt(n,e+1);let u=qe();return this.Ur.forEachInRange([a,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Wt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Wt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Wt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new h2(u,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(h)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Wt(n,0),o=new Wt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Qt(Be);return n.forEach((o=>{const u=new Wt(o,0),h=new Wt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{a=a.add(m.Yr)}))})),ne.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ve.isDocumentKey(u)||(u=u.child(""));const h=new Wt(new ve(u),0);let m=new Qt(Be);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Wt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Wt(n,0),o=this.Zr.firstAfterOrEqual(a);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.ri=e,this.docs=(function(){return new wt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return ne.resolve(a?a.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let a=Bi();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),ne.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=Bi();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||Rx(Ax(T),a)<=0||(o.has(T.key)||Rf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Se(9500)}ii(e,n){return ne.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new J2(this)}getSize(e){return ne.resolve(this.size)}}class J2 extends F2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.persistence=e,this.si=new zs((n=>Cp(n)),Ip),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=Zo.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Zo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return ne.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),ne.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return ne.resolve(a)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Tf(0),this.li=!1,this.li=!0,this.hi=new $2,this.referenceDelegate=e(this),this.Pi=new Z2(this),this.indexManager=new j2,this.remoteDocumentCache=(function(o){return new W2(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new P2(n),this.Ii=new Q2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new K2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new X2(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){he("MemoryPersistence","Starting transaction:",e);const o=new eO(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class eO extends Ix{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),ne.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(a=>{const o=ve.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lf{constructor(e,n){this.persistence=e,this.pi=new zs((a=>xx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=H2(this,n)}static mi(e,n){return new lf(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(a++,u.removeEntry(h,Re.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lh(e.data.value)),n}br(e,n,a){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=qe(),o=qe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MC()?8:Dx(vn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new tO;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(Po()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Po()<=ze.DEBUG&&he("QueryEngine","Query:",ko(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Po()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):ne.resolve())}ys(e,n){if(QT(n))return ne.resolve(null);let a=ti(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Og(n,null,"F"),a=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const h=qe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Og(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,a,o){return QT(n)||o.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,a).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,a,o)?ne.resolve(null):(Po()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ko(n)),this.vs(e,h,n,wx(o,Nu)).next((m=>m)))}))}Ds(e,n){let a=new Qt(DS(e));return n.forEach(((o,u)=>{Rf(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Po()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",ko(n)),this.ps.getDocumentsMatchingQuery(e,n,ka.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="LocalStore",rO=3e8;class iO{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new wt(Be),this.xs=new zs((u=>Cp(u)),Ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function aO(r,e,n,a){return new iO(r,e,n,a)}async function ew(r,e){const n=De(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],m=[];let p=qe();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function sO(r,e){const n=De(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const b=g.batch,R=b.keys();let O=ne.resolve();return R.forEach((H=>{O=O.next((()=>T.getEntry(p,H))).next((B=>{const L=g.docVersions.get(H);We(L!==null,48541),B.version.compareTo(L)<0&&(b.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),T.addEntry(B)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=qe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function tw(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function oO(r,e){const n=De(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,b)=>{const R=o.get(b);if(!R)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,b))));let O=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(un.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,a)),o=o.insert(b,O),(function(B,L,U){return B.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=rO?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(R,O,T)&&m.push(n.Pi.updateTargetData(u,O))}));let p=Bi(),g=qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(lO(u,h,e.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!a.isEqual(Re.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(T)}return ne.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function lO(r,e,n){let a=qe(),o=qe();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let h=Bi();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(kp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function uO(r,e){const n=De(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function cO(r,e){const n=De(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(a).next((h=>(o=new Na(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function jg(r,e,n){const a=De(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ol(h))throw h;he(kp,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function sb(r,e,n){const a=De(r);let o=Re.min(),u=qe();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,T){const b=De(p),R=b.xs.get(T);return R!==void 0?ne.resolve(b.Ms.get(R)):b.Pi.getTargetData(g,T)})(a,h,ti(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(h,e,n?o:Re.min(),n?u:qe()))).next((m=>(hO(a,Xx(e),m),{documents:m,Qs:u})))))}function hO(r,e,n){let a=r.Os.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class ob{constructor(){this.activeTargetIds=n2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fO{constructor(){this.Mo=new ob,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ob,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="ConnectivityMonitor";class ub{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(lb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(lb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function Lg(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="RestConnection",mO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ef?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const h=Lg(),m=this.zo(e,n.toUriEncodedString());he(rg,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),T=nl(g);return this.Jo(e,m,p,a,T).then((b=>(he(rg,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Qo(rg,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",a),b}))}Ho(e,n,a,o,u,h){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=mO[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class yO extends gO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const h=Lg();return new Promise(((m,p)=>{const g=new nS;g.setWithCredentials(!0),g.listenOnce(rS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case jh.NO_ERROR:const b=g.getResponseJson();he(mn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case jh.TIMEOUT:he(mn,`RPC '${e}' ${h} timed out`),p(new ce(te.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const R=g.getStatus();if(he(mn,`RPC '${e}' ${h} failed with status:`,R,"response text:",g.getResponseText()),R>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const H=O?.error;if(H&&H.status&&H.message){const B=(function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(W)>=0?W:te.UNKNOWN})(H.status);p(new ce(B,H.message))}else p(new ce(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(mn,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);he(mn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",T,a,15)}))}T_(e,n,a){const o=Lg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=sS(),m=aS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const T=u.join("");he(mn,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=h.createWebChannel(T,p);this.I_(b);let R=!1,O=!1;const H=new pO({Yo:L=>{O?he(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(R||(he(mn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),he(mn,`RPC '${e}' stream ${o} sending:`,L),b.send(L))},Zo:()=>b.close()}),B=(L,U,W)=>{L.listen(U,(re=>{try{W(re)}catch(se){setTimeout((()=>{throw se}),0)}}))};return B(b,gu.EventType.OPEN,(()=>{O||(he(mn,`RPC '${e}' stream ${o} transport opened.`),H.o_())})),B(b,gu.EventType.CLOSE,(()=>{O||(O=!0,he(mn,`RPC '${e}' stream ${o} transport closed`),H.a_(),this.E_(b))})),B(b,gu.EventType.ERROR,(L=>{O||(O=!0,Qo(mn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),H.a_(new ce(te.UNAVAILABLE,"The operation could not be completed")))})),B(b,gu.EventType.MESSAGE,(L=>{if(!O){const U=L.data[0];We(!!U,16349);const W=U,re=W?.error||W[0]?.error;if(re){he(mn,`RPC '${e}' stream ${o} received error:`,re);const se=re.status;let fe=(function(A){const I=Ht[A];if(I!==void 0)return qS(I)})(se),ge=re.message;fe===void 0&&(fe=te.INTERNAL,ge="Unknown error status: "+se+" with message "+re.message),O=!0,H.a_(new ce(fe,ge)),b.close()}else he(mn,`RPC '${e}' stream ${o} received:`,U),H.u_(U)}})),B(m,iS.STAT_EVENT,(L=>{L.stat===Ag.PROXY?he(mn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===Ag.NOPROXY&&he(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(r){return new T2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="PersistentStream";class rw{constructor(e,n,a,o,u,h,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new ce(te.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vO extends rw{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=w2(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?ri(h.readTime):Re.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=kg(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Ng(p)?{documents:C2(u,p)}:{query:I2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=GS(u,h.resumeToken);const g=Mg(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=of(u,h.snapshotVersion.toTimestamp());const g=Mg(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=N2(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=kg(this.serializer),n.removeTarget=e,this.q_(n)}}class _O extends rw{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=R2(e.writeResults,e.commitTime),a=ri(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=kg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>A2(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{}class TO extends EO{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Vg(n,a),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(te.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Vg(n,a),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(te.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class SO{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{a.enqueueAndForget((async()=>{Bs(this)&&(he(Vs,"Restarting streams for network reachability change."),await(async function(p){const g=De(p);g.Ea.add(4),await $u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await xf(g)})(this))}))})),this.Ra=new bO(a,o)}}async function xf(r){if(Bs(r))for(const e of r.da)await e(!0)}async function $u(r){for(const e of r.da)await e(!1)}function iw(r,e){const n=De(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?Up(n):ll(n).O_()&&Lp(n,e))}function jp(r,e){const n=De(r),a=ll(n);n.Ia.delete(e),a.O_()&&aw(n,e),n.Ia.size===0&&(a.O_()?a.L_():Bs(n)&&n.Ra.set("Unknown"))}function Lp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(r).Y_(e)}function aw(r,e){r.Va.Ue(e),ll(r).Z_(e)}function Up(r){r.Va=new y2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ll(r).start(),r.Ra.ua()}function zp(r){return Bs(r)&&!ll(r).x_()&&r.Ia.size>0}function Bs(r){return De(r).Ea.size===0}function sw(r){r.Va=void 0}async function wO(r){r.Ra.set("Online")}async function AO(r){r.Ia.forEach(((e,n)=>{Lp(r,e)}))}async function RO(r,e){sw(r),zp(r)?(r.Ra.ha(e),Up(r)):r.Ra.set("Unknown")}async function CO(r,e,n){if(r.Ra.set("Online"),e instanceof FS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){he(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uf(r,a)}else if(e instanceof Bh?r.Va.Ze(e):e instanceof HS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Re.min()))try{const a=await tw(r.localStore);n.compareTo(a)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(un.EMPTY_BYTE_STRING,T.snapshotVersion)),aw(u,p);const b=new Na(T.target,p,g,T.sequenceNumber);Lp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){he(Vs,"Failed to raise snapshot:",a),await uf(r,a)}}async function uf(r,e,n){if(!ol(e))throw e;r.Ea.add(1),await $u(r),r.Ra.set("Offline"),n||(n=()=>tw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(Vs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await xf(r)}))}function ow(r,e){return e().catch((n=>uf(r,n,e)))}async function Of(r){const e=De(r),n=za(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wp;for(;IO(e);)try{const o=await uO(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,DO(e,o)}catch(o){await uf(e,o)}lw(e)&&uw(e)}function IO(r){return Bs(r)&&r.Ta.length<10}function DO(r,e){r.Ta.push(e);const n=za(r);n.O_()&&n.X_&&n.ea(e.mutations)}function lw(r){return Bs(r)&&!za(r).x_()&&r.Ta.length>0}function uw(r){za(r).start()}async function NO(r){za(r).ra()}async function xO(r){const e=za(r);for(const n of r.Ta)e.ea(n.mutations)}async function OO(r,e,n){const a=r.Ta.shift(),o=Np.from(a,e,n);await ow(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Of(r)}async function MO(r,e){e&&za(r).X_&&await(async function(a,o){if((function(h){return m2(h)&&h!==te.ABORTED})(o.code)){const u=a.Ta.shift();za(a).B_(),await ow(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Of(a)}})(r,e),lw(r)&&uw(r)}async function hb(r,e){const n=De(r);n.asyncQueue.verifyOperationInProgress(),he(Vs,"RemoteStore received new credentials");const a=Bs(n);n.Ea.add(3),await $u(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xf(n)}async function VO(r,e){const n=De(r);e?(n.Ea.delete(2),await xf(n)):e||(n.Ea.add(2),await $u(n),n.Ra.set("Unknown"))}function ll(r){return r.ma||(r.ma=(function(n,a,o){const u=De(n);return u.sa(),new vO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:wO.bind(null,r),t_:AO.bind(null,r),r_:RO.bind(null,r),H_:CO.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zp(r)?Up(r):r.Ra.set("Unknown")):(await r.ma.stop(),sw(r))}))),r.ma}function za(r){return r.fa||(r.fa=(function(n,a,o){const u=De(n);return u.sa(),new _O(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:NO.bind(null,r),r_:MO.bind(null,r),ta:xO.bind(null,r),na:OO.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Of(r)):(await r.fa.stop(),r.Ta.length>0&&(he(Vs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,m=new Bp(e,n,h,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(r,e){if(zi("AsyncQueue",`${e}: ${r}`),ol(r))return new ce(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ve.comparator(n.key,a.key):(n,a)=>ve.comparator(n.key,a.key),this.keyedMap=pu(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Go;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(){this.ga=new wt(ve.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class el{constructor(e,n,a,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new el(e,n,Go.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kO{constructor(){this.queries=db(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=De(n),u=o.queries;o.queries=db(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new ce(te.ABORTED,"Firestore shutting down"))}}function db(){return new zs((r=>IS(r)),Af)}async function Hp(r,e){const n=De(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new PO,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=qp(h,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Gp(n)}async function Fp(r,e){const n=De(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function jO(r,e){const n=De(r);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(a=!0);h.wa=o}}a&&Gp(n)}function LO(r,e,n){const a=De(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Gp(r){r.Ca.forEach((e=>{e.next()}))}var Ug,mb;(mb=Ug||(Ug={})).Ma="default",mb.Cache="cache";class Yp{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new el(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ug.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.key=e}}class hw{constructor(e){this.key=e}}class UO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=DS(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new fb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const R=o.get(T),O=Rf(this.query,b)?b:null,H=!!R&&this.mutatedKeys.has(R.key),B=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;R&&O?R.data.isEqual(O.data)?H!==B&&(a.track({type:3,doc:O}),L=!0):this.su(R,O)||(a.track({type:2,doc:O}),L=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!R&&O?(a.track({type:0,doc:O}),L=!0):R&&!O&&(a.track({type:1,doc:R}),L=!0,(p||g)&&(m=!0)),L&&(O?(h=h.add(O),u=B?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{tu:h,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,b)=>(function(O,H){const B=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:L})}};return B(O)-B(H)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new el(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new hw(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new cw(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qp="SyncEngine";class zO{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class BO{constructor(e){this.key=e,this.hu=!1}}class qO{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new zs((m=>IS(m)),Af),this.Iu=new Map,this.Eu=new Set,this.du=new wt(ve.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=Zo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HO(r,e,n=!0){const a=yw(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await fw(a,e,n,!0),o}async function FO(r,e){const n=yw(r);await fw(n,e,!0,!1)}async function fw(r,e,n,a){const o=await cO(r.localStore,ti(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await GO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&iw(r.remoteStore,o),m}async function GO(r,e,n,a,o){r.pu=(b,R,O)=>(async function(B,L,U,W){let re=L.view.ru(U);re.Cs&&(re=await sb(B.localStore,L.query,!1).then((({documents:D})=>L.view.ru(D,re))));const se=W&&W.targetChanges.get(L.targetId),fe=W&&W.targetMismatches.get(L.targetId)!=null,ge=L.view.applyChanges(re,B.isPrimaryClient,se,fe);return pb(B,L.targetId,ge.au),ge.snapshot})(r,b,R,O);const u=await sb(r.localStore,e,!0),h=new UO(e,u.Qs),m=h.ru(u.documents),p=Ku.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);pb(r,n,g.au);const T=new zO(e,n,h);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function YO(r,e,n){const a=De(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((h=>!Af(h,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await jg(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&jp(a.remoteStore,o.targetId),zg(a,o.targetId)})).catch(sl)):(zg(a,o.targetId),await jg(a.localStore,o.targetId,!0))}async function QO(r,e){const n=De(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),jp(n.remoteStore,a.targetId))}async function KO(r,e,n){const a=tM(r);try{const o=await(function(h,m){const p=De(h),g=gt.now(),T=m.reduce(((O,H)=>O.add(H.key)),qe());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let H=Bi(),B=qe();return p.Ns.getEntries(O,T).next((L=>{H=L,H.forEach(((U,W)=>{W.isValidDocument()||(B=B.add(U))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,H))).next((L=>{b=L;const U=[];for(const W of m){const re=u2(W,b.get(W.key).overlayedDocument);re!=null&&U.push(new Ga(W.key,re,ES(re.value.mapValue),ni.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,U,m)})).next((L=>{R=L;const U=L.applyToLocalDocumentSet(b,B);return p.documentOverlayCache.saveOverlays(O,L.batchId,U)}))})).then((()=>({batchId:R.batchId,changes:xS(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new wt(Be)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(a,o.batchId,n),await Xu(a,o.changes),await Of(a.remoteStore)}catch(o){const u=qp(o,"Failed to persist write");n.reject(u)}}async function dw(r,e){const n=De(r);try{const a=await oO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))})),await Xu(n,a,e)}catch(a){await sl(a)}}function gb(r,e,n){const a=De(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=De(h);p.onlineState=m;let g=!1;p.queries.forEach(((T,b)=>{for(const R of b.Sa)R.va(m)&&(g=!0)})),g&&Gp(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function $O(r,e,n){const a=De(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let h=new wt(ve.comparator);h=h.insert(u,yn.newNoDocument(u,Re.min()));const m=qe().add(u),p=new Df(Re.min(),new Map,new wt(Be),h,m);await dw(a,p),a.du=a.du.remove(u),a.Au.delete(e),Kp(a)}else await jg(a.localStore,e,!1).then((()=>zg(a,e,n))).catch(sl)}async function XO(r,e){const n=De(r),a=e.batch.batchId;try{const o=await sO(n.localStore,e);gw(n,a,null),mw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Xu(n,o)}catch(o){await sl(o)}}async function WO(r,e,n){const a=De(r);try{const o=await(function(h,m){const p=De(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(We(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(a.localStore,e);gw(a,e,n),mw(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Xu(a,o)}catch(o){await sl(o)}}function mw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function gw(r,e,n){const a=De(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function zg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||pw(r,a)}))}function pw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(jp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Kp(r))}function pb(r,e,n){for(const a of n)a instanceof cw?(r.Ru.addReference(a.key,e),JO(r,a)):a instanceof hw?(he(Qp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||pw(r,a.key)):Se(19791,{wu:a})}function JO(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(he(Qp,"New document in limbo: "+n),r.Eu.add(a),Kp(r))}function Kp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(lt.fromString(e)),a=r.fu.next();r.Au.set(a,new BO(n)),r.du=r.du.insert(n,a),iw(r.remoteStore,new Na(ti(wf(n.path)),a,"TargetPurposeLimboResolution",Tf.ce))}}async function Xu(r,e,n){const a=De(r),o=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{h.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=Pp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(h),a.Pu.H_(o),await(async function(p,g){const T=De(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ne.forEach(g,(R=>ne.forEach(R.Es,(O=>T.persistence.referenceDelegate.addReference(b,R.targetId,O))).next((()=>ne.forEach(R.ds,(O=>T.persistence.referenceDelegate.removeReference(b,R.targetId,O)))))))))}catch(b){if(!ol(b))throw b;he(kp,"Failed to update sequence numbers: "+b)}for(const b of g){const R=b.targetId;if(!b.fromCache){const O=T.Ms.get(R),H=O.snapshotVersion,B=O.withLastLimboFreeSnapshotVersion(H);T.Ms=T.Ms.insert(R,B)}}})(a.localStore,u))}async function ZO(r,e){const n=De(r);if(!n.currentUser.isEqual(e)){he(Qp,"User change. New user:",e.toKey());const a=await ew(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(te.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Xu(n,a.Ls)}}function eM(r,e){const n=De(r),a=n.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function yw(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=dw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$O.bind(null,e),e.Pu.H_=jO.bind(null,e.eventManager),e.Pu.yu=LO.bind(null,e.eventManager),e}function tM(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WO.bind(null,e),e}class cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return aO(this.persistence,new nO,e.initialUser,this.serializer)}Cu(e){return new ZS(Vp.mi,this.serializer)}Du(e){return new fO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cf.provider={build:()=>new cf};class nM extends cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof lf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new B2(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new ZS((a=>lf.mi(a,n)),this.serializer)}}class Bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>gb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZO.bind(null,this.syncEngine),await VO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kO})()}createDatastore(e){const n=Nf(e.databaseInfo.databaseId),a=(function(u){return new yO(u)})(e.databaseInfo);return(function(u,h,m,p){return new TO(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,h,m){return new SO(a,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>gb(this.syncEngine,n,0)),(function(){return ub.v()?new ub:new dO})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,T){const b=new qO(o,u,h,m,p,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=De(n);he(Vs,"RemoteStore shutting down."),a.Ea.add(5),await $u(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class rM{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Sp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{he(Ba,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(he(Ba,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=qp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function ag(r,e){r.asyncQueue.verifyOperationInProgress(),he(Ba,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await ew(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yb(r,e){r.asyncQueue.verifyOperationInProgress();const n=await iM(r);he(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>hb(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>hb(e.remoteStore,o))),r._onlineComponents=e}async function iM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Ba,"Using user provided OfflineComponentProvider");try{await ag(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Qo("Error using user provided cache. Falling back to memory cache: "+n),await ag(r,new cf)}}else he(Ba,"Using default OfflineComponentProvider"),await ag(r,new nM(void 0));return r._offlineComponents}async function vw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Ba,"Using user provided OnlineComponentProvider"),await yb(r,r._uninitializedComponentsProvider._online)):(he(Ba,"Using default OnlineComponentProvider"),await yb(r,new Bg))),r._onlineComponents}function aM(r){return vw(r).then((e=>e.syncEngine))}async function hf(r){const e=await vw(r),n=e.eventManager;return n.onListen=HO.bind(null,e.syncEngine),n.onUnlisten=YO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QO.bind(null,e.syncEngine),n}function sM(r,e,n={}){const a=new Pi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new $p({next:R=>{T.Nu(),h.enqueueAndForget((()=>Fp(u,b)));const O=R.docs.has(m);!O&&R.fromCache?g.reject(new ce(te.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&p&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new Yp(wf(m.path),T,{includeMetadataChanges:!0,qa:!0});return Hp(u,b)})(await hf(r),r.asyncQueue,e,n,a))),a.promise}function oM(r,e,n={}){const a=new Pi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new $p({next:R=>{T.Nu(),h.enqueueAndForget((()=>Fp(u,b))),R.fromCache&&p.source==="server"?g.reject(new ce(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new Yp(m,T,{includeMetadataChanges:!0,qa:!0});return Hp(u,b)})(await hf(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firestore.googleapis.com",_b=!0;class Eb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ew,this.ssl=_b}else this.host=e.host,this.ssl=e.ssl??_b;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<U2)throw new ce(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_w(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Eb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Eb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new dx;switch(a.type){case"firstParty":return new yx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=vb.get(n);a&&(he("ComponentProvider","Removing Datastore"),vb.delete(n),a.terminate())})(this),Promise.resolve()}}function lM(r,e,n,a={}){r=cr(r,Mf);const o=nl(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(d0(`https://${m}`),m0("Firestore",!0)),u.host!==Ew&&u.host!==m&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!ji(p,h)&&(r._setSettings(p),a.mockUserToken)){let g,T;if(typeof a.mockUserToken=="string")g=a.mockUserToken,T=pn.MOCK_USER;else{g=wC(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ce(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new pn(b)}r._authCredentials=new mx(new lS(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new qs(this.firestore,e,this._query)}}class It{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Gu(n,It._jsonSchema))return new It(e,a||null,new ve(lt.fromString(n.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:Gt("string",It._jsonSchemaVersion),referencePath:Gt("string")};class Pa extends qs{constructor(e,n,a){super(e,n,wf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ve(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function sg(r,e,...n){if(r=Kt(r),uS("collection","path",e),r instanceof Mf){const a=lt.fromString(e,...n);return MT(a),new Pa(r,null,a)}{if(!(r instanceof It||r instanceof Pa))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(lt.fromString(e,...n));return MT(a),new Pa(r.firestore,null,a)}}function Yn(r,e,...n){if(r=Kt(r),arguments.length===1&&(e=Sp.newId()),uS("doc","path",e),r instanceof Mf){const a=lt.fromString(e,...n);return OT(a),new It(r,null,new ve(a))}{if(!(r instanceof It||r instanceof Pa))throw new ce(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(lt.fromString(e,...n));return OT(a),new It(r.firestore,r instanceof Pa?r.converter:null,new ve(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="AsyncQueue";class bb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nw(this,"async_queue_retry"),this._c=()=>{const a=ig();a&&he(Tb,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Pi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ol(e))throw e;he(Tb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",Sb(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:Sb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Sb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Ps extends Mf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new bb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bb(e),this._firestoreClient=void 0,await e}}}function uM(r,e){const n=typeof r=="object"?r:v0(),a=typeof r=="string"?r:ef,o=dp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=bC("firestore");u&&lM(o,...u)}return o}function Vf(r){if(r._terminated)throw new ce(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cM(r),r._firestoreClient}function cM(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new Vx(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_w(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new rM(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ur(un.fromBase64String(e))}catch(n){throw new ce(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ur(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ur._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gu(e,ur._jsonSchema))return ur.fromBase64String(e.bytes)}}ur._jsonSchemaVersion="firestore/bytes/1.0",ur._jsonSchema={type:Gt("string",ur._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(Gu(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:Gt("string",ii._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gu(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ai(e.vectorValues);throw new ce(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Gt("string",ai._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=/^__.*__$/;class fM{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}class Tw{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class kf{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ff(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(bw(this.Ac)&&hM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dM{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Nf(e)}Cc(e,n,a,o=!1){return new kf({Ac:e,methodName:n,Dc:a,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xp(r){const e=r._freezeSettings(),n=Nf(r._databaseId);return new dM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function mM(r,e,n,a,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",h,a);const m=ww(a,h);let p,g;if(u.merge)p=new Qn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const R=qg(e,b,n);if(!h.contains(R))throw new ce(te.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);Rw(T,R)||T.push(R)}p=new Qn(T),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new fM(new Mn(m),p,g)}class jf extends Wu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jf}}function Sw(r,e,n){return new kf({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Wp extends Wu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Sw(this,e,!0),a=this.vc.map((u=>Hs(u,n))),o=new Wo(a);return new LS(e.path,o)}isEqual(e){return e instanceof Wp&&ji(this.vc,e.vc)}}class Jp extends Wu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Sw(this,e,!0),a=this.vc.map((u=>Hs(u,n))),o=new Jo(a);return new LS(e.path,o)}isEqual(e){return e instanceof Jp&&ji(this.vc,e.vc)}}function gM(r,e,n,a){const o=r.Cc(1,e,n);Zp("Data must be an object, but it was:",o,a);const u=[],h=Mn.empty();Fa(a,((p,g)=>{const T=ey(e,p,n);g=Kt(g);const b=o.yc(T);if(g instanceof jf)u.push(T);else{const R=Hs(g,b);R!=null&&(u.push(T),h.set(T,R))}}));const m=new Qn(u);return new Tw(h,m,o.fieldTransforms)}function pM(r,e,n,a,o,u){const h=r.Cc(1,e,n),m=[qg(e,a,n)],p=[o];if(u.length%2!=0)throw new ce(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(qg(e,u[R])),p.push(u[R+1]);const g=[],T=Mn.empty();for(let R=m.length-1;R>=0;--R)if(!Rw(g,m[R])){const O=m[R];let H=p[R];H=Kt(H);const B=h.yc(O);if(H instanceof jf)g.push(O);else{const L=Hs(H,B);L!=null&&(g.push(O),T.set(O,L))}}const b=new Qn(g);return new Tw(T,b,h.fieldTransforms)}function yM(r,e,n,a=!1){return Hs(n,r.Cc(a?4:3,e))}function Hs(r,e){if(Aw(r=Kt(r)))return Zp("Unsupported field value:",e,r),ww(r,e);if(r instanceof Wu)return(function(a,o){if(!bw(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let h=0;for(const m of a){let p=Hs(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Kt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return r2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=gt.fromDate(a);return{timestampValue:of(o.serializer,u)}}if(a instanceof gt){const u=new gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:of(o.serializer,u)}}if(a instanceof ii)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ur)return{bytesValue:GS(o.serializer,a._byteString)};if(a instanceof It){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ai)return(function(h,m){return{mapValue:{fields:{[vS]:{stringValue:_S},[tf]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Dp(m.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Ef(a)}`)})(r,e)}function ww(r,e){const n={};return fS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(r,((a,o)=>{const u=Hs(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function Aw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof ii||r instanceof ur||r instanceof It||r instanceof Wu||r instanceof ai)}function Zp(r,e,n){if(!Aw(n)||!cS(n)){const a=Ef(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function qg(r,e,n){if((e=Kt(e))instanceof Pf)return e._internalPath;if(typeof e=="string")return ey(r,e);throw ff("Field path arguments must be of type string or ",r,!1,void 0,n)}const vM=new RegExp("[~\\*/\\[\\]]");function ey(r,e,n){if(e.search(vM)>=0)throw ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Pf(...e.split("."))._internalPath}catch{throw ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ff(r,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new ce(te.INVALID_ARGUMENT,m+r+p)}function Rw(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ty("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _M extends Cw{data(){return super.data()}}function ty(r,e){return typeof e=="string"?ey(r,e):e instanceof Pf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ny{}class EM extends ny{}function Ab(r,e,...n){let a=[];e instanceof ny&&a.push(e),a=a.concat(n),(function(u){const h=u.filter((p=>p instanceof ry)).length,m=u.filter((p=>p instanceof Lf)).length;if(h>1||h>0&&m>0)throw new ce(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Lf extends EM{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Lf(e,n,a)}_apply(e){const n=this._parse(e);return Dw(e._query,n),new qs(e.firestore,e.converter,xg(e._query,n))}_parse(e){const n=Xp(e.firestore);return(function(u,h,m,p,g,T,b){let R;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Ib(b,T);const H=[];for(const B of b)H.push(Cb(p,u,B));R={arrayValue:{values:H}}}else R=Cb(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Ib(b,T),R=yM(m,h,b,T==="in"||T==="not-in");return Ft.create(g,T,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rb(r,e,n){const a=e,o=ty("where",r);return Lf._create(o,a,n)}class ry extends ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ry(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Dw(h,p),h=xg(h,p)})(e._query,n),new qs(e.firestore,e.converter,xg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Cb(r,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new ce(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CS(e)&&n.indexOf("/")!==-1)throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(lt.fromString(n));if(!ve.isDocumentKey(a))throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return BT(r,new ve(a))}if(n instanceof It)return BT(r,n._key);throw new ce(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(n)}.`)}function Ib(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Dw(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class TM{convertValue(e,n="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Fa(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[tf].arrayValue?.values?.map((a=>Mt(a.doubleValue)));return new ai(n)}convertGeoPoint(e){return new ii(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Sf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=ja(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=lt.fromString(e);We(WS(a),9688,{name:e});const o=new Ou(a.get(1),a.get(3)),u=new ve(a.popFirst(5));return o.isEqual(n)||zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cs extends Cw{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(ty("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:Gt("string",Cs._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class qh extends Cs{data(e={}){return super.data(e)}}class Is{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new vu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new qh(this._firestore,this._userDataWriter,a.key,a,new vu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:SM(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Is._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r){r=cr(r,It);const e=cr(r.firestore,Ps);return sM(Vf(e),r._key).then((n=>Ow(e,r,n)))}Is._jsonSchemaVersion="firestore/querySnapshot/1.0",Is._jsonSchema={type:Gt("string",Is._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class iy extends TM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ur(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function og(r){r=cr(r,qs);const e=cr(r.firestore,Ps),n=Vf(e),a=new iy(e);return Iw(r._query),oM(n,r._query).then((o=>new Is(e,a,r,o)))}function Nw(r,e,n){r=cr(r,It);const a=cr(r.firestore,Ps),o=bM(r.converter,e);return xw(a,[mM(Xp(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ni.none())])}function Ni(r,e,n,...a){r=cr(r,It);const o=cr(r.firestore,Ps),u=Xp(o);let h;return h=typeof(e=Kt(e))=="string"||e instanceof Pf?pM(u,"updateDoc",r._key,e,n,a):gM(u,"updateDoc",r._key,e),xw(o,[h.toMutation(r._key,ni.exists(!0))])}function wM(r,...e){r=Kt(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||wb(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wb(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof It)h=cr(r.firestore,Ps),m=wf(r._key.path),u={next:p=>{e[a]&&e[a](Ow(h,r,p))},error:e[a+1],complete:e[a+2]};else{const p=cr(r,qs);h=cr(p.firestore,Ps),m=p._query;const g=new iy(h);u={next:T=>{e[a]&&e[a](new Is(h,g,p,T))},error:e[a+1],complete:e[a+2]},Iw(r._query)}return(function(g,T,b,R){const O=new $p(R),H=new Yp(T,O,b);return g.asyncQueue.enqueueAndForget((async()=>Hp(await hf(g),H))),()=>{O.Nu(),g.asyncQueue.enqueueAndForget((async()=>Fp(await hf(g),H)))}})(Vf(h),m,o,u)}function xw(r,e){return(function(a,o){const u=new Pi;return a.asyncQueue.enqueueAndForget((async()=>KO(await aM(a),o,u))),u.promise})(Vf(r),e)}function Ow(r,e,n){const a=n.docs.get(e._key),o=new iy(r);return new Cs(r,o,e._key,a,new vu(n.hasPendingWrites,n.fromCache),e.converter)}function Hg(...r){return new Wp("arrayUnion",r)}function Vo(...r){return new Jp("arrayRemove",r)}(function(e,n=!0){(function(o){al=o})(rl),Yo(new Ns("firestore",((a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new Ps(new gx(a.getProvider("auth-internal")),new vx(h,a.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(g.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ma(IT,DT,e),Ma(IT,DT,"esm2020")})();const AM={apiKey:"AIzaSyBFmgdBIS13T2UVsnHRHb1gkb2i0BtfZFQ",authDomain:"equicare-442.firebaseapp.com",projectId:"equicare-442",storageBucket:"equicare-442.firebasestorage.app",messagingSenderId:"544581394107",appId:"1:544581394107:web:10722b7cadde93ed90139e"},Mw=y0(AM),si=ux(Mw),gn=uM(Mw);function RM(){const[r,e]=z.useState(null);return z.useEffect(()=>{const n=Us(si,a=>{e(a)});return()=>n()},[]),_.jsxs("div",{children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(Ee,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(Ee,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(Ee,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(Ee,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(Ee,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(Ee,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsxs("div",{className:"mainpage",children:[_.jsxs("div",{className:"main-content",children:[_.jsx("div",{className:"brand-title",children:_.jsx("h1",{className:"brand-name",children:"EquiCare"})}),_.jsx("h2",{className:"main-headline",children:"Navigating pregnancy and partnership, made simple."}),_.jsxs("div",{className:"mission-card",children:[_.jsx("h3",{children:"Our Mission"}),_.jsx("p",{children:"Parenthood is a journey meant to be shared. From personalized date nights, shared calendars, to journal check-ins, EquiCare is here to help you and your partner communicate, grow, and care for each other through every stage of pregnancy and beyond."})]}),_.jsx(Ee,{to:"/datequiz",className:"quiz-button-div",children:_.jsx("button",{className:"quiz-button",children:"Date Idea Generator"})})]}),_.jsx("div",{className:"bubble-bg bubble-left",children:_.jsx("img",{src:"./bubbles.png",alt:"bubbles",className:"bubbles-image"})}),_.jsx("div",{className:"bubble-bg bubble-right",children:_.jsx("img",{src:"./bubbles.png",alt:"bubbles",className:"bubbles-image mirror"})})]})}),_.jsx("footer",{id:"home-footer",children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}async function Db(r){const e=Yn(gn,"users",r.uid);(await Uf(e)).exists()||await Nw(e,{email:r.email,linkedCalendar:null,profileData:{name:"Jane Doe",location:"Seattle, WA",term:"Second Trimester (Week 18)",nextEvent:"None yet",partner:"Not connected"},relationshipData:{relationshipStatus:"",anniversaryDate:"",notes:""},partnerInvites:[],notifications:[]})}async function CM(r,e){const n=Yn(gn,"calendars",r);if(!(await Uf(n)).exists()){await Nw(n,{events:[e]});return}await Ni(n,{events:Hg(e)})}function IM(){const[r,e]=z.useState(null),n=sp(),[a,o]=z.useState("");z.useEffect(()=>{const B=Us(si,L=>{e(L)});return()=>B()},[]);const[u,h]=z.useState(""),[m,p]=z.useState(""),[g,T]=z.useState(""),[b,R]=z.useState("");async function O(){try{const B=await KD(si,u,m);await Db(B.user),console.log("Account created successfully!"),n("/")}catch(B){o("Could not sign up: "+B.message)}}async function H(){try{const B=await $D(si,g,b);await Db(B.user),console.log("Logged in successfully:",g),n("/")}catch(B){o("Could not log in: "+B.message)}}return _.jsxs(_.Fragment,{children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(Ee,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(Ee,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(Ee,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(Ee,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(Ee,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(Ee,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(Ee,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsxs("div",{id:"signup-login",children:[_.jsxs("div",{id:"signup-box",children:[_.jsx("h1",{children:"Create an account"}),_.jsxs("div",{className:"signup-form",children:[_.jsx("label",{children:"Email"}),_.jsx("input",{type:"text",value:u,onChange:B=>h(B.target.value),required:!0}),_.jsx("label",{children:"Password"}),_.jsx("input",{type:"password",value:m,onChange:B=>p(B.target.value),required:!0}),_.jsx("button",{type:"button",className:"green-button",onClick:O,children:_.jsx("h3",{children:"Create Account"})}),a&&_.jsx("p",{style:{color:"red"},children:a})]})]}),_.jsxs("div",{id:"login-box",children:[_.jsx("h2",{children:"Have an account?"}),_.jsxs("div",{className:"login-form",children:[_.jsx("label",{children:"Email"}),_.jsx("input",{type:"text",value:g,onChange:B=>T(B.target.value),required:!0}),_.jsx("label",{children:"Password"}),_.jsx("input",{type:"password",value:b,onChange:B=>R(B.target.value),required:!0}),_.jsx("button",{type:"button",className:"blue-button",onClick:H,children:_.jsx("h3",{children:"Log In"})})]})]})]})})]})}const fu=[{id:1,question:"Question 1: How are you feeling this week?",options:["Energized","Calm and relaxed","Tired","Curious"]},{id:2,question:"Question 2: Whats your ideal vibe for a night together?",options:["Romantic and quiet","Fun and playful","Creative and hands-on","New and refreshing"]},{id:3,question:"Question 3: How active of a date are you seeking?",options:["Something Active","Moderate energy","Chill and easy","No/low energy"]},{id:4,question:"Question 4: What's your preferred budget?",options:["$0-25 (At home or simple outing)","$25-75 (A nice meal or activity)","$75+ (A special occasion or splurge)"]},{id:5,question:"Question 5: Prefer to stay in or go out?",options:["Stay In","Go Out","A mix- maybe go out and then spend the night at home","No preference"]},{id:6,question:"Question 6: What kind of connection do you want to develop tonight?",options:["Deep conversation","Laughter and playfulness","Shared creativity","Physical closeness","Something else"]},{id:7,question:"Question 7: Which statement describes how you express love?",options:["I show love through compliments and affirmations","I show love through touch and closeness","I show love through acts of service","I show love through quality time","I show love through thoughtful gifts"]},{id:8,question:"Question 8: Pick your ideal activity!",options:["Food-related (cooking, picnic, trying a new restaurant)","Arts & Entertainment (movie, painting, concert)","Movement (walk, yoga, dance night, workout classes)","Learning something new (class, DIY, skill development)","Something else"]},{id:9,question:"Question 9: What time of day do you want to spend time together?",options:["Morning","Afternoon","Evening/Night"]},{id:10,question:"Question 10: How spontaneous are you feeling?",options:["Let's plan and make it nice","Let's see where the night take us","Somewhere in between"]}];function DM(){const[r,e]=z.useState(null);z.useEffect(()=>{const U=Us(si,W=>{e(W)});return()=>U()},[]);const[n,a]=z.useState(0),[o,u]=z.useState([]),[h,m]=z.useState(!1),[p,g]=z.useState(0),T=U=>{const W=[...o];W[n]=U,u(W)},b=()=>{n<fu.length-1?a(n+1):m(!0)},O=(()=>{const U=o.join(" ").toLowerCase();return U.includes("tired")||U.includes("no/low energy")||U.includes("stay in")||U.includes("deep conversation")?"The Cozy Companions":U.includes("romantic")||U.includes("quiet")||U.includes("affirmations")||U.includes("quality time")?"The Dreamy Romantics":U.includes("fun")||U.includes("playful")||U.includes("laughter")||U.includes("touch")?"The Playful Partners":U.includes("creative")||U.includes("arts")||U.includes("learning")||U.includes("diy")?"The Creative Duo":U.includes("new and refreshing")||U.includes("movement")||U.includes("outdoors")||U.includes("walk")?"The Gentle Explorers":U.includes("mix")||U.includes("somewhere in between")||U.includes("moderate energy")?"The Balanced Blenders":U.includes("acts of service")||U.includes("physical closeness")||U.includes("morning")||U.includes("something else")?"The Comfort Seekers":U.includes("special occasion")||U.includes("$75+")?"The Celebration Mood":"The Balanced Blenders"})(),H={"The Cozy Companions":"You're craving warmth, comfort, and closeness. Tonight's about slowing down, feeling safe, and reconnecting. Try a movie marathon, pajama night, or a guided mediation session.","The Dreamy Romantics":"You're in the mood for quiet connection and affection. Try a candlelight dinner or a cozy evening sharing dreams.","The Playful Partners":"You're ready for fun and laughter! Think games, mocktails, or anything that makes you both smile.","The Creative Duo":"You thrive on imagination and shared projects  try painting, cooking, or creating something meaningful together.","The Gentle Explorers":"You're feeling refreshed and want to explore gently. Try a park picnic, sunset stroll, or farmers market trip.","The Balanced Blenders":"You enjoy both cozy and outgoing moments. Mix it up with dinner in followed by a sweet treat out.","The Comfort Seekers":"You're in need of comfort and care. Keep it simple: a movie night, hand massages, or a calm tea ritual.","The Celebration Mood":"It's time to celebrate! Treat yourselves to a fancy dinner, staycation, or special night to honor your journey together."},B=(n+(h?1:0))/fu.length*100,L=U=>({"The Cozy Companions":[{title:"Movie Marathon",image:"./cozy1.png"},{title:"Meditation Session",image:"./cozy2.png"},{title:"Breakfast for Dinner",image:"./cozy3.png"}],"The Dreamy Romantics":[{title:"Stargazing",image:"./romantic1.png"},{title:"Candlelight Dinner",image:"./romantic2.png"},{title:"Love Letter Exchange",image:"./romantic3.png"}],"The Playful Partners":[{title:"Board Game Night",image:"./playful1.png"},{title:"Mocktail Mix-Off",image:"./playful2.png"},{title:"Karaoke Battle",image:"./playful3.png"}],"The Creative Duo":[{title:"Paint Night",image:"./creative1.png"},{title:"DIY Photo Album",image:"./creative2.png"},{title:"Baking/Cooking Challenge",image:"./creative3.png"}],"The Gentle Explorers":[{title:"Picnic in the Park",image:"./gentle1.png"},{title:"Drive-In Movie",image:"./gentle2.png"},{title:"Going for a Walk",image:"./gentle3.jpg"}],"The Balanced Blenders":[{title:"Game Night with late night treats",image:"./balanced1.jpg"},{title:"Homemade dinner and short scenic drives ",image:"./balanced2.png"},{title:"Cook together, then take evening walk",image:"./balanced3.png"}],"The Comfort Seekers":[{title:"Spa Night",image:"./comfort1.jpg"},{title:"Order-in dinner and favorite show ",image:"./comfort2.png"},{title:"Cosy tea and talk night",image:"./comfort3.png"}],"The Celebration Mood":[{title:"Fancy dinner out",image:"./celebrate1.png"},{title:"Staycation hotel night",image:"./celebrate2.png"},{title:"Dress up for a date-in restaurant experience",image:"./celebrate3.png"}]})[U]||[];return _.jsxs("div",{className:"date-quiz-page",children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(Ee,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(Ee,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(Ee,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(Ee,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(Ee,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(Ee,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(Ee,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{className:"quiz-main",children:h?_.jsxs("div",{className:"quiz-result",children:[_.jsx("h2",{children:O}),_.jsx("p",{children:H[O]}),_.jsxs("div",{className:"carousel-wrapper",children:[_.jsx("button",{className:"carousel-arrow left",onClick:()=>g(U=>(U-1+L(O).length)%L(O).length),children:""}),_.jsx("div",{className:"carousel",children:L(O).map((U,W)=>{const re=L(O).length,se=(W-p+re)%re;let fe="carousel-card";return se===0?fe+=" active":(se===1||se===re-1)&&(fe+=" side-card"),_.jsxs("div",{className:fe,children:[_.jsx("img",{src:U.image,alt:U.title}),_.jsx("h4",{children:U.title})]},W)})}),_.jsx("button",{className:"carousel-arrow right",onClick:()=>g(U=>(U+1)%L(O).length),children:""})]}),_.jsx("div",{className:"quiz-buttons",children:_.jsx("button",{className:"orange-button",onClick:()=>{a(0),u([]),m(!1)},children:"Restart Quiz"})})]}):_.jsxs("div",{className:"quiz-container",children:[_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress",style:{width:`${B}%`}})}),_.jsx("h2",{children:fu[n].question}),_.jsx("div",{className:"options",children:fu[n].options.map((U,W)=>_.jsx("button",{className:`quiz-option ${o[n]===U?"selected":""}`,onClick:()=>T(U),children:U},W))}),_.jsx("div",{className:"arrow-container",children:_.jsx("button",{className:"next-arrow",onClick:b,disabled:!o[n],children:""})}),_.jsxs("p",{className:"question-count",children:["Question ",n+1," of ",fu.length]})]})}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}function Vw(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=Vw(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function zf(){for(var r,e,n=0,a="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=Vw(r))&&(a&&(a+=" "),a+=e);return a}const NM=(r,e,n,a)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(r,n),u=Object.getOwnPropertyDescriptor(e,n);!xM(o,u)&&a||Object.defineProperty(r,n,u)},xM=function(r,e){return r===void 0||r.configurable||r.writable===e.writable&&r.enumerable===e.enumerable&&r.configurable===e.configurable&&(r.writable||r.value===e.value)},OM=(r,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(r)&&Object.setPrototypeOf(r,n)},MM=(r,e)=>`/* Wrapped ${r}*/
${e}`,VM=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),PM=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),kM=(r,e,n)=>{const a=n===""?"":`with ${n.trim()}() `,o=MM.bind(null,a,e.toString());Object.defineProperty(o,"name",PM);const{writable:u,enumerable:h,configurable:m}=VM;Object.defineProperty(r,"toString",{value:o,writable:u,enumerable:h,configurable:m})};function jM(r,e,{ignoreNonConfigurable:n=!1}={}){const{name:a}=r;for(const o of Reflect.ownKeys(e))NM(r,e,o,n);return OM(r,e),kM(r,e,a),r}const Ih=2147483647,LM=new WeakMap,lg=new WeakMap,UM=new WeakMap;function zM(r,e){const n=r.get(e);if(n){if(n.maxAge<=Date.now()){r.delete(e);return}return n}}function Pw(r,{cacheKey:e,cache:n=new Map,maxAge:a}={}){if(a===0)return r;if(typeof a=="number"&&Number.isFinite(a)){if(a>Ih)throw new TypeError(`The \`maxAge\` option cannot exceed ${Ih}.`);if(a<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...u){const h=e?e(u):u[0],m=zM(n,h);if(m)return m.data;const p=r.apply(this,u),g=typeof a=="function"?a(...u):a;if(g!==void 0&&g!==Number.POSITIVE_INFINITY){if(!Number.isFinite(g))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(g<=0)return p;if(g>Ih)throw new TypeError(`The \`maxAge\` function result cannot exceed ${Ih}.`)}if(n.set(h,{data:p,maxAge:g===void 0||g===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+g}),g!==void 0&&g!==Number.POSITIVE_INFINITY){const T=setTimeout(()=>{n.delete(h),lg.get(o)?.delete(T)},g);T.unref?.();const b=lg.get(o)??new Set;b.add(T),lg.set(o,b)}return p};return jM(o,r,{ignoreNonConfigurable:!0}),LM.set(o,n),UM.set(o,e??(u=>u[0])),o}function BM(r){return typeof r=="string"}function qM(r,e,n){return n.indexOf(r)===e}function HM(r){return r.toLowerCase()===r}function Nb(r){return r.indexOf(",")===-1?r:r.split(",")}function Fg(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],n=e===void 0?"":e;return Fg(n)}if(r.indexOf("@")!==-1){var a=r.split("@")[0],n=a===void 0?"":a;return Fg(n)}if(r.indexOf("-")===-1||!HM(r))return r;var o=r.split("-"),u=o[0],h=o[1],m=h===void 0?"":h;return"".concat(u,"-").concat(m.toUpperCase())}function FM(r){var e=r===void 0?{}:r,n=e.useFallbackLocale,a=n===void 0?!0:n,o=e.fallbackLocale,u=o===void 0?"en-US":o,h=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],p=[],g=0,T=m;g<T.length;g++){var b=T[g];p=p.concat(Nb(b))}var R=navigator.language,O=R&&Nb(R);h=h.concat(p,O)}return a&&h.push(u),h.filter(BM).map(Fg).filter(qM)}var GM=Pw(FM,{cacheKey:JSON.stringify});function YM(r){return GM(r)[0]||null}var kw=Pw(YM,{cacheKey:JSON.stringify});function Fi(r,e,n){return function(o,u=n){const h=r(o)+u;return e(h)}}function Ju(r){return function(n){return new Date(r(n).getTime()-1)}}function Zu(r,e){return function(a){return[r(a),e(a)]}}function _t(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;const e=Number.parseInt(r,10);if(typeof r=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${r}.`)}function Ya(r){if(r instanceof Date)return r.getMonth();throw new Error(`Failed to get month from date: ${r}.`)}function Bf(r){if(r instanceof Date)return r.getDate();throw new Error(`Failed to get year from date: ${r}.`)}function ul(r){const e=_t(r),n=e+(-e+1)%100,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}const QM=Fi(_t,ul,-100),jw=Fi(_t,ul,100),ay=Ju(jw),KM=Fi(_t,ay,-100),Lw=Zu(ul,ay);function Qa(r){const e=_t(r),n=e+(-e+1)%10,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}const Uw=Fi(_t,Qa,-10),sy=Fi(_t,Qa,10),qf=Ju(sy),zw=Fi(_t,qf,-10),Bw=Zu(Qa,qf);function cl(r){const e=_t(r),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const qw=Fi(_t,cl,-1),oy=Fi(_t,cl,1),Hf=Ju(oy),Hw=Fi(_t,Hf,-1),$M=Zu(cl,Hf);function ly(r,e){return function(a,o=e){const u=_t(a),h=Ya(a)+o,m=new Date;return m.setFullYear(u,h,1),m.setHours(0,0,0,0),r(m)}}function Fs(r){const e=_t(r),n=Ya(r),a=new Date;return a.setFullYear(e,n,1),a.setHours(0,0,0,0),a}const Fw=ly(Fs,-1),uy=ly(Fs,1),ec=Ju(uy),Gw=ly(ec,-1),XM=Zu(Fs,ec);function WM(r,e){return function(a,o=e){const u=_t(a),h=Ya(a),m=Bf(a)+o,p=new Date;return p.setFullYear(u,h,m),p.setHours(0,0,0,0),r(p)}}function tc(r){const e=_t(r),n=Ya(r),a=Bf(r),o=new Date;return o.setFullYear(e,n,a),o.setHours(0,0,0,0),o}const JM=WM(tc,1),cy=Ju(JM),ZM=Zu(tc,cy);function Yw(r){return Bf(ec(r))}var ln={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},eV={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},hy=[0,1,2,3,4,5,6],ug=new Map;function tV(r){return function(n,a){var o=n||kw();ug.has(o)||ug.set(o,new Map);var u=ug.get(o);return u.has(r)||u.set(r,new Intl.DateTimeFormat(o||void 0,r).format),u.get(r)(a)}}function nV(r){var e=new Date(r);return new Date(e.setHours(12))}function Gs(r){return function(e,n){return tV(r)(e,nV(n))}}var rV={day:"numeric"},iV={day:"numeric",month:"long",year:"numeric"},aV={month:"long"},sV={month:"long",year:"numeric"},oV={weekday:"short"},lV={weekday:"long"},uV={year:"numeric"},cV=Gs(rV),hV=Gs(iV),fV=Gs(aV),Qw=Gs(sV),dV=Gs(oV),mV=Gs(lV),Ff=Gs(uV),gV=hy[0],pV=hy[5],xb=hy[6];function Vu(r,e){e===void 0&&(e=ln.ISO_8601);var n=r.getDay();switch(e){case ln.ISO_8601:return(n+6)%7;case ln.ISLAMIC:return(n+1)%7;case ln.HEBREW:case ln.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function yV(r){var e=ul(r);return _t(e)}function vV(r){var e=Qa(r);return _t(e)}function Gg(r,e){e===void 0&&(e=ln.ISO_8601);var n=_t(r),a=Ya(r),o=r.getDate()-Vu(r,e);return new Date(n,a,o)}function _V(r,e){e===void 0&&(e=ln.ISO_8601);var n=e===ln.GREGORY?ln.GREGORY:ln.ISO_8601,a=Gg(r,e),o=_t(r)+1,u,h;do u=new Date(o,0,n===ln.ISO_8601?4:1),h=Gg(u,e),o-=1;while(r<h);return Math.round((a.getTime()-h.getTime())/(864e5*7))+1}function Ds(r,e){switch(r){case"century":return ul(e);case"decade":return Qa(e);case"year":return cl(e);case"month":return Fs(e);case"day":return tc(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function EV(r,e){switch(r){case"century":return QM(e);case"decade":return Uw(e);case"year":return qw(e);case"month":return Fw(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Kw(r,e){switch(r){case"century":return jw(e);case"decade":return sy(e);case"year":return oy(e);case"month":return uy(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function TV(r,e){switch(r){case"decade":return Uw(e,-100);case"year":return qw(e,-10);case"month":return Fw(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function bV(r,e){switch(r){case"decade":return sy(e,100);case"year":return oy(e,10);case"month":return uy(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function $w(r,e){switch(r){case"century":return ay(e);case"decade":return qf(e);case"year":return Hf(e);case"month":return ec(e);case"day":return cy(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function SV(r,e){switch(r){case"century":return KM(e);case"decade":return zw(e);case"year":return Hw(e);case"month":return Gw(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function wV(r,e){switch(r){case"decade":return zw(e,-100);case"year":return Hw(e,-10);case"month":return Gw(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Ob(r,e){switch(r){case"century":return Lw(e);case"decade":return Bw(e);case"year":return $M(e);case"month":return XM(e);case"day":return ZM(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function AV(r,e,n){var a=[e,n].sort(function(o,u){return o.getTime()-u.getTime()});return[Ds(r,a[0]),$w(r,a[1])]}function Xw(r,e,n){return n.map(function(a){return(e||Ff)(r,a)}).join("  ")}function RV(r,e,n){return Xw(r,e,Lw(n))}function Ww(r,e,n){return Xw(r,e,Bw(n))}function CV(r){return r.getDay()===new Date().getDay()}function Jw(r,e){e===void 0&&(e=ln.ISO_8601);var n=r.getDay();switch(e){case ln.ISLAMIC:case ln.HEBREW:return n===pV||n===xb;case ln.ISO_8601:case ln.GREGORY:return n===xb||n===gV;default:throw new Error("Unsupported calendar type.")}}var Wr="react-calendar__navigation";function IV(r){var e=r.activeStartDate,n=r.drillUp,a=r.formatMonthYear,o=a===void 0?Qw:a,u=r.formatYear,h=u===void 0?Ff:u,m=r.locale,p=r.maxDate,g=r.minDate,T=r.navigationAriaLabel,b=T===void 0?"":T,R=r.navigationAriaLive,O=r.navigationLabel,H=r.next2AriaLabel,B=H===void 0?"":H,L=r.next2Label,U=L===void 0?"":L,W=r.nextAriaLabel,re=W===void 0?"":W,se=r.nextLabel,fe=se===void 0?"":se,ge=r.prev2AriaLabel,D=ge===void 0?"":ge,A=r.prev2Label,I=A===void 0?"":A,M=r.prevAriaLabel,x=M===void 0?"":M,k=r.prevLabel,C=k===void 0?"":k,pe=r.setActiveStartDate,Pe=r.showDoubleView,Y=r.view,ie=r.views,ue=ie.indexOf(Y)>0,Ce=Y!=="century",we=EV(Y,e),V=Ce?TV(Y,e):void 0,J=Kw(Y,e),oe=Ce?bV(Y,e):void 0,le=(function(){if(we.getFullYear()<0)return!0;var Xe=SV(Y,e);return g&&g>=Xe})(),Te=Ce&&(function(){if(V.getFullYear()<0)return!0;var Xe=wV(Y,e);return g&&g>=Xe})(),Ae=p&&p<J,Ve=Ce&&p&&p<oe;function ut(){pe(we,"prev")}function Ge(){pe(V,"prev2")}function hr(){pe(J,"next")}function Ir(){pe(oe,"next2")}function fr(Xe){var dr=(function(){switch(Y){case"century":return RV(m,h,Xe);case"decade":return Ww(m,h,Xe);case"year":return h(m,Xe);case"month":return o(m,Xe);default:throw new Error("Invalid view: ".concat(Y,"."))}})();return O?O({date:Xe,label:dr,locale:m||kw()||void 0,view:Y}):dr}function Dr(){var Xe="".concat(Wr,"__label");return _.jsxs("button",{"aria-label":b,"aria-live":R,className:Xe,disabled:!ue,onClick:n,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(Xe,"__labelText ").concat(Xe,"__labelText--from"),children:fr(e)}),Pe?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(Xe,"__divider"),children:"  "}),_.jsx("span",{className:"".concat(Xe,"__labelText ").concat(Xe,"__labelText--to"),children:fr(J)})]}):null]})}return _.jsxs("div",{className:Wr,children:[I!==null&&Ce?_.jsx("button",{"aria-label":D,className:"".concat(Wr,"__arrow ").concat(Wr,"__prev2-button"),disabled:Te,onClick:Ge,type:"button",children:I}):null,C!==null&&_.jsx("button",{"aria-label":x,className:"".concat(Wr,"__arrow ").concat(Wr,"__prev-button"),disabled:le,onClick:ut,type:"button",children:C}),Dr(),fe!==null&&_.jsx("button",{"aria-label":re,className:"".concat(Wr,"__arrow ").concat(Wr,"__next-button"),disabled:Ae,onClick:hr,type:"button",children:fe}),U!==null&&Ce?_.jsx("button",{"aria-label":B,className:"".concat(Wr,"__arrow ").concat(Wr,"__next2-button"),disabled:Ve,onClick:Ir,type:"button",children:U}):null]})}var zo=function(){return zo=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},zo.apply(this,arguments)},DV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function Mb(r){return"".concat(r,"%")}function fy(r){var e=r.children,n=r.className,a=r.count,o=r.direction,u=r.offset,h=r.style,m=r.wrap,p=DV(r,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",zo({className:n,style:zo({display:"flex",flexDirection:o,flexWrap:m?"wrap":"nowrap"},h)},p,{children:z.Children.map(e,function(g,T){var b=u&&T===0?Mb(100*u/a):null;return z.cloneElement(g,zo(zo({},g.props),{style:{flexBasis:Mb(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function NV(r,e,n){return e&&e>r?e:n&&n<r?n:r}function Pu(r,e){return e[0]<=r&&e[1]>=r}function xV(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function Zw(r,e){return Pu(r[0],e)||Pu(r[1],e)}function Vb(r,e,n){var a=Zw(e,r),o=[];if(a){o.push(n);var u=Pu(r[0],e),h=Pu(r[1],e);u&&o.push("".concat(n,"Start")),h&&o.push("".concat(n,"End")),u&&h&&o.push("".concat(n,"BothEnds"))}return o}function OV(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function MV(r){if(!r)throw new Error("args is required");var e=r.value,n=r.date,a=r.hover,o="react-calendar__tile",u=[o];if(!n)return u;var h=new Date,m=(function(){if(Array.isArray(n))return n;var O=r.dateType;if(!O)throw new Error("dateType is required when date is not an array of two dates");return Ob(O,n)})();if(Pu(h,m)&&u.push("".concat(o,"--now")),!e||!OV(e))return u;var p=(function(){if(Array.isArray(e))return e;var O=r.valueType;if(!O)throw new Error("valueType is required when value is not an array of two dates");return Ob(O,e)})();xV(p,m)?u.push("".concat(o,"--active")):Zw(p,m)&&u.push("".concat(o,"--hasActive"));var g=Vb(p,m,"".concat(o,"--range"));u.push.apply(u,g);var T=Array.isArray(e)?e:[e];if(a&&T.length===1){var b=a>p[0]?[p[0],a]:[a,p[0]],R=Vb(b,m,"".concat(o,"--hover"));u.push.apply(u,R)}return u}function Gf(r){for(var e=r.className,n=r.count,a=n===void 0?3:n,o=r.dateTransform,u=r.dateType,h=r.end,m=r.hover,p=r.offset,g=r.renderTile,T=r.start,b=r.step,R=b===void 0?1:b,O=r.value,H=r.valueType,B=[],L=T;L<=h;L+=R){var U=o(L);B.push(g({classes:MV({date:U,dateType:u,hover:m,value:O,valueType:H}),date:U}))}return _.jsx(fy,{className:e,count:a,offset:p,wrap:!0,children:B})}function Yf(r){var e=r.activeStartDate,n=r.children,a=r.classes,o=r.date,u=r.formatAbbr,h=r.locale,m=r.maxDate,p=r.maxDateTransform,g=r.minDate,T=r.minDateTransform,b=r.onClick,R=r.onMouseOver,O=r.style,H=r.tileClassName,B=r.tileContent,L=r.tileDisabled,U=r.view,W=z.useMemo(function(){var se={activeStartDate:e,date:o,view:U};return typeof H=="function"?H(se):H},[e,o,H,U]),re=z.useMemo(function(){var se={activeStartDate:e,date:o,view:U};return typeof B=="function"?B(se):B},[e,o,B,U]);return _.jsxs("button",{className:zf(a,W),disabled:g&&T(g)>o||m&&p(m)<o||L?.({activeStartDate:e,date:o,view:U}),onClick:b?function(se){return b(o,se)}:void 0,onFocus:R?function(){return R(o)}:void 0,onMouseOver:R?function(){return R(o)}:void 0,style:O,type:"button",children:[u?_.jsx("abbr",{"aria-label":u(h,o),children:n}):n,re]})}var Yg=function(){return Yg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Yg.apply(this,arguments)},VV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Pb="react-calendar__century-view__decades__decade";function PV(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentCentury,o=r.formatYear,u=o===void 0?Ff:o,h=VV(r,["classes","currentCentury","formatYear"]),m=h.date,p=h.locale,g=[];return n&&g.push.apply(g,n),g.push(Pb),ul(m).getFullYear()!==a&&g.push("".concat(Pb,"--neighboringCentury")),_.jsx(Yf,Yg({},h,{classes:g,maxDateTransform:qf,minDateTransform:Qa,view:"century",children:Ww(p,u,m)}))}var Qg=function(){return Qg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Qg.apply(this,arguments)},kb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function kV(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringCentury,o=r.value,u=r.valueType,h=kb(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=yV(e),p=m+(a?119:99);return _.jsx(Gf,{className:"react-calendar__century-view__decades",dateTransform:Qa,dateType:"decade",end:p,hover:n,renderTile:function(g){var T=g.date,b=kb(g,["date"]);return _.jsx(PV,Qg({},h,b,{activeStartDate:e,currentCentury:m,date:T}),T.getTime())},start:m,step:10,value:o,valueType:u})}var Kg=function(){return Kg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Kg.apply(this,arguments)};function jV(r){function e(){return _.jsx(kV,Kg({},r))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var $g=function(){return $g=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},$g.apply(this,arguments)},LV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},jb="react-calendar__decade-view__years__year";function UV(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentDecade,o=r.formatYear,u=o===void 0?Ff:o,h=LV(r,["classes","currentDecade","formatYear"]),m=h.date,p=h.locale,g=[];return n&&g.push.apply(g,n),g.push(jb),Qa(m).getFullYear()!==a&&g.push("".concat(jb,"--neighboringDecade")),_.jsx(Yf,$g({},h,{classes:g,maxDateTransform:Hf,minDateTransform:cl,view:"decade",children:u(p,m)}))}var Xg=function(){return Xg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Xg.apply(this,arguments)},Lb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function zV(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringDecade,o=r.value,u=r.valueType,h=Lb(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=vV(e),p=m+(a?11:9);return _.jsx(Gf,{className:"react-calendar__decade-view__years",dateTransform:cl,dateType:"year",end:p,hover:n,renderTile:function(g){var T=g.date,b=Lb(g,["date"]);return _.jsx(UV,Xg({},h,b,{activeStartDate:e,currentDecade:m,date:T}),T.getTime())},start:m,value:o,valueType:u})}var Wg=function(){return Wg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Wg.apply(this,arguments)};function BV(r){function e(){return _.jsx(zV,Wg({},r))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Jg=function(){return Jg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Jg.apply(this,arguments)},qV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Ub=function(r,e,n){if(n||arguments.length===2)for(var a=0,o=e.length,u;a<o;a++)(u||!(a in e))&&(u||(u=Array.prototype.slice.call(e,0,a)),u[a]=e[a]);return r.concat(u||Array.prototype.slice.call(e))},HV="react-calendar__year-view__months__month";function FV(r){var e=r.classes,n=e===void 0?[]:e,a=r.formatMonth,o=a===void 0?fV:a,u=r.formatMonthYear,h=u===void 0?Qw:u,m=qV(r,["classes","formatMonth","formatMonthYear"]),p=m.date,g=m.locale;return _.jsx(Yf,Jg({},m,{classes:Ub(Ub([],n,!0),[HV],!1),formatAbbr:h,maxDateTransform:ec,minDateTransform:Fs,view:"year",children:o(g,p)}))}var Zg=function(){return Zg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Zg.apply(this,arguments)},zb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function GV(r){var e=r.activeStartDate,n=r.hover,a=r.value,o=r.valueType,u=zb(r,["activeStartDate","hover","value","valueType"]),h=0,m=11,p=_t(e);return _.jsx(Gf,{className:"react-calendar__year-view__months",dateTransform:function(g){var T=new Date;return T.setFullYear(p,g,1),Fs(T)},dateType:"month",end:m,hover:n,renderTile:function(g){var T=g.date,b=zb(g,["date"]);return _.jsx(FV,Zg({},u,b,{activeStartDate:e,date:T}),T.getTime())},start:h,value:a,valueType:o})}var ep=function(){return ep=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},ep.apply(this,arguments)};function YV(r){function e(){return _.jsx(GV,ep({},r))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var tp=function(){return tp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},tp.apply(this,arguments)},QV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},cg="react-calendar__month-view__days__day";function KV(r){var e=r.calendarType,n=r.classes,a=n===void 0?[]:n,o=r.currentMonthIndex,u=r.formatDay,h=u===void 0?cV:u,m=r.formatLongDate,p=m===void 0?hV:m,g=QV(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),T=g.date,b=g.locale,R=[];return a&&R.push.apply(R,a),R.push(cg),Jw(T,e)&&R.push("".concat(cg,"--weekend")),T.getMonth()!==o&&R.push("".concat(cg,"--neighboringMonth")),_.jsx(Yf,tp({},g,{classes:R,formatAbbr:p,maxDateTransform:cy,minDateTransform:tc,view:"month",children:h(b,T)}))}var np=function(){return np=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},np.apply(this,arguments)},Bb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function $V(r){var e=r.activeStartDate,n=r.calendarType,a=r.hover,o=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,m=r.valueType,p=Bb(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=_t(e),T=Ya(e),b=o||u,R=Vu(e,n),O=b?0:R,H=(b?-R:0)+1,B=(function(){if(o)return H+42-1;var L=Yw(e);if(u){var U=new Date;U.setFullYear(g,T,L),U.setHours(0,0,0,0);var W=7-Vu(U,n)-1;return L+W}return L})();return _.jsx(Gf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(L){var U=new Date;return U.setFullYear(g,T,L),tc(U)},dateType:"day",hover:a,end:B,renderTile:function(L){var U=L.date,W=Bb(L,["date"]);return _.jsx(KV,np({},p,W,{activeStartDate:e,calendarType:n,currentMonthIndex:T,date:U}),U.getTime())},offset:O,start:H,value:h,valueType:m})}var eA="react-calendar__month-view__weekdays",hg="".concat(eA,"__weekday");function XV(r){for(var e=r.calendarType,n=r.formatShortWeekday,a=n===void 0?dV:n,o=r.formatWeekday,u=o===void 0?mV:o,h=r.locale,m=r.onMouseLeave,p=new Date,g=Fs(p),T=_t(g),b=Ya(g),R=[],O=1;O<=7;O+=1){var H=new Date(T,b,O-Vu(g,e)),B=u(h,H);R.push(_.jsx("div",{className:zf(hg,CV(H)&&"".concat(hg,"--current"),Jw(H,e)&&"".concat(hg,"--weekend")),children:_.jsx("abbr",{"aria-label":B,title:B,children:a(h,H).replace(".","")})},O))}return _.jsx(fy,{className:eA,count:7,onFocus:m,onMouseOver:m,children:R})}var df=function(){return df=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},df.apply(this,arguments)},qb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Hb="react-calendar__tile";function WV(r){var e=r.onClickWeekNumber,n=r.weekNumber,a=_.jsx("span",{children:n});if(e){var o=r.date,u=r.onClickWeekNumber,h=r.weekNumber,m=qb(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",df({},m,{className:Hb,onClick:function(p){return u(h,o,p)},type:"button",children:a}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=qb(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",df({},m,{className:Hb,children:a}))}}function JV(r){var e=r.activeStartDate,n=r.calendarType,a=r.onClickWeekNumber,o=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=(function(){if(u)return 6;var g=Yw(e),T=Vu(e,n),b=g-(7-T);return 1+Math.ceil(b/7)})(),m=(function(){for(var g=_t(e),T=Ya(e),b=Bf(e),R=[],O=0;O<h;O+=1)R.push(Gg(new Date(g,T,b+O*7),n));return R})(),p=m.map(function(g){return _V(g,n)});return _.jsx(fy,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(g,T){var b=m[T];if(!b)throw new Error("date is not defined");return _.jsx(WV,{date:b,onClickWeekNumber:a,weekNumber:g},g)})})}var rp=function(){return rp=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},rp.apply(this,arguments)},ZV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function e4(r){if(r)for(var e=0,n=Object.entries(eV);e<n.length;e++){var a=n[e],o=a[0],u=a[1];if(u.includes(r))return o}return ln.ISO_8601}function t4(r){var e=r.activeStartDate,n=r.locale,a=r.onMouseLeave,o=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?e4(n):u,m=r.formatShortWeekday,p=r.formatWeekday,g=r.onClickWeekNumber,T=r.showWeekNumbers,b=ZV(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function R(){return _.jsx(XV,{calendarType:h,formatShortWeekday:m,formatWeekday:p,locale:n,onMouseLeave:a})}function O(){return T?_.jsx(JV,{activeStartDate:e,calendarType:h,onClickWeekNumber:g,onMouseLeave:a,showFixedNumberOfWeeks:o}):null}function H(){return _.jsx($V,rp({calendarType:h},b))}var B="react-calendar__month-view";return _.jsx("div",{className:zf(B,T?"".concat(B,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[O(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[R(),H()]})]})})}var Bo=function(){return Bo=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Bo.apply(this,arguments)},Dh="react-calendar",Hh=["century","decade","year","month"],n4=["decade","year","month","day"],dy=new Date;dy.setFullYear(1,0,1);dy.setHours(0,0,0,0);var r4=new Date(864e13);function _u(r){return r instanceof Date?r:new Date(r)}function tA(r,e){return Hh.slice(Hh.indexOf(r),Hh.indexOf(e)+1)}function i4(r,e,n){var a=tA(e,n);return a.indexOf(r)!==-1}function my(r,e,n){return r&&i4(r,e,n)?r:n}function nA(r){var e=Hh.indexOf(r);return n4[e]}function a4(r,e){var n=Array.isArray(r)?r[e]:r;if(!n)return null;var a=_u(n);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(r));return a}function rA(r,e){var n=r.value,a=r.minDate,o=r.maxDate,u=r.maxDetail,h=a4(n,e);if(!h)return null;var m=nA(u),p=(function(){switch(e){case 0:return Ds(m,h);case 1:return $w(m,h);default:throw new Error("Invalid index value: ".concat(e))}})();return NV(p,a,o)}var gy=function(r){return rA(r,0)},iA=function(r){return rA(r,1)},s4=function(r){return[gy,iA].map(function(e){return e(r)})};function aA(r){var e=r.maxDate,n=r.maxDetail,a=r.minDate,o=r.minDetail,u=r.value,h=r.view,m=my(h,o,n),p=gy({value:u,minDate:a,maxDate:e,maxDetail:n})||new Date;return Ds(m,p)}function o4(r){var e=r.activeStartDate,n=r.defaultActiveStartDate,a=r.defaultValue,o=r.defaultView,u=r.maxDate,h=r.maxDetail,m=r.minDate,p=r.minDetail,g=r.value,T=r.view,b=my(T,p,h),R=e||n;return R?Ds(b,R):aA({maxDate:u,maxDetail:h,minDate:m,minDetail:p,value:g||a,view:T||o})}function fg(r){return r&&(!Array.isArray(r)||r.length===1)}function Nh(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var l4=z.forwardRef(function(e,n){var a=e.activeStartDate,o=e.allowPartialRange,u=e.calendarType,h=e.className,m=e.defaultActiveStartDate,p=e.defaultValue,g=e.defaultView,T=e.formatDay,b=e.formatLongDate,R=e.formatMonth,O=e.formatMonthYear,H=e.formatShortWeekday,B=e.formatWeekday,L=e.formatYear,U=e.goToRangeStartOnSelect,W=U===void 0?!0:U,re=e.inputRef,se=e.locale,fe=e.maxDate,ge=fe===void 0?r4:fe,D=e.maxDetail,A=D===void 0?"month":D,I=e.minDate,M=I===void 0?dy:I,x=e.minDetail,k=x===void 0?"century":x,C=e.navigationAriaLabel,pe=e.navigationAriaLive,Pe=e.navigationLabel,Y=e.next2AriaLabel,ie=e.next2Label,ue=e.nextAriaLabel,Ce=e.nextLabel,we=e.onActiveStartDateChange,V=e.onChange,J=e.onClickDay,oe=e.onClickDecade,le=e.onClickMonth,Te=e.onClickWeekNumber,Ae=e.onClickYear,Ve=e.onDrillDown,ut=e.onDrillUp,Ge=e.onViewChange,hr=e.prev2AriaLabel,Ir=e.prev2Label,fr=e.prevAriaLabel,Dr=e.prevLabel,Xe=e.returnValue,dr=Xe===void 0?"start":Xe,Vt=e.selectRange,Nr=e.showDoubleView,Gi=e.showFixedNumberOfWeeks,Et=e.showNavigation,Dt=Et===void 0?!0:Et,xr=e.showNeighboringCentury,hl=e.showNeighboringDecade,Ka=e.showNeighboringMonth,Jt=Ka===void 0?!0:Ka,ui=e.showWeekNumbers,$a=e.tileClassName,Xa=e.tileContent,Or=e.tileDisabled,Wa=e.value,Ja=e.view,Za=z.useState(m),Ys=Za[0],cn=Za[1],Pt=z.useState(null),Sn=Pt[0],pt=Pt[1],es=z.useState(Array.isArray(p)?p.map(function(Ne){return Ne!==null?_u(Ne):null}):p!=null?_u(p):null),Mr=es[0],Qs=es[1],Vn=z.useState(g),ci=Vn[0],Tt=Vn[1],ct=a||Ys||o4({activeStartDate:a,defaultActiveStartDate:m,defaultValue:p,defaultView:g,maxDate:ge,maxDetail:A,minDate:M,minDetail:k,value:Wa,view:Ja}),ht=(function(){var Ne=(function(){return Vt&&fg(Mr)?Mr:Wa!==void 0?Wa:Mr})();return Ne?Array.isArray(Ne)?Ne.map(function(ot){return ot!==null?_u(ot):null}):Ne!==null?_u(Ne):null:null})(),hn=nA(A),at=my(Ja||ci,k,A),_n=tA(k,A),Kn=Vt?Sn:null,mr=_n.indexOf(at)<_n.length-1,Ks=_n.indexOf(at)>0,Vr=z.useCallback(function(Ne){var ot=(function(){switch(dr){case"start":return gy;case"end":return iA;case"range":return s4;default:throw new Error("Invalid returnValue.")}})();return ot({maxDate:ge,maxDetail:A,minDate:M,value:Ne})},[ge,A,M,dr]),hi=z.useCallback(function(Ne,ot){cn(Ne);var ft={action:ot,activeStartDate:Ne,value:ht,view:at};we&&!Nh(ct,Ne)&&we(ft)},[ct,we,ht,at]),Pr=z.useCallback(function(Ne,ot){var ft=(function(){switch(at){case"century":return oe;case"decade":return Ae;case"year":return le;case"month":return J;default:throw new Error("Invalid view: ".concat(at,"."))}})();ft&&ft(Ne,ot)},[J,oe,le,Ae,at]),gr=z.useCallback(function(Ne,ot){if(mr){Pr(Ne,ot);var ft=_n[_n.indexOf(at)+1];if(!ft)throw new Error("Attempted to drill down from the lowest view.");cn(Ne),Tt(ft);var fn={action:"drillDown",activeStartDate:Ne,value:ht,view:ft};we&&!Nh(ct,Ne)&&we(fn),Ge&&at!==ft&&Ge(fn),Ve&&Ve(fn)}},[ct,mr,we,Pr,Ve,Ge,ht,at,_n]),Pn=z.useCallback(function(){if(Ks){var Ne=_n[_n.indexOf(at)-1];if(!Ne)throw new Error("Attempted to drill up from the highest view.");var ot=Ds(Ne,ct);cn(ot),Tt(Ne);var ft={action:"drillUp",activeStartDate:ot,value:ht,view:Ne};we&&!Nh(ct,ot)&&we(ft),Ge&&at!==Ne&&Ge(ft),ut&&ut(ft)}},[ct,Ks,we,ut,Ge,ht,at,_n]),Yi=z.useCallback(function(Ne,ot){var ft=ht;Pr(Ne,ot);var fn=Vt&&!fg(ft),At;if(Vt)if(fn)At=Ds(hn,Ne);else{if(!ft)throw new Error("previousValue is required");if(Array.isArray(ft))throw new Error("previousValue must not be an array");At=AV(hn,ft,Ne)}else At=Vr(Ne);var kr=!Vt||fn||W?aA({maxDate:ge,maxDetail:A,minDate:M,minDetail:k,value:At,view:at}):null;ot.persist(),cn(kr),Qs(At);var Xn={action:"onChange",activeStartDate:kr,value:At,view:at};if(we&&!Nh(ct,kr)&&we(Xn),V)if(Vt){var wn=fg(At);if(!wn)V(At||null,ot);else if(o){if(Array.isArray(At))throw new Error("value must not be an array");V([At||null,null],ot)}}else V(At||null,ot)},[ct,o,Vr,W,ge,A,M,k,we,V,Pr,Vt,ht,hn,at]);function kn(Ne){pt(Ne)}function En(){pt(null)}z.useImperativeHandle(n,function(){return{activeStartDate:ct,drillDown:gr,drillUp:Pn,onChange:Yi,setActiveStartDate:hi,value:ht,view:at}},[ct,gr,Pn,Yi,hi,ht,at]);function bt(Ne){var ot=Ne?Kw(at,ct):Ds(at,ct),ft=mr?gr:Yi,fn={activeStartDate:ot,hover:Kn,locale:se,maxDate:ge,minDate:M,onClick:ft,onMouseOver:Vt?kn:void 0,tileClassName:$a,tileContent:Xa,tileDisabled:Or,value:ht,valueType:hn};switch(at){case"century":return _.jsx(jV,Bo({formatYear:L,showNeighboringCentury:xr},fn));case"decade":return _.jsx(BV,Bo({formatYear:L,showNeighboringDecade:hl},fn));case"year":return _.jsx(YV,Bo({formatMonth:R,formatMonthYear:O},fn));case"month":return _.jsx(t4,Bo({calendarType:u,formatDay:T,formatLongDate:b,formatShortWeekday:H,formatWeekday:B,onClickWeekNumber:Te,onMouseLeave:Vt?En:void 0,showFixedNumberOfWeeks:typeof Gi<"u"?Gi:Nr,showNeighboringMonth:Jt,showWeekNumbers:ui},fn));default:throw new Error("Invalid view: ".concat(at,"."))}}function kt(){return Dt?_.jsx(IV,{activeStartDate:ct,drillUp:Pn,formatMonthYear:O,formatYear:L,locale:se,maxDate:ge,minDate:M,navigationAriaLabel:C,navigationAriaLive:pe,navigationLabel:Pe,next2AriaLabel:Y,next2Label:ie,nextAriaLabel:ue,nextLabel:Ce,prev2AriaLabel:hr,prev2Label:Ir,prevAriaLabel:fr,prevLabel:Dr,setActiveStartDate:hi,showDoubleView:Nr,view:at,views:_n}):null}var $n=Array.isArray(ht)?ht:[ht];return _.jsxs("div",{className:zf(Dh,Vt&&$n.length===1&&"".concat(Dh,"--selectRange"),Nr&&"".concat(Dh,"--doubleView"),h),ref:re,children:[kt(),_.jsxs("div",{className:"".concat(Dh,"__viewContainer"),onBlur:Vt?En:void 0,onMouseLeave:Vt?En:void 0,children:[bt(),Nr?bt(!0):null]})]})});function u4(){const[r,e]=z.useState(null),[n,a]=z.useState(null),[o,u]=z.useState([]),[h,m]=z.useState(new Date),[p,g]=z.useState(""),[T,b]=z.useState(""),[R,O]=z.useState(null),[H,B]=z.useState(""),L=h.toISOString().split("T")[0],U=o.filter(se=>se.date===L);z.useEffect(()=>{const se=Us(si,async fe=>{if(e(fe),fe){const ge=Yn(gn,"users",fe.uid),D=await Uf(ge);D.exists()&&a(D.data().linkedCalendar)}});return()=>se()},[]),z.useEffect(()=>{if(!n)return;const se=Yn(gn,"calendars",n),fe=wM(se,ge=>{ge.exists()&&u(ge.data().events||[])});return()=>fe()},[n]);function W(se){const fe=se.target.files[0];fe?(O(fe),B(URL.createObjectURL(fe))):(O(null),B(""))}async function re(se){if(se.preventDefault(),!p||!T||!n)return;const fe={title:p,date:T,imageURL:H,createdBy:r.email,timestamp:Date.now()};await CM(n,fe),g(""),b(""),O(null),B("")}return _.jsxs("div",{children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(Ee,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(Ee,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(Ee,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(Ee,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(Ee,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(Ee,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(Ee,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsxs("div",{className:"calendar",children:[_.jsxs("div",{className:"calendar-container",children:[_.jsx(l4,{onChange:m,value:h}),_.jsxs("p",{className:"text-center",children:[_.jsx("strong",{children:"Selected Date:"})," ",h.toDateString()]}),_.jsxs("div",{className:"event-list",children:[_.jsx("h3",{children:"Events For This Date:"}),U.length===0&&_.jsx("p",{children:"No events yet for this date."}),U.map((se,fe)=>_.jsxs("div",{className:"event-list-item",children:[se.imageURL&&_.jsx("img",{src:se.imageURL,alt:se.title}),_.jsx("div",{children:_.jsx("strong",{children:se.title})})]},fe))]})]}),_.jsxs("div",{className:"event-container",children:[_.jsxs("form",{className:"event-form",onSubmit:re,children:[_.jsx("h1",{children:"Add Event"}),_.jsx("label",{children:"Event Name"}),_.jsx("input",{type:"text",value:p,onChange:se=>g(se.target.value),placeholder:"e.g. Doctor's appointment",required:!0}),_.jsx("label",{children:"Event Date"}),_.jsx("input",{type:"date",value:T,onChange:se=>b(se.target.value),required:!0}),_.jsx("label",{children:"Add Image"}),_.jsx("input",{type:"file",accept:"image/*",onChange:W}),H&&_.jsx("img",{src:H,alt:"Preview"}),_.jsx("button",{type:"submit",children:"Add Event to Calendar"})]}),_.jsxs("div",{className:"calendar-description",children:[_.jsx("strong",{children:"How to use the Calendar:"}),_.jsx("br",{}),'Use this calendar to keep track of important dates, milestones, and appointments. Select a date, enter a name, choose your event date, and (optionally) upload an image. Click "Add Event to Calendar" to save it. Your events for the selected day will appear in the calendar for quick reference!']})]})]})}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}function c4(){const[r,e]=z.useState(null);z.useEffect(()=>{const A=Us(si,I=>{e(I)});return()=>A()},[]);const[n,a]=z.useState([]),[o,u]=z.useState(""),[h,m]=z.useState(""),p=["concerns","baby","relationship","events","other"],[g,T]=z.useState([]),b=A=>{g.includes(A)?T(g.filter(I=>I!==A)):T([...g,A])},[R,O]=z.useState(null),H=()=>{u(""),m("")},[B,L]=z.useState(null);z.useEffect(()=>{const A=localStorage.getItem("journalEntries"),I=localStorage.getItem("journalLastSaved");A&&a(JSON.parse(A)),I&&O(new Date(I))},[]),z.useEffect(()=>{const A=setInterval(()=>O(I=>I),6e4);return()=>clearInterval(A)},[]);const U=A=>{if(A.preventDefault(),!o.trim()&&!h.trim())return;const M=[{id:Date.now(),title:h||"[ Untitled ]",text:o,date:new Date().toLocaleString(),tags:g},...n];a(M),u(""),m(""),localStorage.setItem("journalEntries",JSON.stringify(M));const x=new Date;O(x),localStorage.setItem("journalLastSaved",x.toISOString()),T([])},W=A=>{if(!A)return"Never";const I=new Date-A,M=Math.floor(I/6e4);if(M<1)return"just now";if(M<60)return`${M} minute${M>1?"s":""} ago`;const x=Math.floor(M/60);if(x<24)return`${x} hour${x>1?"s":""} ago`;const k=Math.floor(x/24);return`${k} day${k>1?"s":""} ago`},re=A=>{L(A)},se=()=>{L(null)},fe=()=>{B!==null&&L(A=>(A+1)%n.length)},ge=()=>{B!==null&&L(A=>(A-1+n.length)%n.length)},D=[...n].sort((A,I)=>I.id-A.id);return _.jsxs("div",{className:"journal-container",children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(Ee,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(Ee,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(Ee,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(Ee,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(Ee,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(Ee,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(Ee,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsxs("main",{children:[_.jsxs("div",{className:"journal-page-grid",children:[_.jsxs("aside",{className:"journal-left",children:[_.jsx("h2",{children:" Personal Journal"}),_.jsx("h3",{className:"recent-title",children:"Recent Entries"}),_.jsx("div",{className:"recent-entries",children:D.length>0?D.map((A,I)=>_.jsxs("div",{role:"button",className:"recent-entry-card",onClick:()=>re(I),style:{cursor:"pointer"},children:[_.jsx("p",{className:"recent-date",children:A.date}),_.jsx("p",{className:"recent-title-text",children:_.jsx("strong",{children:A.title.length>50?A.title.slice(0,A.title.slice(0,50).lastIndexOf(" "))+" ...":A.title})}),_.jsx("p",{className:"recent-preview",children:A.text.length>70?A.text.slice(0,A.text.slice(0,70).lastIndexOf(" ")+1||70)+"...":A.text}),_.jsx("div",{className:"recent-tags",children:A.tags&&A.tags.map(M=>_.jsxs("span",{className:"tag-display",children:["#",M," "," "]},M))})]},A.id)):_.jsx("p",{children:"No entries yet."})})]}),_.jsx("section",{className:"journal-main",children:_.jsxs("div",{className:"journal-center-card",children:[_.jsxs("div",{className:"journal-top-row",children:[_.jsx("label",{htmlFor:"entry-title",className:"screen-reader-only",children:"Entry Title"}),_.jsx("input",{id:"entry-title",className:"entry-title-input",placeholder:"[ Entry title ]",value:h,onChange:A=>m(A.target.value)}),_.jsx("p",{className:"journal-date-display",children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),_.jsx("div",{className:"tag-options",children:p.map(A=>_.jsxs("button",{onClick:()=>b(A),className:`tag-button ${g.includes(A)?"selected":""}`,children:["#",A]},A))}),_.jsx("label",{htmlFor:"entry-text-editor",className:"screen-reader-only",children:"Journal Entry Content"}),_.jsx("textarea",{id:"entry-text-editor",className:"entry-editor",value:o,onChange:A=>u(A.target.value),placeholder:"Start writing your thoughts ..."})]})})]}),_.jsxs("div",{className:"journal-bottom-bar",children:[_.jsxs("p",{children:[o.trim().split(/\s+/).filter(Boolean).length," words"]}),_.jsx("p",{children:o.trim()||h.trim()?"Unsaved changes...":`Last saved: ${R?W(R):"Never"}`}),_.jsx("button",{className:"cancel-button",onClick:H,children:"Cancel"}),_.jsx("button",{type:"button",className:"save-entry-button",onClick:U,children:"Save Entry"})]}),B!==null&&_.jsx("div",{className:"journal-modal-overlay",children:_.jsxs("div",{className:"journal-modal",role:"dialog","aria-modal":"true","aria-labelledby":"journalModalTitle",tabIndex:"-1",children:[_.jsx("h2",{id:"journalModalTitle",children:"Journal Entry"}),_.jsx("p",{className:"journal-modal-title",children:_.jsx("strong",{children:n[B].title})}),_.jsx("p",{children:_.jsx("em",{children:n[B].date})}),_.jsx("div",{className:"modal-tags",children:n[B].tags&&n[B].tags.map(A=>_.jsxs("span",{className:"tag-display",children:["#",A," "]},A))}),_.jsx("p",{children:n[B].text}),_.jsxs("div",{className:"journal-modal-controls",children:[_.jsx("button",{onClick:ge,"aria-label":"Show previous journal entry",children:"Previous"}),_.jsx("button",{onClick:se,"aria-label":"Close journal entry modal",children:"Close"}),_.jsx("button",{onClick:fe,"aria-label":"Show next journal entry",children:"Next"})]})]})})]}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}const an=[];for(let r=0;r<256;++r)an.push((r+256).toString(16).slice(1));function h4(r,e=0){return(an[r[e+0]]+an[r[e+1]]+an[r[e+2]]+an[r[e+3]]+"-"+an[r[e+4]]+an[r[e+5]]+"-"+an[r[e+6]]+an[r[e+7]]+"-"+an[r[e+8]]+an[r[e+9]]+"-"+an[r[e+10]]+an[r[e+11]]+an[r[e+12]]+an[r[e+13]]+an[r[e+14]]+an[r[e+15]]).toLowerCase()}let dg;const f4=new Uint8Array(16);function d4(){if(!dg){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");dg=crypto.getRandomValues.bind(crypto)}return dg(f4)}const m4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fb={randomUUID:m4};function g4(r,e,n){r=r||{};const a=r.random??r.rng?.()??d4();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,h4(a)}function p4(r,e,n){return Fb.randomUUID&&!r?Fb.randomUUID():g4(r)}function y4({onClose:r,onPartnerConnect:e}){const[n,a]=z.useState(""),o=u=>{u.preventDefault(),n&&(e(n),a(""),r())};return _.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-container",children:[_.jsx("h2",{children:"Connect Partner Account"}),_.jsxs("form",{onSubmit:o,children:[_.jsxs("div",{className:"info-item",children:[_.jsx("label",{htmlFor:"partnerEmail",className:"modal-label",children:"Partners Email Address"}),_.jsx("input",{id:"partnerEmail",type:"email",className:"edit-input",placeholder:"Enter partners email...",value:n,onChange:u=>a(u.target.value),required:!0})]}),_.jsxs("div",{className:"edit-buttons",children:[_.jsx("button",{type:"submit",className:"orange-button",children:"Send Invite"}),_.jsx("button",{type:"button",className:"orange-button",onClick:r,children:"Cancel"})]})]})]})})}function v4(){const[r,e]=z.useState(null),n=sp(),[a,o]=z.useState({name:"Enter Name",location:"City, State",term:"Enter Trimester (1-3)",nextEvent:"Doctor's Appointment - Nov 8, 10:30 AM",partner:"Not connected"}),[u,h]=z.useState({relationshipStatus:"",anniversaryDate:"",notes:""}),[m,p]=z.useState({partnerName:""}),[g,T]=z.useState([]),[b,R]=z.useState([]),[O,H]=z.useState(!1),[B,L]=z.useState(!1),[U,W]=z.useState(!1);z.useEffect(()=>{const C=Us(si,async pe=>{if(e(pe),pe){const Pe=await Uf(Yn(gn,"users",pe.uid));if(Pe.exists()){const Y=Pe.data();o(Y.profileData||a),h(Y.relationshipData||u),R(Y.partnerInvites||[]),T(Y.notifications||[])}}});return()=>C()},[]);const re=async()=>{try{await JD(si),console.log("User logged out"),n("/login")}catch(C){console.error("Logout error:",C)}},se=C=>{const{name:pe,value:Pe}=C.target;o(Y=>({...Y,[pe]:Pe}))},fe=async C=>{if(C.preventDefault(),!!r)try{await Ni(Yn(gn,"users",r.uid),{profileData:a}),H(!1)}catch(pe){console.error("Error saving profile data:",pe)}},ge=()=>{H(!1)},D=C=>{const{name:pe,value:Pe}=C.target;h(Y=>({...Y,[pe]:Pe}))},A=async()=>{if(r)try{await Ni(Yn(gn,"users",r.uid),{relationshipData:u}),L(!1)}catch(C){console.error("Error saving relationship data:",C)}},I=()=>{L(!1)};async function M(C){if(r)try{const pe=await og(sg(gn,"users"));let Pe=null;if(pe.forEach(ue=>{ue.data().email===C&&(Pe=ue.id)}),!Pe){alert("No user found with that email.");return}if(C==r.email){alert("Email cannot be your own");return}const Y=Yn(gn,"users",Pe),ie=Yn(gn,"users",r.uid);await Ni(Y,{notifications:Hg({fromEmail:r.email,message:`${r.email} sent you a partner invite`,inviteStatus:"pending"})}),await Ni(ie,{partnerInvites:Hg({toEmail:C,inviteStatus:"pending"})}),R(ue=>[...ue,{toEmail:C,inviteStatus:"pending"}])}catch(pe){console.error("Error sending partner invite:",pe)}}const x=async C=>{if(r)try{const pe=Ab(sg(gn,"users"),Rb("email","==",C.fromEmail)),Pe=await og(pe);if(Pe.empty)return;const Y=Pe.docs[0],ue=Y.data().linkedCalendar||p4(),Ce=Yn(gn,"users",r.uid),we=Yn(gn,"users",Y.id);await Ni(Ce,{linkedCalendar:ue,notifications:Vo(C),partnerInvites:Vo({fromEmail:C.fromEmail})}),await Ni(we,{linkedCalendar:ue,partnerInvites:Vo({toEmail:r.email,inviteStatus:"pending"})}),T(V=>V.filter(J=>J.fromEmail!==C.fromEmail)),R(V=>V.filter(J=>J.fromEmail!==C.fromEmail)),console.log("accepted invite")}catch(pe){console.error("Error accepting invite:",pe)}},k=async C=>{if(r)try{const pe=Yn(gn,"users",r.uid);await Ni(pe,{partnerInvites:Vo(C),notifications:Vo(C)});const Pe=Ab(sg(gn,"users"),Rb("email","==",C.fromEmail)),Y=await og(Pe);if(!Y.empty){const ie=Y.docs[0],ue=Yn(gn,"users",ie.id);await Ni(ue,{partnerInvites:Vo({toEmail:r.email,inviteStatus:"pending"})})}T(ie=>ie.filter(ue=>ue.fromEmail!==C.fromEmail)),R(ie=>ie.filter(ue=>ue.fromEmail!==C.fromEmail)),console.log("declined invite")}catch(pe){console.error("Error declining invite:",pe)}};return _.jsxs("div",{className:"profile-page",children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(Ee,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(Ee,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(Ee,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(Ee,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(Ee,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(Ee,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(Ee,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsxs("div",{id:"profile-layout",children:[_.jsxs("div",{className:"profile-left",children:[_.jsx("img",{className:"profile-avatar",src:"/equicare/female-profile.png",alt:"female profile avatar"}),O?_.jsxs("div",{className:"personal-info-text",children:[_.jsx("input",{type:"text",name:"name",value:a.name,onChange:se,className:"edit-input"}),_.jsx("input",{type:"text",name:"location",value:a.location,onChange:se,className:"edit-input"}),_.jsxs("div",{className:"edit-buttons",children:[_.jsx("button",{className:"orange-button",onClick:fe,children:"Save"}),_.jsx("button",{className:"orange-button",onClick:ge,children:"Cancel"})]})]}):_.jsxs("div",{className:"personal-info-text",children:[_.jsx("h2",{children:a.name}),_.jsx("p",{children:a.location}),_.jsx("button",{className:"orange-button connect-button",onClick:()=>H(!0),children:"Edit Profile"})]}),_.jsxs("section",{className:"profile-section",children:[_.jsx("h2",{children:"Notifications"}),g.length===0?_.jsx("p",{children:"No notifications yet."}):_.jsx("div",{className:"notification-list",children:g.map((C,pe)=>_.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem",gap:"0.5rem"},children:[_.jsx("p",{children:C.message}),_.jsx("button",{className:"accept-button",onClick:()=>x(C),children:"Accept"}),_.jsx("button",{className:"decline-button",onClick:()=>k(C),children:"Decline"})]},pe))})]}),_.jsx("button",{className:"orange-button",onClick:re,children:"Log Out"})]}),_.jsxs("div",{className:"profile-right",children:[_.jsxs("section",{className:"profile-section",children:[_.jsx("h2",{children:"Pregnancy Info"}),O?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"info-item",children:[_.jsx("p",{children:_.jsx("strong",{children:"Pregnancy Term"})}),_.jsx("input",{type:"text",name:"term",value:a.term,onChange:se,className:"edit-input"})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("p",{children:_.jsx("strong",{children:"Next Calendar Event"})}),_.jsx("input",{type:"text",name:"nextEvent",value:a.nextEvent,onChange:se,className:"edit-input"})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"info-item",children:[_.jsx("h3",{children:"Pregnancy Term"}),_.jsx("p",{children:a.term})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("h3",{children:"Next Calendar Event"}),_.jsx("p",{children:a.nextEvent})]})]})]}),_.jsxs("section",{className:"profile-section",children:[_.jsx("h2",{children:"Partner Info"}),_.jsxs("div",{className:"info-item",children:[_.jsx("p",{children:_.jsx("strong",{children:"Partner"})}),_.jsx("p",{children:m.partnerName||"Not connected"}),_.jsx("button",{className:"orange-button connect-button",onClick:()=>W(!0),children:"Connect Partners Account"})]}),b.length>0&&_.jsxs("div",{className:"info-item",children:[_.jsx("p",{children:_.jsx("strong",{children:"Pending Invites"})}),_.jsx("ul",{children:b.map((C,pe)=>_.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem",gap:"0.5rem"},children:[_.jsx("span",{children:_.jsx("p",{children:C.toEmail})}),_.jsx("button",{className:"orange-button",onClick:()=>k(pe),children:"Cancel"})]},pe))})]}),B?_.jsxs("div",{className:"info-item",children:[_.jsxs("label",{children:["Relationship Status:",_.jsxs("select",{name:"relationshipStatus",value:u.relationshipStatus,onChange:D,className:"edit-input",children:[_.jsx("option",{value:"",children:"Select..."}),_.jsx("option",{value:"Dating",children:"Dating"}),_.jsx("option",{value:"Engaged",children:"Engaged"}),_.jsx("option",{value:"Married",children:"Married"}),_.jsx("option",{value:"It's complicated",children:"It's complicated"})]})]}),_.jsxs("label",{children:["Anniversary Date:",_.jsx("input",{type:"date",name:"anniversaryDate",value:u.anniversaryDate,onChange:D,className:"edit-input"})]}),_.jsxs("label",{children:["Shared Notes:",_.jsx("textarea",{name:"notes",value:u.notes,onChange:D,className:"edit-input",placeholder:"Add a message, memory, or shared goal..."})]}),_.jsxs("div",{className:"edit-buttons",children:[_.jsx("button",{className:"orange-button",onClick:A,children:"Save"}),_.jsx("button",{className:"orange-button",onClick:I,children:"Cancel"})]})]}):_.jsxs("div",{className:"info-item",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Relationship:"})," ",u.relationshipStatus||"Not set"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Anniversary:"})," ",u.anniversaryDate||"Not added"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Notes:"})," ",u.notes||"No notes yet"]}),_.jsx("button",{className:"orange-button connect-button",onClick:()=>L(!0),children:"Edit Relationship Info"})]})]})]})]})}),U&&_.jsx(y4,{onClose:()=>W(!1),onPartnerConnect:M}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}const _4=[{name:"The Bump",url:"https://www.thebump.com/",description:"A comprehensive platform offering pregnancy, parenting, and relationship advice, with interactive tools to help expecting parents prepare together."},{name:"Pathways.org",url:"https://pathways.org/play",description:"Evidence-based guidance on developmental milestones, prenatal bonding, and early intervention, supporting both the babys and parents needs."},{name:"Evidence Based Birth",url:"https://evidencebasedbirth.com/resources-for-parents/",description:"Workshops, classes, and online courses focused on childbirth education and shared decision-making, ideal for expecting partners wanting to make informed choices together."},{name:"Nurturing Parenting",url:"https://www.nurturingparenting.com/blog/empowering-new-parents-comprehensive-support-with-nurturing-parenting-programs/",description:"A suite of evidence-based programs providing support and education for building a strong, nurturing family relationship before and after childbirth."},{name:"American Pregnancy Association",url:"https://americanpregnancy.org/",description:"Reliable information, live chat, and resources on pregnancy, fertility, health, and communication for expecting parents."},{name:"Parent Collective",url:"https://www.theparentcollective.com/resources/blog-post-title-four-tzg2p-dsxd3-nr8he-p5g4w",description:"Actionable guidance for couples, including shared expectation-setting, communication strategies, and memory-building before the baby arrives."}];function E4(){const[r,e]=z.useState(null);return z.useEffect(()=>{const n=Us(si,a=>{e(a)});return()=>n()},[]),_.jsxs("body",{children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(Ee,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(Ee,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(Ee,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(Ee,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(Ee,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(Ee,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(Ee,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsx("div",{className:"resources-background",children:_.jsxs("div",{className:"resources-wrapper",children:[_.jsxs("div",{className:"resources-content",children:[_.jsxs("h1",{className:"resources-title",children:["Navigating pregnancy and ",_.jsx("br",{}),"partnership, made simple."]}),_.jsx("p",{className:"resources-subtitle",children:"Explore trusted websites designed to support you and your partner throughout the journey"}),_.jsx("div",{className:"resources-grid",children:_4.map(({name:n,url:a,description:o})=>_.jsxs("div",{className:"resource-card",children:[_.jsx("h2",{className:"resource-card-title",children:n}),_.jsx("p",{className:"resource-card-desc",children:o}),_.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"resource-card-btn",children:"Visit Site"})]},n))})]}),_.jsxs("div",{className:"resources-image-section",children:[_.jsx("img",{src:"/equicare/holding-hands.jpg",alt:"Couple holding baby shoes",className:"resources-image"}),_.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[_.jsx("h2",{children:" Relationship Advice for Expecting Parents "}),_.jsx("iframe",{width:"360",height:"220",src:"https://www.youtube.com/embed/14S4zBmsM0w",title:"Youtube Video",allowFullScreen:!0})]})]})]})})}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}G1.createRoot(document.getElementById("root")).render(_.jsx(z.StrictMode,{children:_.jsx(iC,{children:_.jsxs(PR,{children:[_.jsx(Aa,{path:"/",element:_.jsx(RM,{})}),_.jsx(Aa,{path:"/login",element:_.jsx(IM,{})}),_.jsx(Aa,{path:"/datequiz",element:_.jsx(DM,{})}),_.jsx(Aa,{path:"/eventcalendar",element:_.jsx(u4,{})}),_.jsx(Aa,{path:"/journal",element:_.jsx(c4,{})}),_.jsx(Aa,{path:"/profile",element:_.jsx(v4,{})}),_.jsx(Aa,{path:"/resources",element:_.jsx(E4,{})})]})})}));
