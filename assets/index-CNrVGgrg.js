(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var km={exports:{}},lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function O1(){if(IE)return lu;IE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:u}}return lu.Fragment=e,lu.jsx=n,lu.jsxs=n,lu}var DE;function M1(){return DE||(DE=1,km.exports=O1()),km.exports}var _=M1(),jm={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE;function V1(){if(NE)return Ie;NE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,U={};function L(O,Z,se){this.props=O,this.context=Z,this.refs=U,this.updater=se||Y}L.prototype.isReactComponent={},L.prototype.setState=function(O,Z){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Z,"setState")},L.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=L.prototype;function W(O,Z,se){this.props=O,this.context=Z,this.refs=U,this.updater=se||Y}var oe=W.prototype=new $;oe.constructor=W,F(oe,L.prototype),oe.isPureReactComponent=!0;var ge=Array.isArray;function me(){}var D={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(O,Z,se){var le=se.ref;return{$$typeof:r,type:O,key:Z,ref:le!==void 0?le:null,props:se}}function V(O,Z){return I(O.type,Z,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Z={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return Z[se]})}var R=/\/+/g;function pe(O,Z){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Z.toString(36)}function Pe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(me,me):(O.status="pending",O.then(function(Z){O.status==="pending"&&(O.status="fulfilled",O.value=Z)},function(Z){O.status==="pending"&&(O.status="rejected",O.reason=Z)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Z,se,le,Te){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var Ve=!1;if(O===null)Ve=!0;else switch(Ae){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(O.$$typeof){case r:case e:Ve=!0;break;case T:return Ve=O._init,G(Ve(O._payload),Z,se,le,Te)}}if(Ve)return Te=Te(O),Ve=le===""?"."+pe(O,0):le,ge(Te)?(se="",Ve!=null&&(se=Ve.replace(R,"$&/")+"/"),G(Te,Z,se,"",function(ur){return ur})):Te!=null&&(M(Te)&&(Te=V(Te,se+(Te.key==null||O&&O.key===Te.key?"":(""+Te.key).replace(R,"$&/")+"/")+Ve)),Z.push(Te)),1;Ve=0;var ut=le===""?".":le+":";if(ge(O))for(var Ge=0;Ge<O.length;Ge++)le=O[Ge],Ae=ut+pe(le,Ge),Ve+=G(le,Z,se,Ae,Te);else if(Ge=x(O),typeof Ge=="function")for(O=Ge.call(O),Ge=0;!(le=O.next()).done;)le=le.value,Ae=ut+pe(le,Ge++),Ve+=G(le,Z,se,Ae,Te);else if(Ae==="object"){if(typeof O.then=="function")return G(Pe(O),Z,se,le,Te);throw Z=String(O),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ie(O,Z,se){if(O==null)return O;var le=[],Te=0;return G(O,le,"","",function(Ae){return Z.call(se,Ae,Te++)}),le}function ue(O){if(O._status===-1){var Z=O._result;Z=Z(),Z.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=Z)}if(O._status===1)return O._result.default;throw O._result}var Ce=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},we={map:ie,forEach:function(O,Z,se){ie(O,function(){Z.apply(this,arguments)},se)},count:function(O){var Z=0;return ie(O,function(){Z++}),Z},toArray:function(O){return ie(O,function(Z){return Z})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ie.Activity=b,Ie.Children=we,Ie.Component=L,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=W,Ie.StrictMode=a,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return D.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(O,Z,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=F({},O.props),Te=O.key;if(Z!=null)for(Ae in Z.key!==void 0&&(Te=""+Z.key),Z)!C.call(Z,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Z.ref===void 0||(le[Ae]=Z[Ae]);var Ae=arguments.length-2;if(Ae===1)le.children=se;else if(1<Ae){for(var Ve=Array(Ae),ut=0;ut<Ae;ut++)Ve[ut]=arguments[ut+2];le.children=Ve}return I(O.type,Te,le)},Ie.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ie.createElement=function(O,Z,se){var le,Te={},Ae=null;if(Z!=null)for(le in Z.key!==void 0&&(Ae=""+Z.key),Z)C.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Te[le]=Z[le]);var Ve=arguments.length-2;if(Ve===1)Te.children=se;else if(1<Ve){for(var ut=Array(Ve),Ge=0;Ge<Ve;Ge++)ut[Ge]=arguments[Ge+2];Te.children=ut}if(O&&O.defaultProps)for(le in Ve=O.defaultProps,Ve)Te[le]===void 0&&(Te[le]=Ve[le]);return I(O,Ae,Te)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:m,render:O}},Ie.isValidElement=M,Ie.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:ue}},Ie.memo=function(O,Z){return{$$typeof:g,type:O,compare:Z===void 0?null:Z}},Ie.startTransition=function(O){var Z=D.T,se={};D.T=se;try{var le=O(),Te=D.S;Te!==null&&Te(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(me,Ce)}catch(Ae){Ce(Ae)}finally{Z!==null&&se.types!==null&&(Z.types=se.types),D.T=Z}},Ie.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ie.use=function(O){return D.H.use(O)},Ie.useActionState=function(O,Z,se){return D.H.useActionState(O,Z,se)},Ie.useCallback=function(O,Z){return D.H.useCallback(O,Z)},Ie.useContext=function(O){return D.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,Z){return D.H.useDeferredValue(O,Z)},Ie.useEffect=function(O,Z){return D.H.useEffect(O,Z)},Ie.useEffectEvent=function(O){return D.H.useEffectEvent(O)},Ie.useId=function(){return D.H.useId()},Ie.useImperativeHandle=function(O,Z,se){return D.H.useImperativeHandle(O,Z,se)},Ie.useInsertionEffect=function(O,Z){return D.H.useInsertionEffect(O,Z)},Ie.useLayoutEffect=function(O,Z){return D.H.useLayoutEffect(O,Z)},Ie.useMemo=function(O,Z){return D.H.useMemo(O,Z)},Ie.useOptimistic=function(O,Z){return D.H.useOptimistic(O,Z)},Ie.useReducer=function(O,Z,se){return D.H.useReducer(O,Z,se)},Ie.useRef=function(O){return D.H.useRef(O)},Ie.useState=function(O){return D.H.useState(O)},Ie.useSyncExternalStore=function(O,Z,se){return D.H.useSyncExternalStore(O,Z,se)},Ie.useTransition=function(){return D.H.useTransition()},Ie.version="19.2.0",Ie}var xE;function Zg(){return xE||(xE=1,jm.exports=V1()),jm.exports}var z=Zg(),Lm={exports:{}},uu={},Um={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function P1(){return OE||(OE=1,(function(r){function e(G,ie){var ue=G.length;G.push(ie);e:for(;0<ue;){var Ce=ue-1>>>1,we=G[Ce];if(0<o(we,ie))G[Ce]=ie,G[ue]=we,ue=Ce;else break e}}function n(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ie=G[0],ue=G.pop();if(ue!==ie){G[0]=ue;e:for(var Ce=0,we=G.length,O=we>>>1;Ce<O;){var Z=2*(Ce+1)-1,se=G[Z],le=Z+1,Te=G[le];if(0>o(se,ue))le<we&&0>o(Te,se)?(G[Ce]=Te,G[le]=ue,Ce=le):(G[Ce]=se,G[Z]=ue,Ce=Z);else if(le<we&&0>o(Te,ue))G[Ce]=Te,G[le]=ue,Ce=le;else break e}}return ie}function o(G,ie){var ue=G.sortIndex-ie.sortIndex;return ue!==0?ue:G.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],T=1,b=null,A=3,x=!1,Y=!1,F=!1,U=!1,L=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function oe(G){for(var ie=n(g);ie!==null;){if(ie.callback===null)a(g);else if(ie.startTime<=G)a(g),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=n(g)}}function ge(G){if(F=!1,oe(G),!Y)if(n(p)!==null)Y=!0,me||(me=!0,k());else{var ie=n(g);ie!==null&&Pe(ge,ie.startTime-G)}}var me=!1,D=-1,C=5,I=-1;function V(){return U?!0:!(r.unstable_now()-I<C)}function M(){if(U=!1,me){var G=r.unstable_now();I=G;var ie=!0;try{e:{Y=!1,F&&(F=!1,$(D),D=-1),x=!0;var ue=A;try{t:{for(oe(G),b=n(p);b!==null&&!(b.expirationTime>G&&V());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,A=b.priorityLevel;var we=Ce(b.expirationTime<=G);if(G=r.unstable_now(),typeof we=="function"){b.callback=we,oe(G),ie=!0;break t}b===n(p)&&a(p),oe(G)}else a(p);b=n(p)}if(b!==null)ie=!0;else{var O=n(g);O!==null&&Pe(ge,O.startTime-G),ie=!1}}break e}finally{b=null,A=ue,x=!1}ie=void 0}}finally{ie?k():me=!1}}}var k;if(typeof W=="function")k=function(){W(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,pe=R.port2;R.port1.onmessage=M,k=function(){pe.postMessage(null)}}else k=function(){L(M,0)};function Pe(G,ie){D=L(function(){G(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(G){switch(A){case 1:case 2:case 3:var ie=3;break;default:ie=A}var ue=A;A=ie;try{return G()}finally{A=ue}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=A;A=G;try{return ie()}finally{A=ue}},r.unstable_scheduleCallback=function(G,ie,ue){var Ce=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ce+ue:Ce):ue=Ce,G){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ue+we,G={id:T++,callback:ie,priorityLevel:G,startTime:ue,expirationTime:we,sortIndex:-1},ue>Ce?(G.sortIndex=ue,e(g,G),n(p)===null&&G===n(g)&&(F?($(D),D=-1):F=!0,Pe(ge,ue-Ce))):(G.sortIndex=we,e(p,G),Y||x||(Y=!0,me||(me=!0,k()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var ie=A;return function(){var ue=A;A=ie;try{return G.apply(this,arguments)}finally{A=ue}}}})(zm)),zm}var ME;function k1(){return ME||(ME=1,Um.exports=P1()),Um.exports}var Bm={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function j1(){if(VE)return dn;VE=1;var r=Zg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,dn.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},dn.flushSync=function(p){var g=h.T,T=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=T,a.d.f()}},dn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},dn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},dn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:x}):T==="script"&&a.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},dn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);a.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},dn.requestFormReset=function(p){a.d.r(p)},dn.unstable_batchedUpdates=function(p,g){return p(g)},dn.useFormState=function(p,g,T){return h.H.useFormState(p,g,T)},dn.useFormStatus=function(){return h.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var PE;function L1(){if(PE)return Bm.exports;PE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bm.exports=j1(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function U1(){if(kE)return uu;kE=1;var r=k1(),e=Zg(),n=L1();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var v=!1,S=f.child;S;){if(S===s){v=!0,s=f,l=d;break}if(S===l){v=!0,l=f,s=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===s){v=!0,s=d,l=f;break}if(S===l){v=!0,l=d,s=f;break}S=S.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),W=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case L:return"Profiler";case U:return"StrictMode";case ge:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case W:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:pe(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return pe(t(i))}catch{}}return null}var Pe=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ce=[],we=-1;function O(t){return{current:t}}function Z(t){0>we||(t.current=Ce[we],Ce[we]=null,we--)}function se(t,i){we++,Ce[we]=t.current,t.current=i}var le=O(null),Te=O(null),Ae=O(null),Ve=O(null);function ut(t,i){switch(se(Ae,i),se(Te,t),se(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?W_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=W_(i),t=J_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(le),se(le,t)}function Ge(){Z(le),Z(Te),Z(Ae)}function ur(t){t.memoizedState!==null&&se(Ve,t);var i=le.current,s=J_(i,t.type);i!==s&&(se(Te,t),se(le,s))}function Rr(t){Te.current===t&&(Z(le),Z(Te)),Ve.current===t&&(Z(Ve),iu._currentValue=ue)}var cr,Cr;function Xe(t){if(cr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);cr=i&&i[1]||"",Cr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+cr+t+Cr}var hr=!1;function Vt(t,i){if(!t||hr)return"";hr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var Q=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){Q=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){Q=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var N=v.split(`
`),H=S.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===H.length)for(l=N.length-1,f=H.length-1;1<=l&&0<=f&&N[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==H[f]){var J=`
`+N[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=f);break}}}finally{hr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Xe(s):""}function Ir(t,i){switch(t.tag){case 26:case 27:case 5:return Xe(t.type);case 16:return Xe("Lazy");case 13:return t.child!==i&&i!==null?Xe("Suspense Fallback"):Xe("Suspense");case 19:return Xe("SuspenseList");case 0:case 15:return Vt(t.type,!1);case 11:return Vt(t.type.render,!1);case 1:return Vt(t.type,!0);case 31:return Xe("Activity");default:return""}}function Fi(t){try{var i="",s=null;do i+=Ir(t,s),s=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,It=r.unstable_scheduleCallback,Dr=r.unstable_cancelCallback,cl=r.unstable_shouldYield,Ka=r.unstable_requestPaint,Jt=r.unstable_now,li=r.unstable_getCurrentPriorityLevel,$a=r.unstable_ImmediatePriority,Xa=r.unstable_UserBlockingPriority,Nr=r.unstable_NormalPriority,Wa=r.unstable_LowPriority,Ja=r.unstable_IdlePriority,Za=r.log,Hs=r.unstable_setDisableYieldValue,cn=null,Pt=null;function bn(t){if(typeof Za=="function"&&Hs(t),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(cn,t)}catch{}}var pt=Math.clz32?Math.clz32:Fs,es=Math.log,xr=Math.LN2;function Fs(t){return t>>>=0,t===0?32:31-(es(t)/xr|0)|0}var Mn=256,ui=262144,Tt=4194304;function ct(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ht(t,i,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=ct(l):(v&=S,v!==0?f=ct(v):s||(s=S&~t,s!==0&&(f=ct(s))))):(S=l&~d,S!==0?f=ct(S):v!==0?f=ct(v):s||(s=l&~t,s!==0&&(f=ct(s)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:f}function hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function at(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function Qn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function fr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gs(t,i,s,l,f,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(s=v&~s;0<s;){var J=31-pt(s),te=1<<J;S[J]=0,N[J]=-1;var Q=H[J];if(Q!==null)for(H[J]=null,J=0;J<Q.length;J++){var X=Q[J];X!==null&&(X.lane&=-536870913)}s&=~te}l!==0&&Or(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Or(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function ci(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-pt(s),f=1<<l;f&i|t[l]&i&&(t[l]|=i),s&=~f}}function Mr(t,i){var s=i&-i;return s=(s&42)!==0?1:dr(s),(s&(t.suspendedLanes|i))!==0?0:s}function dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Vn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gi(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:TE(t.type))}function Pn(t,i){var s=ie.p;try{return ie.p=t,i()}finally{ie.p=s}}var _n=Math.random().toString(36).slice(2),bt="__reactFiber$"+_n,kt="__reactProps$"+_n,Kn="__reactContainer$"+_n,Ne="__reactEvents$"+_n,ot="__reactListeners$"+_n,ft="__reactHandles$"+_n,fn="__reactResources$"+_n,At="__reactMarker$"+_n;function Vr(t){delete t[bt],delete t[kt],delete t[Ne],delete t[ot],delete t[ft]}function $n(t){var i=t[bt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Kn]||s[bt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=aE(t);t!==null;){if(s=t[bt])return s;t=aE(t)}return i}t=s,s=t.parentNode}return null}function Sn(t){if(t=t[bt]||t[Kn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function kn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Pr(t){var i=t[fn];return i||(i=t[fn]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function jt(t){t[At]=!0}var hl=new Set,fl={};function kr(t,i){jr(t,i),jr(t+"Capture",i)}function jr(t,i){for(fl[t]=i,t=0;t<i.length;t++)hl.add(i[t])}var dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},gl={};function nc(t){return Et.call(gl,t)?!0:Et.call(ml,t)?!1:dl.test(t)?gl[t]=!0:(ml[t]=!0,!1)}function Ys(t,i,s){if(nc(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function jn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Lt(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pl(t,i,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){s=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Je(t){if(!t._valueTracker){var i=Yi(t)?"checked":"value";t._valueTracker=pl(t,i,""+t[i])}}function ts(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Yi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function Lr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ns=/[\n"\\]/g;function wn(t){return t.replace(ns,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Qs(t,i,s,l,f,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Kt(i)):t.value!==""+Kt(i)&&(t.value=""+Kt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?yl(t,v,Kt(i)):s!=null?yl(t,v,Kt(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Kt(S):t.removeAttribute("name")}function rc(t,i,s,l,f,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Je(t);return}s=s!=null?""+Kt(s):"",i=i!=null?""+Kt(i):s,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Je(t)}function yl(t,i,s){i==="number"&&Lr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Qi(t,i,s,l){if(t=t.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=i.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Kt(s),i=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function ic(t,i,s){if(i!=null&&(i=""+Kt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Kt(s):""}function Ki(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(Pe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Kt(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),Je(t)}function An(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ac=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vl(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||ac.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function _l(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&s[f]!==l&&vl(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&vl(t,d,i[d])}function Ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$i=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(t){return $i.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function mr(){}var El=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Ur=null;function rs(t){var i=Sn(t);if(i&&(t=i.stateNode)){var s=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Qs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var f=l[kt]||null;if(!f)throw Error(a(90));Qs(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&ts(l)}break e;case"textarea":ic(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Qi(t,!!s.multiple,i,!1)}}}var Xs=!1;function Wi(t,i,s){if(Xs)return t(i,s);Xs=!0;try{var l=t(i);return l}finally{if(Xs=!1,(Xi!==null||Ur!==null)&&(Zc(),Xi&&(i=Xi,t=Ur,Ur=Xi=null,rs(i),t)))for(i=0;i<t.length;i++)rs(t[i])}}function gr(t,i){var s=t.stateNode;if(s===null)return null;var l=s[kt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=!1;if(Wn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){is=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{is=!1}var zr=null,Tl=null,as=null;function bl(){if(as)return as;var t,i=Tl,s=i.length,l,f="value"in zr?zr.value:zr.textContent,d=f.length;for(t=0;t<s&&i[t]===f[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===f[d-l];l++);return as=f.slice(t,1<l?1-l:void 0)}function ss(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function hi(){return!0}function pr(){return!1}function Zt(t){function i(s,l,f,d,v){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(s=t[S],this[S]=s?s(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hi:pr,this.isPropagationStopped=pr,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),i}var fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=Zt(fi),Ji=b({},fi,{view:0,detail:0}),Sl=Zt(Ji),Zi,Ws,qr,Js=b({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qr&&(qr&&t.type==="mousemove"?(Zi=t.screenX-qr.screenX,Ws=t.screenY-qr.screenY):Ws=Zi=0,qr=t),Zi)},movementY:function(t){return"movementY"in t?t.movementY:Ws}}),wl=Zt(Js),os=b({},Js,{dataTransfer:0}),oc=Zt(os),lc=b({},Ji,{relatedTarget:0}),ls=Zt(lc),Al=b({},fi,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=Zt(Al),Zs=b({},fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cc=Zt(Zs),hc=b({},fi,{data:0}),Hr=Zt(hc),fc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=mc[t])?!!i[t]:!1}function ea(){return gc}var En=b({},Ji,{key:function(t){if(t.key){var i=fc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ss(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(t){return t.type==="keypress"?ss(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ss(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pc=Zt(En),yc=b({},Js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),di=Zt(yc),c=b({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),y=Zt(c),E=b({},fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Zt(E),B=b({},Js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Zt(B),ae=b({},fi,{newState:0,oldState:0}),xe=Zt(ae),Dt=[9,13,27,32],Ke=Wn&&"CompositionEvent"in window,yt=null;Wn&&"documentMode"in document&&(yt=document.documentMode);var Jn=Wn&&"TextEvent"in window&&!yt,Fr=Wn&&(!Ke||yt&&8<yt&&11>=yt),yr=" ",vr=!1;function us(t,i){switch(t){case"keyup":return Dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var to=!1;function nA(t,i){switch(t){case"compositionend":return eo(i);case"keypress":return i.which!==32?null:(vr=!0,yr);case"textInput":return t=i.data,t===yr&&vr?null:t;default:return null}}function rA(t,i){if(to)return t==="compositionend"||!Ke&&us(t,i)?(t=bl(),as=Tl=zr=null,to=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fr&&i.locale!=="ko"?null:i.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ly(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!iA[t.type]:i==="textarea"}function uy(t,i,s,l){Xi?Ur?Ur.push(l):Ur=[l]:Xi=l,i=sh(i,"onChange"),0<i.length&&(s=new Br("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Rl=null,Cl=null;function aA(t){G_(t,0)}function vc(t){var i=kn(t);if(ts(i))return t}function cy(t,i){if(t==="change")return i}var hy=!1;if(Wn){var Hf;if(Wn){var Ff="oninput"in document;if(!Ff){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),Ff=typeof fy.oninput=="function"}Hf=Ff}else Hf=!1;hy=Hf&&(!document.documentMode||9<document.documentMode)}function dy(){Rl&&(Rl.detachEvent("onpropertychange",my),Cl=Rl=null)}function my(t){if(t.propertyName==="value"&&vc(Cl)){var i=[];uy(i,Cl,t,Xn(t)),Wi(aA,i)}}function sA(t,i,s){t==="focusin"?(dy(),Rl=i,Cl=s,Rl.attachEvent("onpropertychange",my)):t==="focusout"&&dy()}function oA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vc(Cl)}function lA(t,i){if(t==="click")return vc(i)}function uA(t,i){if(t==="input"||t==="change")return vc(i)}function cA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ln=typeof Object.is=="function"?Object.is:cA;function Il(t,i){if(Ln(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Et.call(i,f)||!Ln(t[f],i[f]))return!1}return!0}function gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function py(t,i){var s=gy(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gy(s)}}function yy(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?yy(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Lr(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Lr(t.document)}return i}function Gf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var hA=Wn&&"documentMode"in document&&11>=document.documentMode,no=null,Yf=null,Dl=null,Qf=!1;function _y(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qf||no==null||no!==Lr(l)||(l=no,"selectionStart"in l&&Gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Dl&&Il(Dl,l)||(Dl=l,l=sh(Yf,"onSelect"),0<l.length&&(i=new Br("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=no)))}function cs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var ro={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionrun:cs("Transition","TransitionRun"),transitionstart:cs("Transition","TransitionStart"),transitioncancel:cs("Transition","TransitionCancel"),transitionend:cs("Transition","TransitionEnd")},Kf={},Ey={};Wn&&(Ey=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function hs(t){if(Kf[t])return Kf[t];if(!ro[t])return t;var i=ro[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ey)return Kf[t]=i[s];return t}var Ty=hs("animationend"),by=hs("animationiteration"),Sy=hs("animationstart"),fA=hs("transitionrun"),dA=hs("transitionstart"),mA=hs("transitioncancel"),wy=hs("transitionend"),Ay=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function _r(t,i){Ay.set(t,i),kr(i,[t])}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],io=0,Xf=0;function Ec(){for(var t=io,i=Xf=io=0;i<t;){var s=Zn[i];Zn[i++]=null;var l=Zn[i];Zn[i++]=null;var f=Zn[i];Zn[i++]=null;var d=Zn[i];if(Zn[i++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Ry(s,f,d)}}function Tc(t,i,s,l){Zn[io++]=t,Zn[io++]=i,Zn[io++]=s,Zn[io++]=l,Xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wf(t,i,s,l){return Tc(t,i,s,l),bc(t)}function fs(t,i){return Tc(t,null,null,i),bc(t)}function Ry(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-pt(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=s|536870912),d):null}function bc(t){if(50<Wl)throw Wl=0,sm=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ao={};function gA(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,i,s,l){return new gA(t,i,s,l)}function Jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mi(t,i){var s=t.alternate;return s===null?(s=Un(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Cy(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Sc(t,i,s,l,f,d){var v=0;if(l=t,typeof t=="function")Jf(t)&&(v=1);else if(typeof t=="string")v=E1(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Un(31,s,i,f),t.elementType=I,t.lanes=d,t;case F:return ds(s.children,f,d,i);case U:v=8,f|=24;break;case L:return t=Un(12,s,i,f|2),t.elementType=L,t.lanes=d,t;case ge:return t=Un(13,s,i,f),t.elementType=ge,t.lanes=d,t;case me:return t=Un(19,s,i,f),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:v=10;break e;case $:v=9;break e;case oe:v=11;break e;case D:v=14;break e;case C:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Un(v,s,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function ds(t,i,s,l){return t=Un(7,t,l,i),t.lanes=s,t}function Zf(t,i,s){return t=Un(6,t,null,i),t.lanes=s,t}function Iy(t){var i=Un(18,null,null,0);return i.stateNode=t,i}function ed(t,i,s){return i=Un(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Dy=new WeakMap;function er(t,i){if(typeof t=="object"&&t!==null){var s=Dy.get(t);return s!==void 0?s:(i={value:t,source:i,stack:Fi(i)},Dy.set(t,i),i)}return{value:t,source:i,stack:Fi(i)}}var so=[],oo=0,wc=null,Nl=0,tr=[],nr=0,ta=null,Gr=1,Yr="";function gi(t,i){so[oo++]=Nl,so[oo++]=wc,wc=t,Nl=i}function Ny(t,i,s){tr[nr++]=Gr,tr[nr++]=Yr,tr[nr++]=ta,ta=t;var l=Gr;t=Yr;var f=32-pt(l)-1;l&=~(1<<f),s+=1;var d=32-pt(i)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Gr=1<<32-pt(i)+f|s<<f|l,Yr=d+t}else Gr=1<<d|s<<f|l,Yr=t}function td(t){t.return!==null&&(gi(t,1),Ny(t,1,0))}function nd(t){for(;t===wc;)wc=so[--oo],so[oo]=null,Nl=so[--oo],so[oo]=null;for(;t===ta;)ta=tr[--nr],tr[nr]=null,Yr=tr[--nr],tr[nr]=null,Gr=tr[--nr],tr[nr]=null}function xy(t,i){tr[nr++]=Gr,tr[nr++]=Yr,tr[nr++]=ta,Gr=i.id,Yr=i.overflow,ta=t}var en=null,dt=null,He=!1,na=null,rr=!1,rd=Error(a(519));function ra(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(er(i,t)),rd}function Oy(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[bt]=t,i[kt]=l,s){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(s=0;s<Zl.length;s++)je(Zl[s],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),rc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Ki(i,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||$_(i.textContent,s)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=mr),i=!0):i=!1,i||ra(t,!0)}function My(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:en=en.return}}function lo(t){if(t!==en)return!1;if(!He)return My(t),He=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Tm(t.type,t.memoizedProps)),s=!s),s&&dt&&ra(t),My(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=iE(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=iE(t)}else i===27?(i=dt,ya(t.type)?(t=Rm,Rm=null,dt=t):dt=i):dt=en?ar(t.stateNode.nextSibling):null;return!0}function ms(){dt=en=null,He=!1}function id(){var t=na;return t!==null&&(Dn===null?Dn=t:Dn.push.apply(Dn,t),na=null),t}function xl(t){na===null?na=[t]:na.push(t)}var ad=O(null),gs=null,pi=null;function ia(t,i,s){se(ad,i._currentValue),i._currentValue=s}function yi(t){t._currentValue=ad.current,Z(ad)}function sd(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function od(t,i,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=s,S=d.alternate,S!==null&&(S.lanes|=s),sd(d.return,s,t),l||(v=null);break e}d=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),sd(v,s,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function uo(t,i,s,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var S=f.type;Ln(f.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(f===Ve.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(iu):t=[iu])}f=f.return}t!==null&&od(i,t,s,l),i.flags|=262144}function Ac(t){for(t=t.firstContext;t!==null;){if(!Ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ps(t){gs=t,pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Vy(gs,t)}function Rc(t,i){return gs===null&&ps(t),Vy(t,i)}function Vy(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},pi===null){if(t===null)throw Error(a(308));pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else pi=pi.next=i;return s}var pA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},yA=r.unstable_scheduleCallback,vA=r.unstable_NormalPriority,Ut={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new pA,data:new Map,refCount:0}}function Ol(t){t.refCount--,t.refCount===0&&yA(vA,function(){t.controller.abort()})}var Ml=null,ud=0,co=0,ho=null;function _A(t,i){if(Ml===null){var s=Ml=[];ud=0,co=fm(),ho={status:"pending",value:void 0,then:function(l){s.push(l)}}}return ud++,i.then(Py,Py),i}function Py(){if(--ud===0&&Ml!==null){ho!==null&&(ho.status="fulfilled");var t=Ml;Ml=null,co=0,ho=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function EA(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var ky=G.S;G.S=function(t,i){__=Jt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_A(t,i),ky!==null&&ky(t,i)};var ys=O(null);function cd(){var t=ys.current;return t!==null?t:st.pooledCache}function Cc(t,i){i===null?se(ys,ys.current):se(ys,i.pool)}function jy(){var t=cd();return t===null?null:{parent:Ut._currentValue,pool:t}}var fo=Error(a(460)),hd=Error(a(474)),Ic=Error(a(542)),Dc={then:function(){}};function Ly(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Uy(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(mr,mr),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,By(t),t;default:if(typeof i.status=="string")i.then(mr,mr);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,By(t),t}throw _s=i,fo}}function vs(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(_s=s,fo):s}}var _s=null;function zy(){if(_s===null)throw Error(a(459));var t=_s;return _s=null,t}function By(t){if(t===fo||t===Ic)throw Error(a(483))}var mo=null,Vl=0;function Nc(t){var i=Vl;return Vl+=1,mo===null&&(mo=[]),Uy(mo,t,i)}function Pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function xc(t,i){throw i.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function qy(t){function i(j,P){if(t){var q=j.deletions;q===null?(j.deletions=[P],j.flags|=16):q.push(P)}}function s(j,P){if(!t)return null;for(;P!==null;)i(j,P),P=P.sibling;return null}function l(j){for(var P=new Map;j!==null;)j.key!==null?P.set(j.key,j):P.set(j.index,j),j=j.sibling;return P}function f(j,P){return j=mi(j,P),j.index=0,j.sibling=null,j}function d(j,P,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<P?(j.flags|=67108866,P):q):(j.flags|=67108866,P)):(j.flags|=1048576,P)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,P,q,ee){return P===null||P.tag!==6?(P=Zf(q,j.mode,ee),P.return=j,P):(P=f(P,q),P.return=j,P)}function N(j,P,q,ee){var ye=q.type;return ye===F?J(j,P,q.props.children,ee,q.key):P!==null&&(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&vs(ye)===P.type)?(P=f(P,q.props),Pl(P,q),P.return=j,P):(P=Sc(q.type,q.key,q.props,null,j.mode,ee),Pl(P,q),P.return=j,P)}function H(j,P,q,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=ed(q,j.mode,ee),P.return=j,P):(P=f(P,q.children||[]),P.return=j,P)}function J(j,P,q,ee,ye){return P===null||P.tag!==7?(P=ds(q,j.mode,ee,ye),P.return=j,P):(P=f(P,q),P.return=j,P)}function te(j,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Zf(""+P,j.mode,q),P.return=j,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return q=Sc(P.type,P.key,P.props,null,j.mode,q),Pl(q,P),q.return=j,q;case Y:return P=ed(P,j.mode,q),P.return=j,P;case C:return P=vs(P),te(j,P,q)}if(Pe(P)||k(P))return P=ds(P,j.mode,q,null),P.return=j,P;if(typeof P.then=="function")return te(j,Nc(P),q);if(P.$$typeof===W)return te(j,Rc(j,P),q);xc(j,P)}return null}function Q(j,P,q,ee){var ye=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ye!==null?null:S(j,P,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===ye?N(j,P,q,ee):null;case Y:return q.key===ye?H(j,P,q,ee):null;case C:return q=vs(q),Q(j,P,q,ee)}if(Pe(q)||k(q))return ye!==null?null:J(j,P,q,ee,null);if(typeof q.then=="function")return Q(j,P,Nc(q),ee);if(q.$$typeof===W)return Q(j,P,Rc(j,q),ee);xc(j,q)}return null}function X(j,P,q,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return j=j.get(q)||null,S(P,j,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return j=j.get(ee.key===null?q:ee.key)||null,N(P,j,ee,ye);case Y:return j=j.get(ee.key===null?q:ee.key)||null,H(P,j,ee,ye);case C:return ee=vs(ee),X(j,P,q,ee,ye)}if(Pe(ee)||k(ee))return j=j.get(q)||null,J(P,j,ee,ye,null);if(typeof ee.then=="function")return X(j,P,q,Nc(ee),ye);if(ee.$$typeof===W)return X(j,P,q,Rc(P,ee),ye);xc(P,ee)}return null}function fe(j,P,q,ee){for(var ye=null,Ye=null,de=P,Me=P=0,Ue=null;de!==null&&Me<q.length;Me++){de.index>Me?(Ue=de,de=null):Ue=de.sibling;var Qe=Q(j,de,q[Me],ee);if(Qe===null){de===null&&(de=Ue);break}t&&de&&Qe.alternate===null&&i(j,de),P=d(Qe,P,Me),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe,de=Ue}if(Me===q.length)return s(j,de),He&&gi(j,Me),ye;if(de===null){for(;Me<q.length;Me++)de=te(j,q[Me],ee),de!==null&&(P=d(de,P,Me),Ye===null?ye=de:Ye.sibling=de,Ye=de);return He&&gi(j,Me),ye}for(de=l(de);Me<q.length;Me++)Ue=X(de,j,Me,q[Me],ee),Ue!==null&&(t&&Ue.alternate!==null&&de.delete(Ue.key===null?Me:Ue.key),P=d(Ue,P,Me),Ye===null?ye=Ue:Ye.sibling=Ue,Ye=Ue);return t&&de.forEach(function(ba){return i(j,ba)}),He&&gi(j,Me),ye}function Ee(j,P,q,ee){if(q==null)throw Error(a(151));for(var ye=null,Ye=null,de=P,Me=P=0,Ue=null,Qe=q.next();de!==null&&!Qe.done;Me++,Qe=q.next()){de.index>Me?(Ue=de,de=null):Ue=de.sibling;var ba=Q(j,de,Qe.value,ee);if(ba===null){de===null&&(de=Ue);break}t&&de&&ba.alternate===null&&i(j,de),P=d(ba,P,Me),Ye===null?ye=ba:Ye.sibling=ba,Ye=ba,de=Ue}if(Qe.done)return s(j,de),He&&gi(j,Me),ye;if(de===null){for(;!Qe.done;Me++,Qe=q.next())Qe=te(j,Qe.value,ee),Qe!==null&&(P=d(Qe,P,Me),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe);return He&&gi(j,Me),ye}for(de=l(de);!Qe.done;Me++,Qe=q.next())Qe=X(de,j,Me,Qe.value,ee),Qe!==null&&(t&&Qe.alternate!==null&&de.delete(Qe.key===null?Me:Qe.key),P=d(Qe,P,Me),Ye===null?ye=Qe:Ye.sibling=Qe,Ye=Qe);return t&&de.forEach(function(x1){return i(j,x1)}),He&&gi(j,Me),ye}function it(j,P,q,ee){if(typeof q=="object"&&q!==null&&q.type===F&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:e:{for(var ye=q.key;P!==null;){if(P.key===ye){if(ye=q.type,ye===F){if(P.tag===7){s(j,P.sibling),ee=f(P,q.props.children),ee.return=j,j=ee;break e}}else if(P.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===C&&vs(ye)===P.type){s(j,P.sibling),ee=f(P,q.props),Pl(ee,q),ee.return=j,j=ee;break e}s(j,P);break}else i(j,P);P=P.sibling}q.type===F?(ee=ds(q.props.children,j.mode,ee,q.key),ee.return=j,j=ee):(ee=Sc(q.type,q.key,q.props,null,j.mode,ee),Pl(ee,q),ee.return=j,j=ee)}return v(j);case Y:e:{for(ye=q.key;P!==null;){if(P.key===ye)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){s(j,P.sibling),ee=f(P,q.children||[]),ee.return=j,j=ee;break e}else{s(j,P);break}else i(j,P);P=P.sibling}ee=ed(q,j.mode,ee),ee.return=j,j=ee}return v(j);case C:return q=vs(q),it(j,P,q,ee)}if(Pe(q))return fe(j,P,q,ee);if(k(q)){if(ye=k(q),typeof ye!="function")throw Error(a(150));return q=ye.call(q),Ee(j,P,q,ee)}if(typeof q.then=="function")return it(j,P,Nc(q),ee);if(q.$$typeof===W)return it(j,P,Rc(j,q),ee);xc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(s(j,P.sibling),ee=f(P,q),ee.return=j,j=ee):(s(j,P),ee=Zf(q,j.mode,ee),ee.return=j,j=ee),v(j)):s(j,P)}return function(j,P,q,ee){try{Vl=0;var ye=it(j,P,q,ee);return mo=null,ye}catch(de){if(de===fo||de===Ic)throw de;var Ye=Un(29,de,null,j.mode);return Ye.lanes=ee,Ye.return=j,Ye}finally{}}}var Es=qy(!0),Hy=qy(!1),aa=!1;function fd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function oa(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=bc(t),Ry(t,null,s),i}return Tc(t,l,i,s),bc(t)}function kl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,ci(t,s)}}function md(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?f=d=i:d=d.next=i}else f=d=i;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var gd=!1;function jl(){if(gd){var t=ho;if(t!==null)throw t}}function Ll(t,i,s,l){gd=!1;var f=t.updateQueue;aa=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,H=N.next;N.next=null,v===null?d=H:v.next=H,v=N;var J=t.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==v&&(S===null?J.firstBaseUpdate=H:S.next=H,J.lastBaseUpdate=N))}if(d!==null){var te=f.baseState;v=0,J=H=N=null,S=d;do{var Q=S.lane&-536870913,X=Q!==S.lane;if(X?(Le&Q)===Q:(l&Q)===Q){Q!==0&&Q===co&&(gd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,Ee=S;Q=i;var it=s;switch(Ee.tag){case 1:if(fe=Ee.payload,typeof fe=="function"){te=fe.call(it,te,Q);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ee.payload,Q=typeof fe=="function"?fe.call(it,te,Q):fe,Q==null)break e;te=b({},te,Q);break e;case 2:aa=!0}}Q=S.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(H=J=X,N=te):J=J.next=X,v|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(N=te),f.baseState=N,f.firstBaseUpdate=H,f.lastBaseUpdate=J,d===null&&(f.shared.lanes=0),fa|=v,t.lanes=v,t.memoizedState=te}}function Fy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Gy(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Fy(s[t],i)}var go=O(null),Oc=O(0);function Yy(t,i){t=Ri,se(Oc,t),se(go,i),Ri=t|i.baseLanes}function pd(){se(Oc,Ri),se(go,go.current)}function yd(){Ri=Oc.current,Z(go),Z(Oc)}var zn=O(null),ir=null;function la(t){var i=t.alternate;se(Nt,Nt.current&1),se(zn,t),ir===null&&(i===null||go.current!==null||i.memoizedState!==null)&&(ir=t)}function vd(t){se(Nt,Nt.current),se(zn,t),ir===null&&(ir=t)}function Qy(t){t.tag===22?(se(Nt,Nt.current),se(zn,t),ir===null&&(ir=t)):ua()}function ua(){se(Nt,Nt.current),se(zn,zn.current)}function Bn(t){Z(zn),ir===t&&(ir=null),Z(Nt)}var Nt=O(0);function Mc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||wm(s)||Am(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var vi=0,Oe=null,nt=null,zt=null,Vc=!1,po=!1,Ts=!1,Pc=0,Ul=0,yo=null,TA=0;function Rt(){throw Error(a(321))}function _d(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Ln(t[s],i[s]))return!1;return!0}function Ed(t,i,s,l,f,d){return vi=d,Oe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Nv:Pd,Ts=!1,d=s(l,f),Ts=!1,po&&(d=$y(i,s,l,f)),Ky(t),d}function Ky(t){G.H=ql;var i=nt!==null&&nt.next!==null;if(vi=0,zt=nt=Oe=null,Vc=!1,Ul=0,yo=null,i)throw Error(a(300));t===null||Bt||(t=t.dependencies,t!==null&&Ac(t)&&(Bt=!0))}function $y(t,i,s,l){Oe=t;var f=0;do{if(po&&(yo=null),Ul=0,po=!1,25<=f)throw Error(a(301));if(f+=1,zt=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=xv,d=i(s,l)}while(po);return d}function bA(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?zl(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Oe.flags|=1024),i}function Td(){var t=Pc!==0;return Pc=0,t}function bd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Sd(t){if(Vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Vc=!1}vi=0,zt=nt=Oe=null,po=!1,Ul=Pc=0,yo=null}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Oe.memoizedState=zt=t:zt=zt.next=t,zt}function xt(){if(nt===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=zt===null?Oe.memoizedState:zt.next;if(i!==null)zt=i,nt=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},zt===null?Oe.memoizedState=zt=t:zt=zt.next=t}return zt}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zl(t){var i=Ul;return Ul+=1,yo===null&&(yo=[]),t=Uy(yo,t,i),i=Oe,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Nv:Pd),t}function jc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return zl(t);if(t.$$typeof===W)return tn(t)}throw Error(a(438,String(t)))}function wd(t){var i=null,s=Oe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=kc(),Oe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=V;return i.index++,s}function _i(t,i){return typeof i=="function"?i(t):i}function Lc(t){var i=xt();return Ad(i,nt,t)}function Ad(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var S=v=null,N=null,H=i,J=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(Le&te)===te:(vi&te)===te){var Q=H.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===co&&(J=!0);else if((vi&Q)===Q){H=H.next,Q===co&&(J=!0);continue}else te={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=te,v=d):N=N.next=te,Oe.lanes|=Q,fa|=Q;te=H.action,Ts&&s(d,te),d=H.hasEagerState?H.eagerState:s(d,te)}else Q={lane:te,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=Q,v=d):N=N.next=Q,Oe.lanes|=te,fa|=te;H=H.next}while(H!==null&&H!==i);if(N===null?v=d:N.next=S,!Ln(d,t.memoizedState)&&(Bt=!0,J&&(s=ho,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rd(t){var i=xt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=i.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);Ln(d,i.memoizedState)||(Bt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Xy(t,i,s){var l=Oe,f=xt(),d=He;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!Ln((nt||f).memoizedState,s);if(v&&(f.memoizedState=s,Bt=!0),f=f.queue,Dd(Zy.bind(null,l,f,t),[t]),f.getSnapshot!==i||v||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,vo(9,{destroy:void 0},Jy.bind(null,l,f,s,i),null),st===null)throw Error(a(349));d||(vi&127)!==0||Wy(l,i,s)}return s}function Wy(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Oe.updateQueue,i===null?(i=kc(),Oe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Jy(t,i,s,l){i.value=s,i.getSnapshot=l,ev(i)&&tv(t)}function Zy(t,i,s){return s(function(){ev(i)&&tv(t)})}function ev(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Ln(t,s)}catch{return!0}}function tv(t){var i=fs(t,2);i!==null&&Nn(i,t,2)}function Cd(t){var i=Tn();if(typeof t=="function"){var s=t;if(t=s(),Ts){bn(!0);try{s()}finally{bn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},i}function nv(t,i,s,l){return t.baseState=s,Ad(t,nt,typeof l=="function"?l:_i)}function SA(t,i,s,l,f){if(Bc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};G.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,rv(i,d)):(d.next=s.next,i.pending=s.next=d)}}function rv(t,i){var s=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=G.T,v={};G.T=v;try{var S=s(f,l),N=G.S;N!==null&&N(v,S),iv(t,i,S)}catch(H){Id(t,i,H)}finally{d!==null&&v.types!==null&&(d.types=v.types),G.T=d}}else try{d=s(f,l),iv(t,i,d)}catch(H){Id(t,i,H)}}function iv(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){av(t,i,l)},function(l){return Id(t,i,l)}):av(t,i,s)}function av(t,i,s){i.status="fulfilled",i.value=s,sv(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,rv(t,s)))}function Id(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,sv(i),i=i.next;while(i!==l)}t.action=null}function sv(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ov(t,i){return i}function lv(t,i){if(He){var s=st.formState;if(s!==null){e:{var l=Oe;if(He){if(dt){t:{for(var f=dt,d=rr;f.nodeType!==8;){if(!d){f=null;break t}if(f=ar(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){dt=ar(f.nextSibling),l=f.data==="F!";break e}}ra(l)}l=!1}l&&(i=s[0])}}return s=Tn(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ov,lastRenderedState:i},s.queue=l,s=Cv.bind(null,Oe,l),l.dispatch=s,l=Cd(!1),d=Vd.bind(null,Oe,!1,l.queue),l=Tn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,s=SA.bind(null,Oe,f,d,s),f.dispatch=s,l.memoizedState=t,[i,s,!1]}function uv(t){var i=xt();return cv(i,nt,t)}function cv(t,i,s){if(i=Ad(t,i,ov)[0],t=Lc(_i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=zl(i)}catch(v){throw v===fo?Ic:v}else l=i;i=xt();var f=i.queue,d=f.dispatch;return s!==i.memoizedState&&(Oe.flags|=2048,vo(9,{destroy:void 0},wA.bind(null,f,s),null)),[l,d,t]}function wA(t,i){t.action=i}function hv(t){var i=xt(),s=nt;if(s!==null)return cv(i,s,t);xt(),i=i.memoizedState,s=xt();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function vo(t,i,s,l){return t={tag:t,create:s,deps:l,inst:i,next:null},i=Oe.updateQueue,i===null&&(i=kc(),Oe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function fv(){return xt().memoizedState}function Uc(t,i,s,l){var f=Tn();Oe.flags|=t,f.memoizedState=vo(1|i,{destroy:void 0},s,l===void 0?null:l)}function zc(t,i,s,l){var f=xt();l=l===void 0?null:l;var d=f.memoizedState.inst;nt!==null&&l!==null&&_d(l,nt.memoizedState.deps)?f.memoizedState=vo(i,d,s,l):(Oe.flags|=t,f.memoizedState=vo(1|i,d,s,l))}function dv(t,i){Uc(8390656,8,t,i)}function Dd(t,i){zc(2048,8,t,i)}function AA(t){Oe.flags|=4;var i=Oe.updateQueue;if(i===null)i=kc(),Oe.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function mv(t){var i=xt().memoizedState;return AA({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function gv(t,i){return zc(4,2,t,i)}function pv(t,i){return zc(4,4,t,i)}function yv(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vv(t,i,s){s=s!=null?s.concat([t]):null,zc(4,4,yv.bind(null,i,t),s)}function Nd(){}function _v(t,i){var s=xt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&_d(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function Ev(t,i){var s=xt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&_d(i,l[1]))return l[0];if(l=t(),Ts){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,i],l}function xd(t,i,s){return s===void 0||(vi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=T_(),Oe.lanes|=t,fa|=t,s)}function Tv(t,i,s,l){return Ln(s,i)?s:go.current!==null?(t=xd(t,s,l),Ln(t,i)||(Bt=!0),t):(vi&42)===0||(vi&1073741824)!==0&&(Le&261930)===0?(Bt=!0,t.memoizedState=s):(t=T_(),Oe.lanes|=t,fa|=t,i)}function bv(t,i,s,l,f){var d=ie.p;ie.p=d!==0&&8>d?d:8;var v=G.T,S={};G.T=S,Vd(t,!1,i,s);try{var N=f(),H=G.S;if(H!==null&&H(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=EA(N,l);Bl(t,i,J,Fn(t))}else Bl(t,i,l,Fn(t))}catch(te){Bl(t,i,{then:function(){},status:"rejected",reason:te},Fn())}finally{ie.p=d,v!==null&&S.types!==null&&(v.types=S.types),G.T=v}}function RA(){}function Od(t,i,s,l){if(t.tag!==5)throw Error(a(476));var f=Sv(t).queue;bv(t,f,i,ue,s===null?RA:function(){return wv(t),s(l)})}function Sv(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:ue},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function wv(t){var i=Sv(t);i.next===null&&(i=t.alternate.memoizedState),Bl(t,i.next.queue,{},Fn())}function Md(){return tn(iu)}function Av(){return xt().memoizedState}function Rv(){return xt().memoizedState}function CA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Fn();t=sa(s);var l=oa(i,t,s);l!==null&&(Nn(l,i,s),kl(l,i,s)),i={cache:ld()},t.payload=i;return}i=i.return}}function IA(t,i,s){var l=Fn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bc(t)?Iv(i,s):(s=Wf(t,i,s,l),s!==null&&(Nn(s,t,l),Dv(s,i,l)))}function Cv(t,i,s){var l=Fn();Bl(t,i,s,l)}function Bl(t,i,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bc(t))Iv(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,s);if(f.hasEagerState=!0,f.eagerState=S,Ln(S,v))return Tc(t,i,f,0),st===null&&Ec(),!1}catch{}finally{}if(s=Wf(t,i,f,l),s!==null)return Nn(s,t,l),Dv(s,i,l),!0}return!1}function Vd(t,i,s,l){if(l={lane:2,revertLane:fm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bc(t)){if(i)throw Error(a(479))}else i=Wf(t,s,l,2),i!==null&&Nn(i,t,2)}function Bc(t){var i=t.alternate;return t===Oe||i!==null&&i===Oe}function Iv(t,i){po=Vc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function Dv(t,i,s){if((s&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,ci(t,s)}}var ql={readContext:tn,use:jc,useCallback:Rt,useContext:Rt,useEffect:Rt,useImperativeHandle:Rt,useLayoutEffect:Rt,useInsertionEffect:Rt,useMemo:Rt,useReducer:Rt,useRef:Rt,useState:Rt,useDebugValue:Rt,useDeferredValue:Rt,useTransition:Rt,useSyncExternalStore:Rt,useId:Rt,useHostTransitionStatus:Rt,useFormState:Rt,useActionState:Rt,useOptimistic:Rt,useMemoCache:Rt,useCacheRefresh:Rt};ql.useEffectEvent=Rt;var Nv={readContext:tn,use:jc,useCallback:function(t,i){return Tn().memoizedState=[t,i===void 0?null:i],t},useContext:tn,useEffect:dv,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Uc(4194308,4,yv.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Uc(4194308,4,t,i)},useInsertionEffect:function(t,i){Uc(4,2,t,i)},useMemo:function(t,i){var s=Tn();i=i===void 0?null:i;var l=t();if(Ts){bn(!0);try{t()}finally{bn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=Tn();if(s!==void 0){var f=s(i);if(Ts){bn(!0);try{s(i)}finally{bn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=IA.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var i=Tn();return t={current:t},i.memoizedState=t},useState:function(t){t=Cd(t);var i=t.queue,s=Cv.bind(null,Oe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Nd,useDeferredValue:function(t,i){var s=Tn();return xd(s,t,i)},useTransition:function(){var t=Cd(!1);return t=bv.bind(null,Oe,t.queue,!0,!1),Tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Oe,f=Tn();if(He){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),st===null)throw Error(a(349));(Le&127)!==0||Wy(l,i,s)}f.memoizedState=s;var d={value:s,getSnapshot:i};return f.queue=d,dv(Zy.bind(null,l,d,t),[t]),l.flags|=2048,vo(9,{destroy:void 0},Jy.bind(null,l,d,s,i),null),s},useId:function(){var t=Tn(),i=st.identifierPrefix;if(He){var s=Yr,l=Gr;s=(l&~(1<<32-pt(l)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Pc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=TA++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Md,useFormState:lv,useActionState:lv,useOptimistic:function(t){var i=Tn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Vd.bind(null,Oe,!0,s),s.dispatch=i,[t,i]},useMemoCache:wd,useCacheRefresh:function(){return Tn().memoizedState=CA.bind(null,Oe)},useEffectEvent:function(t){var i=Tn(),s={impl:t};return i.memoizedState=s,function(){if(($e&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Pd={readContext:tn,use:jc,useCallback:_v,useContext:tn,useEffect:Dd,useImperativeHandle:vv,useInsertionEffect:gv,useLayoutEffect:pv,useMemo:Ev,useReducer:Lc,useRef:fv,useState:function(){return Lc(_i)},useDebugValue:Nd,useDeferredValue:function(t,i){var s=xt();return Tv(s,nt.memoizedState,t,i)},useTransition:function(){var t=Lc(_i)[0],i=xt().memoizedState;return[typeof t=="boolean"?t:zl(t),i]},useSyncExternalStore:Xy,useId:Av,useHostTransitionStatus:Md,useFormState:uv,useActionState:uv,useOptimistic:function(t,i){var s=xt();return nv(s,nt,t,i)},useMemoCache:wd,useCacheRefresh:Rv};Pd.useEffectEvent=mv;var xv={readContext:tn,use:jc,useCallback:_v,useContext:tn,useEffect:Dd,useImperativeHandle:vv,useInsertionEffect:gv,useLayoutEffect:pv,useMemo:Ev,useReducer:Rd,useRef:fv,useState:function(){return Rd(_i)},useDebugValue:Nd,useDeferredValue:function(t,i){var s=xt();return nt===null?xd(s,t,i):Tv(s,nt.memoizedState,t,i)},useTransition:function(){var t=Rd(_i)[0],i=xt().memoizedState;return[typeof t=="boolean"?t:zl(t),i]},useSyncExternalStore:Xy,useId:Av,useHostTransitionStatus:Md,useFormState:hv,useActionState:hv,useOptimistic:function(t,i){var s=xt();return nt!==null?nv(s,nt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:wd,useCacheRefresh:Rv};xv.useEffectEvent=mv;function kd(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:b({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var jd={enqueueSetState:function(t,i,s){t=t._reactInternals;var l=Fn(),f=sa(l);f.payload=i,s!=null&&(f.callback=s),i=oa(t,f,l),i!==null&&(Nn(i,t,l),kl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=Fn(),f=sa(l);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=oa(t,f,l),i!==null&&(Nn(i,t,l),kl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Fn(),l=sa(s);l.tag=2,i!=null&&(l.callback=i),i=oa(t,l,s),i!==null&&(Nn(i,t,s),kl(i,t,s))}};function Ov(t,i,s,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Il(s,l)||!Il(f,d):!0}function Mv(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&jd.enqueueReplaceState(i,i.state,null)}function bs(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=b({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function Vv(t){_c(t)}function Pv(t){console.error(t)}function kv(t){_c(t)}function qc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function jv(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ld(t,i,s){return s=sa(s),s.tag=3,s.payload={element:null},s.callback=function(){qc(t,i)},s}function Lv(t){return t=sa(t),t.tag=3,t}function Uv(t,i,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){jv(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){jv(i,s,l),typeof f!="function"&&(da===null?da=new Set([this]):da.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function DA(t,i,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&uo(i,s,f,!0),s=zn.current,s!==null){switch(s.tag){case 31:case 13:return ir===null?eh():s.alternate===null&&Ct===0&&(Ct=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Dc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),um(t,l,f)),!1;case 22:return s.flags|=65536,l===Dc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),um(t,l,f)),!1}throw Error(a(435,s.tag))}return um(t,l,f),eh(),!1}if(He)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==rd&&(t=Error(a(422),{cause:l}),xl(er(t,s)))):(l!==rd&&(i=Error(a(423),{cause:l}),xl(er(i,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=er(l,s),f=Ld(t.stateNode,l,f),md(t,f),Ct!==4&&(Ct=2)),!1;var d=Error(a(520),{cause:l});if(d=er(d,s),Xl===null?Xl=[d]:Xl.push(d),Ct!==4&&(Ct=2),i===null)return!0;l=er(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Ld(s.stateNode,l,t),md(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(da===null||!da.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Lv(f),Uv(f,t,s,l),md(s,f),!1}s=s.return}while(s!==null);return!1}var Ud=Error(a(461)),Bt=!1;function nn(t,i,s,l){i.child=t===null?Hy(i,null,s,l):Es(i,t.child,s,l)}function zv(t,i,s,l,f){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return ps(i),l=Ed(t,i,s,v,d,f),S=Td(),t!==null&&!Bt?(bd(t,i,f),Ei(t,i,f)):(He&&S&&td(i),i.flags|=1,nn(t,i,l,f),i.child)}function Bv(t,i,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,qv(t,i,d,l,f)):(t=Sc(s.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Qd(t,f)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Il,s(v,l)&&t.ref===i.ref)return Ei(t,i,f)}return i.flags|=1,t=mi(d,l),t.ref=i.ref,t.return=i,i.child=t}function qv(t,i,s,l,f){if(t!==null){var d=t.memoizedProps;if(Il(d,l)&&t.ref===i.ref)if(Bt=!1,i.pendingProps=l=d,Qd(t,f))(t.flags&131072)!==0&&(Bt=!0);else return i.lanes=t.lanes,Ei(t,i,f)}return zd(t,i,s,l,f)}function Hv(t,i,s,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return Fv(t,i,d,s,l)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cc(i,d!==null?d.cachePool:null),d!==null?Yy(i,d):pd(),Qy(i);else return l=i.lanes=536870912,Fv(t,i,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(Cc(i,d.cachePool),Yy(i,d),ua(),i.memoizedState=null):(t!==null&&Cc(i,null),pd(),ua());return nn(t,i,f,s),i.child}function Hl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Fv(t,i,s,l,f){var d=cd();return d=d===null?null:{parent:Ut._currentValue,pool:d},i.memoizedState={baseLanes:s,cachePool:d},t!==null&&Cc(i,null),pd(),Qy(i),t!==null&&uo(t,i,l,!0),i.childLanes=f,null}function Hc(t,i){return i=Gc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Gv(t,i,s){return Es(i,t.child,null,s),t=Hc(i,i.pendingProps),t.flags|=2,Bn(i),i.memoizedState=null,t}function NA(t,i,s){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=Hc(i,l),i.lanes=536870912,Hl(null,t);if(vd(i),(t=dt)?(t=rE(t,rr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ta!==null?{id:Gr,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},s=Iy(t),s.return=i,i.child=s,en=i,dt=null)):t=null,t===null)throw ra(i);return i.lanes=536870912,null}return Hc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(vd(i),f)if(i.flags&256)i.flags&=-257,i=Gv(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Bt||uo(t,i,s,!1),f=(s&t.childLanes)!==0,Bt||f){if(l=st,l!==null&&(v=Mr(l,s),v!==0&&v!==d.retryLane))throw d.retryLane=v,fs(t,v),Nn(l,t,v),Ud;eh(),i=Gv(t,i,s)}else t=d.treeContext,dt=ar(v.nextSibling),en=i,He=!0,na=null,rr=!1,t!==null&&xy(i,t),i=Hc(i,l),i.flags|=4096;return i}return t=mi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Fc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function zd(t,i,s,l,f){return ps(i),s=Ed(t,i,s,l,void 0,f),l=Td(),t!==null&&!Bt?(bd(t,i,f),Ei(t,i,f)):(He&&l&&td(i),i.flags|=1,nn(t,i,s,f),i.child)}function Yv(t,i,s,l,f,d){return ps(i),i.updateQueue=null,s=$y(i,l,s,f),Ky(t),l=Td(),t!==null&&!Bt?(bd(t,i,d),Ei(t,i,d)):(He&&l&&td(i),i.flags|=1,nn(t,i,s,d),i.child)}function Qv(t,i,s,l,f){if(ps(i),i.stateNode===null){var d=ao,v=s.contextType;typeof v=="object"&&v!==null&&(d=tn(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=jd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},fd(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?tn(v):ao,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(kd(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&jd.enqueueReplaceState(d,d.state,null),Ll(i,l,d,f),jl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=bs(s,S);d.props=N;var H=d.context,J=s.contextType;v=ao,typeof J=="object"&&J!==null&&(v=tn(J));var te=s.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==v)&&Mv(i,d,l,v),aa=!1;var Q=i.memoizedState;d.state=Q,Ll(i,l,d,f),jl(),H=i.memoizedState,S||Q!==H||aa?(typeof te=="function"&&(kd(i,s,te,l),H=i.memoizedState),(N=aa||Ov(i,s,N,l,Q,H,v))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=v,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,dd(t,i),v=i.memoizedProps,J=bs(s,v),d.props=J,te=i.pendingProps,Q=d.context,H=s.contextType,N=ao,typeof H=="object"&&H!==null&&(N=tn(H)),S=s.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||Q!==N)&&Mv(i,d,l,N),aa=!1,Q=i.memoizedState,d.state=Q,Ll(i,l,d,f),jl();var X=i.memoizedState;v!==te||Q!==X||aa||t!==null&&t.dependencies!==null&&Ac(t.dependencies)?(typeof S=="function"&&(kd(i,s,S,l),X=i.memoizedState),(J=aa||Ov(i,s,J,l,Q,X,N)||t!==null&&t.dependencies!==null&&Ac(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),d.props=l,d.state=X,d.context=N,l=J):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Fc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Es(i,t.child,null,f),i.child=Es(i,null,s,f)):nn(t,i,s,f),i.memoizedState=d.state,t=i.child):t=Ei(t,i,f),t}function Kv(t,i,s,l){return ms(),i.flags|=256,nn(t,i,s,l),i.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(t){return{baseLanes:t,cachePool:jy()}}function Hd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Hn),t}function $v(t,i,s){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),v&&(f=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(f?la(i):ua(),(t=dt)?(t=rE(t,rr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ta!==null?{id:Gr,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},s=Iy(t),s.return=i,i.child=s,en=i,dt=null)):t=null,t===null)throw ra(i);return Am(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(ua(),f=i.mode,S=Gc({mode:"hidden",children:S},f),l=ds(l,f,s,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=qd(s),l.childLanes=Hd(t,v,s),i.memoizedState=Bd,Hl(null,l)):(la(i),Fd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(la(i),i.flags&=-257,i=Gd(t,i,s)):i.memoizedState!==null?(ua(),i.child=t.child,i.flags|=128,i=null):(ua(),S=l.fallback,f=i.mode,l=Gc({mode:"visible",children:l.children},f),S=ds(S,f,s,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Es(i,t.child,null,s),l=i.child,l.memoizedState=qd(s),l.childLanes=Hd(t,v,s),i.memoizedState=Bd,i=Hl(null,l));else if(la(i),Am(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(a(419)),l.stack="",l.digest=v,xl({value:l,source:null,stack:null}),i=Gd(t,i,s)}else if(Bt||uo(t,i,s,!1),v=(s&t.childLanes)!==0,Bt||v){if(v=st,v!==null&&(l=Mr(v,s),l!==0&&l!==N.retryLane))throw N.retryLane=l,fs(t,l),Nn(v,t,l),Ud;wm(S)||eh(),i=Gd(t,i,s)}else wm(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,dt=ar(S.nextSibling),en=i,He=!0,na=null,rr=!1,t!==null&&xy(i,t),i=Fd(i,l.children),i.flags|=4096);return i}return f?(ua(),S=l.fallback,f=i.mode,N=t.child,H=N.sibling,l=mi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?S=mi(H,S):(S=ds(S,f,s,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Hl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=qd(s):(f=S.cachePool,f!==null?(N=Ut._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=jy(),S={baseLanes:S.baseLanes|s,cachePool:f}),l.memoizedState=S,l.childLanes=Hd(t,v,s),i.memoizedState=Bd,Hl(t.child,l)):(la(i),s=t.child,t=s.sibling,s=mi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function Fd(t,i){return i=Gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Gc(t,i){return t=Un(22,t,null,i),t.lanes=0,t}function Gd(t,i,s){return Es(i,t.child,null,s),t=Fd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Xv(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),sd(t.return,i,s)}function Yd(t,i,s,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=f,v.treeForkCount=d)}function Wv(t,i,s){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=Nt.current,S=(v&2)!==0;if(S?(v=v&1|2,i.flags|=128):v&=1,se(Nt,v),nn(t,i,l,s),l=He?Nl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xv(t,s,i);else if(t.tag===19)Xv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=i.child,f=null;s!==null;)t=s.alternate,t!==null&&Mc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Yd(i,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Mc(t)===null){i.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Yd(i,!0,s,null,d,l);break;case"together":Yd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ei(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),fa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(uo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=mi(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=mi(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function Qd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ac(t)))}function xA(t,i,s){switch(i.tag){case 3:ut(i,i.stateNode.containerInfo),ia(i,Ut,t.memoizedState.cache),ms();break;case 27:case 5:ur(i);break;case 4:ut(i,i.stateNode.containerInfo);break;case 10:ia(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,vd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(la(i),i.flags|=128,null):(s&i.child.childLanes)!==0?$v(t,i,s):(la(i),t=Ei(t,i,s),t!==null?t.sibling:null);la(i);break;case 19:var f=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(uo(t,i,s,!1),l=(s&i.childLanes)!==0),f){if(l)return Wv(t,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Nt,Nt.current),l)break;return null;case 22:return i.lanes=0,Hv(t,i,s,i.pendingProps);case 24:ia(i,Ut,t.memoizedState.cache)}return Ei(t,i,s)}function Jv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)Bt=!0;else{if(!Qd(t,s)&&(i.flags&128)===0)return Bt=!1,xA(t,i,s);Bt=(t.flags&131072)!==0}else Bt=!1,He&&(i.flags&1048576)!==0&&Ny(i,Nl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=vs(i.elementType),i.type=t,typeof t=="function")Jf(t)?(l=bs(t,l),i.tag=1,i=Qv(null,i,t,l,s)):(i.tag=0,i=zd(null,i,t,l,s));else{if(t!=null){var f=t.$$typeof;if(f===oe){i.tag=11,i=zv(null,i,t,l,s);break e}else if(f===D){i.tag=14,i=Bv(null,i,t,l,s);break e}}throw i=pe(t)||t,Error(a(306,i,""))}}return i;case 0:return zd(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,f=bs(l,i.pendingProps),Qv(t,i,l,f,s);case 3:e:{if(ut(i,i.stateNode.containerInfo),t===null)throw Error(a(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,dd(t,i),Ll(i,l,null,s);var v=i.memoizedState;if(l=v.cache,ia(i,Ut,l),l!==d.cache&&od(i,[Ut],s,!0),jl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Kv(t,i,l,s);break e}else if(l!==f){f=er(Error(a(424)),i),xl(f),i=Kv(t,i,l,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=ar(t.firstChild),en=i,He=!0,na=null,rr=!0,s=Hy(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ms(),l===f){i=Ei(t,i,s);break e}nn(t,i,l,s)}i=i.child}return i;case 26:return Fc(t,i),t===null?(s=uE(i.type,null,i.pendingProps,null))?i.memoizedState=s:He||(s=i.type,t=i.pendingProps,l=oh(Ae.current).createElement(s),l[bt]=i,l[kt]=t,rn(l,s,t),jt(l),i.stateNode=l):i.memoizedState=uE(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ur(i),t===null&&He&&(l=i.stateNode=sE(i.type,i.pendingProps,Ae.current),en=i,rr=!0,f=dt,ya(i.type)?(Rm=f,dt=ar(l.firstChild)):dt=f),nn(t,i,i.pendingProps.children,s),Fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((f=l=dt)&&(l=o1(l,i.type,i.pendingProps,rr),l!==null?(i.stateNode=l,en=i,dt=ar(l.firstChild),rr=!1,f=!0):f=!1),f||ra(i)),ur(i),f=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Tm(f,d)?l=null:v!==null&&Tm(f,v)&&(i.flags|=32),i.memoizedState!==null&&(f=Ed(t,i,bA,null,null,s),iu._currentValue=f),Fc(t,i),nn(t,i,l,s),i.child;case 6:return t===null&&He&&((t=s=dt)&&(s=l1(s,i.pendingProps,rr),s!==null?(i.stateNode=s,en=i,dt=null,t=!0):t=!1),t||ra(i)),null;case 13:return $v(t,i,s);case 4:return ut(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Es(i,null,l,s):nn(t,i,l,s),i.child;case 11:return zv(t,i,i.type,i.pendingProps,s);case 7:return nn(t,i,i.pendingProps,s),i.child;case 8:return nn(t,i,i.pendingProps.children,s),i.child;case 12:return nn(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,ia(i,i.type,l.value),nn(t,i,l.children,s),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,ps(i),f=tn(f),l=l(f),i.flags|=1,nn(t,i,l,s),i.child;case 14:return Bv(t,i,i.type,i.pendingProps,s);case 15:return qv(t,i,i.type,i.pendingProps,s);case 19:return Wv(t,i,s);case 31:return NA(t,i,s);case 22:return Hv(t,i,s,i.pendingProps);case 24:return ps(i),l=tn(Ut),t===null?(f=cd(),f===null&&(f=st,d=ld(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),i.memoizedState={parent:l,cache:f},fd(i),ia(i,Ut,f)):((t.lanes&s)!==0&&(dd(t,i),Ll(i,null,null,s),jl()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ia(i,Ut,l)):(l=d.cache,ia(i,Ut,l),l!==f.cache&&od(i,[Ut],s,!0))),nn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Ti(t){t.flags|=4}function Kd(t,i,s,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(A_())t.flags|=8192;else throw _s=Dc,hd}else t.flags&=-16777217}function Zv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mE(i))if(A_())t.flags|=8192;else throw _s=Dc,hd}function Yc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?vn():536870912,t.lanes|=i,bo|=i)}function Fl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function OA(t,i,s){var l=i.pendingProps;switch(nd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),yi(Ut),Ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(lo(i)?Ti(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,id())),mt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Ti(i),d!==null?(mt(i),Zv(i,d)):(mt(i),Kd(i,f,null,l,s))):d?d!==t.memoizedState?(Ti(i),mt(i),Zv(i,d)):(mt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ti(i),mt(i),Kd(i,f,t,l,s)),null;case 27:if(Rr(i),s=Ae.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ti(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return mt(i),null}t=le.current,lo(i)?Oy(i):(t=sE(f,l,s),i.stateNode=t,Ti(i))}return mt(i),null;case 5:if(Rr(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ti(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return mt(i),null}if(d=le.current,lo(i))Oy(i);else{var v=oh(Ae.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[bt]=i,d[kt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(rn(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ti(i)}}return mt(i),Kd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ti(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ae.current,lo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,f=en,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[bt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$_(t.nodeValue,s)),t||ra(i,!0)}else t=oh(t).createTextNode(l),t[bt]=i,i.stateNode=t}return mt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(l=lo(i),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[bt]=i}else ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),t=!1}else s=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(Bn(i),i):(Bn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return mt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=lo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[bt]=i}else ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),f=!1}else f=id(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Bn(i),i):(Bn(i),null)}return Bn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Yc(i,i.updateQueue),mt(i),null);case 4:return Ge(),t===null&&pm(i.stateNode.containerInfo),mt(i),null;case 10:return yi(i.type),mt(i),null;case 19:if(Z(Nt),l=i.memoizedState,l===null)return mt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Fl(l,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Mc(t),d!==null){for(i.flags|=128,Fl(l,!1),t=d.updateQueue,i.updateQueue=t,Yc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Cy(s,t),s=s.sibling;return se(Nt,Nt.current&1|2),He&&gi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&Jt()>Wc&&(i.flags|=128,f=!0,Fl(l,!1),i.lanes=4194304)}else{if(!f)if(t=Mc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Yc(i,t),Fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!He)return mt(i),null}else 2*Jt()-l.renderingStartTime>Wc&&s!==536870912&&(i.flags|=128,f=!0,Fl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Jt(),t.sibling=null,s=Nt.current,se(Nt,f?s&1|2:s&1),He&&gi(i,l.treeForkCount),t):(mt(i),null);case 22:case 23:return Bn(i),yd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),s=i.updateQueue,s!==null&&Yc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&Z(ys),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),yi(Ut),mt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function MA(t,i){switch(nd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return yi(Ut),Ge(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Rr(i),null;case 31:if(i.memoizedState!==null){if(Bn(i),i.alternate===null)throw Error(a(340));ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Z(Nt),null;case 4:return Ge(),null;case 10:return yi(i.type),null;case 22:case 23:return Bn(i),yd(),t!==null&&Z(ys),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return yi(Ut),null;case 25:return null;default:return null}}function e_(t,i){switch(nd(i),i.tag){case 3:yi(Ut),Ge();break;case 26:case 27:case 5:Rr(i);break;case 4:Ge();break;case 31:i.memoizedState!==null&&Bn(i);break;case 13:Bn(i);break;case 19:Z(Nt);break;case 10:yi(i.type);break;case 22:case 23:Bn(i),yd(),t!==null&&Z(ys);break;case 24:yi(Ut)}}function Gl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==f)}}catch(S){et(i,i.return,S)}}function ca(t,i,s){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=i;var N=s,H=S;try{H()}catch(J){et(f,N,J)}}}l=l.next}while(l!==d)}}catch(J){et(i,i.return,J)}}function t_(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Gy(i,s)}catch(l){et(t,t.return,l)}}}function n_(t,i,s){s.props=bs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){et(t,i,l)}}function Yl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){et(t,i,f)}}function Qr(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){et(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){et(t,i,f)}else s.current=null}function r_(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){et(t,t.return,f)}}function $d(t,i,s){try{var l=t.stateNode;t1(l,t.type,s,i),l[kt]=i}catch(f){et(t,t.return,f)}}function i_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ya(t.type)||t.tag===4}function Xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=mr));else if(l!==4&&(l===27&&ya(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(Wd(t,i,s),t=t.sibling;t!==null;)Wd(t,i,s),t=t.sibling}function Qc(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&(l===27&&ya(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Qc(t,i,s),t=t.sibling;t!==null;)Qc(t,i,s),t=t.sibling}function a_(t){var i=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);rn(i,l,s),i[bt]=t,i[kt]=s}catch(d){et(t,t.return,d)}}var bi=!1,qt=!1,Jd=!1,s_=typeof WeakSet=="function"?WeakSet:Set,$t=null;function VA(t,i){if(t=t.containerInfo,_m=mh,t=vy(t),Gf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,S=-1,N=-1,H=0,J=0,te=t,Q=null;t:for(;;){for(var X;te!==s||f!==0&&te.nodeType!==3||(S=v+f),te!==d||l!==0&&te.nodeType!==3||(N=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(X=te.firstChild)!==null;)Q=te,te=X;for(;;){if(te===t)break t;if(Q===s&&++H===f&&(S=v),Q===d&&++J===l&&(N=v),(X=te.nextSibling)!==null)break;te=Q,Q=te.parentNode}te=X}s=S===-1||N===-1?null:{start:S,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(Em={focusedElem:t,selectionRange:s},mh=!1,$t=i;$t!==null;)if(i=$t,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,$t=t;else for(;$t!==null;){switch(i=$t,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=i,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var fe=bs(s.type,f);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){et(s,s.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Sm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,$t=t;break}$t=i.return}}function o_(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:wi(t,s),l&4&&Gl(5,s);break;case 1:if(wi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){et(s,s.return,v)}else{var f=bs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(s,s.return,v)}}l&64&&t_(s),l&512&&Yl(s,s.return);break;case 3:if(wi(t,s),l&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Gy(t,i)}catch(v){et(s,s.return,v)}}break;case 27:i===null&&l&4&&a_(s);case 26:case 5:wi(t,s),i===null&&l&4&&r_(s),l&512&&Yl(s,s.return);break;case 12:wi(t,s);break;case 31:wi(t,s),l&4&&c_(t,s);break;case 13:wi(t,s),l&4&&h_(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=HA.bind(null,s),u1(t,s))));break;case 22:if(l=s.memoizedState!==null||bi,!l){i=i!==null&&i.memoizedState!==null||qt,f=bi;var d=qt;bi=l,(qt=i)&&!d?Ai(t,s,(s.subtreeFlags&8772)!==0):wi(t,s),bi=f,qt=d}break;case 30:break;default:wi(t,s)}}function l_(t){var i=t.alternate;i!==null&&(t.alternate=null,l_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Vr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Rn=!1;function Si(t,i,s){for(s=s.child;s!==null;)u_(t,i,s),s=s.sibling}function u_(t,i,s){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(cn,s)}catch{}switch(s.tag){case 26:qt||Qr(s,i),Si(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:qt||Qr(s,i);var l=vt,f=Rn;ya(s.type)&&(vt=s.stateNode,Rn=!1),Si(t,i,s),tu(s.stateNode),vt=l,Rn=f;break;case 5:qt||Qr(s,i);case 6:if(l=vt,f=Rn,vt=null,Si(t,i,s),vt=l,Rn=f,vt!==null)if(Rn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(s.stateNode)}catch(d){et(s,i,d)}else try{vt.removeChild(s.stateNode)}catch(d){et(s,i,d)}break;case 18:vt!==null&&(Rn?(t=vt,tE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),No(t)):tE(vt,s.stateNode));break;case 4:l=vt,f=Rn,vt=s.stateNode.containerInfo,Rn=!0,Si(t,i,s),vt=l,Rn=f;break;case 0:case 11:case 14:case 15:ca(2,s,i),qt||ca(4,s,i),Si(t,i,s);break;case 1:qt||(Qr(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&n_(s,i,l)),Si(t,i,s);break;case 21:Si(t,i,s);break;case 22:qt=(l=qt)||s.memoizedState!==null,Si(t,i,s),qt=l;break;default:Si(t,i,s)}}function c_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{No(t)}catch(s){et(i,i.return,s)}}}function h_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{No(t)}catch(s){et(i,i.return,s)}}function PA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new s_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new s_),i;default:throw Error(a(435,t.tag))}}function Kc(t,i){var s=PA(t);i.forEach(function(l){if(!s.has(l)){s.add(l);var f=FA.bind(null,t,l);l.then(f,f)}})}function Cn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:if(ya(S.type)){vt=S.stateNode,Rn=!1;break e}break;case 5:vt=S.stateNode,Rn=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,Rn=!0;break e}S=S.return}if(vt===null)throw Error(a(160));u_(d,v,f),vt=null,Rn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)f_(i,t),i=i.sibling}var Er=null;function f_(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(i,t),In(t),l&4&&(ca(3,t,t.return),Gl(3,t),ca(5,t,t.return));break;case 1:Cn(i,t),In(t),l&512&&(qt||s===null||Qr(s,s.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=Er;if(Cn(i,t),In(t),l&512&&(qt||s===null||Qr(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[At]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),rn(d,l,s),d[bt]=t,jt(d),l=d;break e;case"link":var v=fE("link","href",f).get(l+(s.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(S,1);break t}}d=f.createElement(l),rn(d,l,s),f.head.appendChild(d);break;case"meta":if(v=fE("meta","content",f).get(l+(s.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(S,1);break t}}d=f.createElement(l),rn(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[bt]=t,jt(d),l=d}t.stateNode=l}else dE(f,t.type,t.stateNode);else t.stateNode=hE(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?dE(f,t.type,t.stateNode):hE(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$d(t,t.memoizedProps,s.memoizedProps)}break;case 27:Cn(i,t),In(t),l&512&&(qt||s===null||Qr(s,s.return)),s!==null&&l&4&&$d(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Cn(i,t),In(t),l&512&&(qt||s===null||Qr(s,s.return)),t.flags&32){f=t.stateNode;try{An(f,"")}catch(fe){et(t,t.return,fe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,$d(t,f,s!==null?s.memoizedProps:f)),l&1024&&(Jd=!0);break;case 6:if(Cn(i,t),In(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(fe){et(t,t.return,fe)}}break;case 3:if(ch=null,f=Er,Er=lh(i.containerInfo),Cn(i,t),Er=f,In(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{No(i.containerInfo)}catch(fe){et(t,t.return,fe)}Jd&&(Jd=!1,d_(t));break;case 4:l=Er,Er=lh(t.stateNode.containerInfo),Cn(i,t),In(t),Er=l;break;case 12:Cn(i,t),In(t);break;case 31:Cn(i,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 13:Cn(i,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xc=Jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 22:f=t.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,H=bi,J=qt;if(bi=H||f,qt=J||N,Cn(i,t),qt=J,bi=H,In(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(s===null||N||bi||qt||Ss(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){N=s=i;try{if(d=N.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=N.stateNode;var te=N.memoizedProps.style,Q=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){et(N,N.return,fe)}}}else if(i.tag===6){if(s===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(fe){et(N,N.return,fe)}}}else if(i.tag===18){if(s===null){N=i;try{var X=N.stateNode;f?nE(X,!0):nE(N.stateNode,!1)}catch(fe){et(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Kc(t,s))));break;case 19:Cn(i,t),In(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 30:break;case 21:break;default:Cn(i,t),In(t)}}function In(t){var i=t.flags;if(i&2){try{for(var s,l=t.return;l!==null;){if(i_(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Xd(t);Qc(t,d,f);break;case 5:var v=s.stateNode;s.flags&32&&(An(v,""),s.flags&=-33);var S=Xd(t);Qc(t,S,v);break;case 3:case 4:var N=s.stateNode.containerInfo,H=Xd(t);Wd(t,H,N);break;default:throw Error(a(161))}}catch(J){et(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function d_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;d_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function wi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)o_(t,i.alternate,i),i=i.sibling}function Ss(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ca(4,i,i.return),Ss(i);break;case 1:Qr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&n_(i,i.return,s),Ss(i);break;case 27:tu(i.stateNode);case 26:case 5:Qr(i,i.return),Ss(i);break;case 22:i.memoizedState===null&&Ss(i);break;case 30:Ss(i);break;default:Ss(i)}t=t.sibling}}function Ai(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ai(f,d,s),Gl(4,d);break;case 1:if(Ai(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){et(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)Fy(N[f],S)}catch(H){et(l,l.return,H)}}s&&v&64&&t_(d),Yl(d,d.return);break;case 27:a_(d);case 26:case 5:Ai(f,d,s),s&&l===null&&v&4&&r_(d),Yl(d,d.return);break;case 12:Ai(f,d,s);break;case 31:Ai(f,d,s),s&&v&4&&c_(f,d);break;case 13:Ai(f,d,s),s&&v&4&&h_(f,d);break;case 22:d.memoizedState===null&&Ai(f,d,s),Yl(d,d.return);break;case 30:break;default:Ai(f,d,s)}i=i.sibling}}function Zd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ol(s))}function em(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ol(t))}function Tr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)m_(t,i,s,l),i=i.sibling}function m_(t,i,s,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Tr(t,i,s,l),f&2048&&Gl(9,i);break;case 1:Tr(t,i,s,l);break;case 3:Tr(t,i,s,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ol(t)));break;case 12:if(f&2048){Tr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){et(i,i.return,N)}}else Tr(t,i,s,l);break;case 31:Tr(t,i,s,l);break;case 13:Tr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Tr(t,i,s,l):Ql(t,i):d._visibility&2?Tr(t,i,s,l):(d._visibility|=2,_o(t,i,s,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Zd(v,i);break;case 24:Tr(t,i,s,l),f&2048&&em(i.alternate,i);break;default:Tr(t,i,s,l)}}function _o(t,i,s,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,S=s,N=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:_o(d,v,S,N,f),Gl(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?_o(d,v,S,N,f):Ql(d,v):(J._visibility|=2,_o(d,v,S,N,f)),f&&H&2048&&Zd(v.alternate,v);break;case 24:_o(d,v,S,N,f),f&&H&2048&&em(v.alternate,v);break;default:_o(d,v,S,N,f)}i=i.sibling}}function Ql(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,f=l.flags;switch(l.tag){case 22:Ql(s,l),f&2048&&Zd(l.alternate,l);break;case 24:Ql(s,l),f&2048&&em(l.alternate,l);break;default:Ql(s,l)}i=i.sibling}}var Kl=8192;function Eo(t,i,s){if(t.subtreeFlags&Kl)for(t=t.child;t!==null;)g_(t,i,s),t=t.sibling}function g_(t,i,s){switch(t.tag){case 26:Eo(t,i,s),t.flags&Kl&&t.memoizedState!==null&&T1(s,Er,t.memoizedState,t.memoizedProps);break;case 5:Eo(t,i,s);break;case 3:case 4:var l=Er;Er=lh(t.stateNode.containerInfo),Eo(t,i,s),Er=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Kl,Kl=16777216,Eo(t,i,s),Kl=l):Eo(t,i,s));break;default:Eo(t,i,s)}}function p_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function $l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];$t=l,v_(l,t)}p_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y_(t),t=t.sibling}function y_(t){switch(t.tag){case 0:case 11:case 15:$l(t),t.flags&2048&&ca(9,t,t.return);break;case 3:$l(t);break;case 12:$l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,$c(t)):$l(t);break;default:$l(t)}}function $c(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];$t=l,v_(l,t)}p_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ca(8,i,i.return),$c(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,$c(i));break;default:$c(i)}t=t.sibling}}function v_(t,i){for(;$t!==null;){var s=$t;switch(s.tag){case 0:case 11:case 15:ca(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ol(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,$t=l;else e:for(s=t;$t!==null;){l=$t;var f=l.sibling,d=l.return;if(l_(l),l===s){$t=null;break e}if(f!==null){f.return=d,$t=f;break e}$t=d}}}var kA={getCacheForType:function(t){var i=tn(Ut),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return tn(Ut).controller.signal}},jA=typeof WeakMap=="function"?WeakMap:Map,$e=0,st=null,ke=null,Le=0,Ze=0,qn=null,ha=!1,To=!1,tm=!1,Ri=0,Ct=0,fa=0,ws=0,nm=0,Hn=0,bo=0,Xl=null,Dn=null,rm=!1,Xc=0,__=0,Wc=1/0,Jc=null,da=null,Yt=0,ma=null,So=null,Ci=0,im=0,am=null,E_=null,Wl=0,sm=null;function Fn(){return($e&2)!==0&&Le!==0?Le&-Le:G.T!==null?fm():Gi()}function T_(){if(Hn===0)if((Le&536870912)===0||He){var t=ui;ui<<=1,(ui&3932160)===0&&(ui=262144),Hn=t}else Hn=536870912;return t=zn.current,t!==null&&(t.flags|=32),Hn}function Nn(t,i,s){(t===st&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(wo(t,0),ga(t,Le,Hn,!1)),fr(t,s),(($e&2)===0||t!==st)&&(t===st&&(($e&2)===0&&(ws|=s),Ct===4&&ga(t,Le,Hn,!1)),Kr(t))}function b_(t,i,s){if(($e&6)!==0)throw Error(a(327));var l=!s&&(i&127)===0&&(i&t.expiredLanes)===0||hn(t,i),f=l?zA(t,i):lm(t,i,!0),d=l;do{if(f===0){To&&!l&&ga(t,i,0,!1);break}else{if(s=t.current.alternate,d&&!LA(s)){f=lm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;f=Xl;var N=S.current.memoizedState.isDehydrated;if(N&&(wo(S,v).flags|=256),v=lm(S,v,!1),v!==2){if(tm&&!N){S.errorRecoveryDisabledLanes|=d,ws|=d,f=4;break e}d=Dn,Dn=f,d!==null&&(Dn===null?Dn=d:Dn.push.apply(Dn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){wo(t,0),ga(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:ga(l,i,Hn,!ha);break e;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Xc+300-Jt(),10<f)){if(ga(l,i,Hn,!ha),ht(l,0,!0)!==0)break e;Ci=i,l.timeoutHandle=Z_(S_.bind(null,l,s,Dn,Jc,rm,i,Hn,ws,bo,ha,d,"Throttled",-0,0),f);break e}S_(l,s,Dn,Jc,rm,i,Hn,ws,bo,ha,d,null,-0,0)}}break}while(!0);Kr(t)}function S_(t,i,s,l,f,d,v,S,N,H,J,te,Q,X){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},g_(i,d,te);var fe=(d&62914560)===d?Xc-Jt():(d&4194048)===d?__-Jt():0;if(fe=b1(te,fe),fe!==null){Ci=d,t.cancelPendingCommit=fe(x_.bind(null,t,i,d,s,l,f,v,S,N,J,te,null,Q,X)),ga(t,d,v,!H);return}}x_(t,i,d,s,l,f,v,S,N)}function LA(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!Ln(d(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ga(t,i,s,l){i&=~nm,i&=~ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-pt(f),v=1<<d;l[d]=-1,f&=~v}s!==0&&Or(t,s,i)}function Zc(){return($e&6)===0?(Jl(0),!1):!0}function om(){if(ke!==null){if(Ze===0)var t=ke.return;else t=ke,pi=gs=null,Sd(t),mo=null,Vl=0,t=ke;for(;t!==null;)e_(t.alternate,t),t=t.return;ke=null}}function wo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,i1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ci=0,om(),st=t,ke=s=mi(t.current,null),Le=i,Ze=0,qn=null,ha=!1,To=hn(t,i),tm=!1,bo=Hn=nm=ws=fa=Ct=0,Dn=Xl=null,rm=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-pt(l),d=1<<f;i|=t[f],l&=~d}return Ri=i,Ec(),s}function w_(t,i){Oe=null,G.H=ql,i===fo||i===Ic?(i=zy(),Ze=3):i===hd?(i=zy(),Ze=4):Ze=i===Ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qn=i,ke===null&&(Ct=1,qc(t,er(i,t.current)))}function A_(){var t=zn.current;return t===null?!0:(Le&4194048)===Le?ir===null:(Le&62914560)===Le||(Le&536870912)!==0?t===ir:!1}function R_(){var t=G.H;return G.H=ql,t===null?ql:t}function C_(){var t=G.A;return G.A=kA,t}function eh(){Ct=4,ha||(Le&4194048)!==Le&&zn.current!==null||(To=!0),(fa&134217727)===0&&(ws&134217727)===0||st===null||ga(st,Le,Hn,!1)}function lm(t,i,s){var l=$e;$e|=2;var f=R_(),d=C_();(st!==t||Le!==i)&&(Jc=null,wo(t,i)),i=!1;var v=Ct;e:do try{if(Ze!==0&&ke!==null){var S=ke,N=qn;switch(Ze){case 8:om(),v=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(i=!0);var H=Ze;if(Ze=0,qn=null,Ao(t,S,N,H),s&&To){v=0;break e}break;default:H=Ze,Ze=0,qn=null,Ao(t,S,N,H)}}UA(),v=Ct;break}catch(J){w_(t,J)}while(!0);return i&&t.shellSuspendCounter++,pi=gs=null,$e=l,G.H=f,G.A=d,ke===null&&(st=null,Le=0,Ec()),v}function UA(){for(;ke!==null;)I_(ke)}function zA(t,i){var s=$e;$e|=2;var l=R_(),f=C_();st!==t||Le!==i?(Jc=null,Wc=Jt()+500,wo(t,i)):To=hn(t,i);e:do try{if(Ze!==0&&ke!==null){i=ke;var d=qn;t:switch(Ze){case 1:Ze=0,qn=null,Ao(t,i,d,1);break;case 2:case 9:if(Ly(d)){Ze=0,qn=null,D_(i);break}i=function(){Ze!==2&&Ze!==9||st!==t||(Ze=7),Kr(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Ly(d)?(Ze=0,qn=null,D_(i)):(Ze=0,qn=null,Ao(t,i,d,7));break;case 5:var v=null;switch(ke.tag){case 26:v=ke.memoizedState;case 5:case 27:var S=ke;if(v?mE(v):S.stateNode.complete){Ze=0,qn=null;var N=S.sibling;if(N!==null)ke=N;else{var H=S.return;H!==null?(ke=H,th(H)):ke=null}break t}}Ze=0,qn=null,Ao(t,i,d,5);break;case 6:Ze=0,qn=null,Ao(t,i,d,6);break;case 8:om(),Ct=6;break e;default:throw Error(a(462))}}BA();break}catch(J){w_(t,J)}while(!0);return pi=gs=null,G.H=l,G.A=f,$e=s,ke!==null?0:(st=null,Le=0,Ec(),Ct)}function BA(){for(;ke!==null&&!cl();)I_(ke)}function I_(t){var i=Jv(t.alternate,t,Ri);t.memoizedProps=t.pendingProps,i===null?th(t):ke=i}function D_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Yv(s,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Yv(s,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:Sd(i);default:e_(s,i),i=ke=Cy(i,Ri),i=Jv(s,i,Ri)}t.memoizedProps=t.pendingProps,i===null?th(t):ke=i}function Ao(t,i,s,l){pi=gs=null,Sd(i),mo=null,Vl=0;var f=i.return;try{if(DA(t,f,i,s,Le)){Ct=1,qc(t,er(s,t.current)),ke=null;return}}catch(d){if(f!==null)throw ke=f,d;Ct=1,qc(t,er(s,t.current)),ke=null;return}i.flags&32768?(He||l===1?t=!0:To||(Le&536870912)!==0?t=!1:(ha=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),N_(i,t)):th(i)}function th(t){var i=t;do{if((i.flags&32768)!==0){N_(i,ha);return}t=i.return;var s=OA(i.alternate,i,Ri);if(s!==null){ke=s;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);Ct===0&&(Ct=5)}function N_(t,i){do{var s=MA(t.alternate,t);if(s!==null){s.flags&=32767,ke=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=s}while(t!==null);Ct=6,ke=null}function x_(t,i,s,l,f,d,v,S,N){t.cancelPendingCommit=null;do nh();while(Yt!==0);if(($e&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(d=i.lanes|i.childLanes,d|=Xf,Gs(t,s,d,v,S,N),t===st&&(ke=st=null,Le=0),So=i,ma=t,Ci=s,im=d,am=f,E_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,GA(Nr,function(){return k_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,f=ie.p,ie.p=2,v=$e,$e|=4;try{VA(t,i,s)}finally{$e=v,ie.p=f,G.T=l}}Yt=1,O_(),M_(),V_()}}function O_(){if(Yt===1){Yt=0;var t=ma,i=So,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=ie.p;ie.p=2;var f=$e;$e|=4;try{f_(i,t);var d=Em,v=vy(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(v!==S&&S&&S.ownerDocument&&yy(S.ownerDocument.documentElement,S)){if(N!==null&&Gf(S)){var H=N.start,J=N.end;if(J===void 0&&(J=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(J,S.value.length);else{var te=S.ownerDocument||document,Q=te&&te.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),fe=S.textContent.length,Ee=Math.min(N.start,fe),it=N.end===void 0?Ee:Math.min(N.end,fe);!X.extend&&Ee>it&&(v=it,it=Ee,Ee=v);var j=py(S,Ee),P=py(S,it);if(j&&P&&(X.rangeCount!==1||X.anchorNode!==j.node||X.anchorOffset!==j.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var q=te.createRange();q.setStart(j.node,j.offset),X.removeAllRanges(),Ee>it?(X.addRange(q),X.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),X.addRange(q))}}}}for(te=[],X=S;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var ee=te[S];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}mh=!!_m,Em=_m=null}finally{$e=f,ie.p=l,G.T=s}}t.current=i,Yt=2}}function M_(){if(Yt===2){Yt=0;var t=ma,i=So,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=ie.p;ie.p=2;var f=$e;$e|=4;try{o_(t,i.alternate,i)}finally{$e=f,ie.p=l,G.T=s}}Yt=3}}function V_(){if(Yt===4||Yt===3){Yt=0,Ka();var t=ma,i=So,s=Ci,l=E_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Yt=5:(Yt=0,So=ma=null,P_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(da=null),Vn(s),i=i.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(cn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,f=ie.p,ie.p=2,G.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var S=l[v];d(S.value,{componentStack:S.stack})}}finally{G.T=i,ie.p=f}}(Ci&3)!==0&&nh(),Kr(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===sm?Wl++:(Wl=0,sm=t):Wl=0,Jl(0)}}function P_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ol(i)))}function nh(){return O_(),M_(),V_(),k_()}function k_(){if(Yt!==5)return!1;var t=ma,i=im;im=0;var s=Vn(Ci),l=G.T,f=ie.p;try{ie.p=32>s?32:s,G.T=null,s=am,am=null;var d=ma,v=Ci;if(Yt=0,So=ma=null,Ci=0,($e&6)!==0)throw Error(a(331));var S=$e;if($e|=4,y_(d.current),m_(d,d.current,v,s),$e=S,Jl(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(cn,d)}catch{}return!0}finally{ie.p=f,G.T=l,P_(t,i)}}function j_(t,i,s){i=er(s,i),i=Ld(t.stateNode,i,2),t=oa(t,i,2),t!==null&&(fr(t,2),Kr(t))}function et(t,i,s){if(t.tag===3)j_(t,t,s);else for(;i!==null;){if(i.tag===3){j_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(da===null||!da.has(l))){t=er(s,t),s=Lv(2),l=oa(i,s,2),l!==null&&(Uv(s,l,i,t),fr(l,2),Kr(l));break}}i=i.return}}function um(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new jA;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(s)||(tm=!0,f.add(s),t=qA.bind(null,t,i,s),i.then(t,t))}function qA(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,st===t&&(Le&s)===s&&(Ct===4||Ct===3&&(Le&62914560)===Le&&300>Jt()-Xc?($e&2)===0&&wo(t,0):nm|=s,bo===Le&&(bo=0)),Kr(t)}function L_(t,i){i===0&&(i=vn()),t=fs(t,i),t!==null&&(fr(t,i),Kr(t))}function HA(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),L_(t,s)}function FA(t,i){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),L_(t,s)}function GA(t,i){return It(t,i)}var rh=null,Ro=null,cm=!1,ih=!1,hm=!1,pa=0;function Kr(t){t!==Ro&&t.next===null&&(Ro===null?rh=Ro=t:Ro=Ro.next=t),ih=!0,cm||(cm=!0,QA())}function Jl(t,i){if(!hm&&ih){hm=!0;do for(var s=!1,l=rh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=f&~(v&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,q_(l,d))}else d=Le,d=ht(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||hn(l,d)||(s=!0,q_(l,d));l=l.next}while(s);hm=!1}}function YA(){U_()}function U_(){ih=cm=!1;var t=0;pa!==0&&r1()&&(t=pa);for(var i=Jt(),s=null,l=rh;l!==null;){var f=l.next,d=z_(l,i);d===0?(l.next=null,s===null?rh=f:s.next=f,f===null&&(Ro=s)):(s=l,(t!==0||(d&3)!==0)&&(ih=!0)),l=f}Yt!==0&&Yt!==5||Jl(t),pa!==0&&(pa=0)}function z_(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-pt(d),S=1<<v,N=f[v];N===-1?((S&s)===0||(S&l)!==0)&&(f[v]=at(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=st,s=Le,s=ht(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===i&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Dr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||hn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&Dr(l),Vn(s)){case 2:case 8:s=Xa;break;case 32:s=Nr;break;case 268435456:s=Ja;break;default:s=Nr}return l=B_.bind(null,t),s=It(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&Dr(l),t.callbackPriority=2,t.callbackNode=null,2}function B_(t,i){if(Yt!==0&&Yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(nh()&&t.callbackNode!==s)return null;var l=Le;return l=ht(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(b_(t,l,i),z_(t,Jt()),t.callbackNode!=null&&t.callbackNode===s?B_.bind(null,t):null)}function q_(t,i){if(nh())return null;b_(t,i,!0)}function QA(){a1(function(){($e&6)!==0?It($a,YA):U_()})}function fm(){if(pa===0){var t=co;t===0&&(t=Mn,Mn<<=1,(Mn&261888)===0&&(Mn=256)),pa=t}return pa}function H_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$s(""+t)}function F_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function KA(t,i,s,l,f){if(i==="submit"&&s&&s.stateNode===f){var d=H_((f[kt]||null).action),v=l.submitter;v&&(i=(i=v[kt]||null)?H_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new Br("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pa!==0){var N=v?F_(f,v):new FormData(f);Od(s,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=v?F_(f,v):new FormData(f),Od(s,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var dm=0;dm<$f.length;dm++){var mm=$f[dm],$A=mm.toLowerCase(),XA=mm[0].toUpperCase()+mm.slice(1);_r($A,"on"+XA)}_r(Ty,"onAnimationEnd"),_r(by,"onAnimationIteration"),_r(Sy,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(fA,"onTransitionRun"),_r(dA,"onTransitionStart"),_r(mA,"onTransitionCancel"),_r(wy,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function G_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],N=S.instance,H=S.currentTarget;if(S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch(J){_c(J)}f.currentTarget=null,d=N}else for(v=0;v<l.length;v++){if(S=l[v],N=S.instance,H=S.currentTarget,S=S.listener,N!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=H;try{d(f)}catch(J){_c(J)}f.currentTarget=null,d=N}}}}function je(t,i){var s=i[Ne];s===void 0&&(s=i[Ne]=new Set);var l=t+"__bubble";s.has(l)||(Y_(i,t,2,!1),s.add(l))}function gm(t,i,s){var l=0;i&&(l|=4),Y_(s,t,l,i)}var ah="_reactListening"+Math.random().toString(36).slice(2);function pm(t){if(!t[ah]){t[ah]=!0,hl.forEach(function(s){s!=="selectionchange"&&(WA.has(s)||gm(s,!1,t),gm(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ah]||(i[ah]=!0,gm("selectionchange",!1,i))}}function Y_(t,i,s,l){switch(TE(i)){case 2:var f=A1;break;case 8:f=R1;break;default:f=xm}s=f.bind(null,i,s,t),f=void 0,!is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,s,{capture:!0,passive:f}):t.addEventListener(i,s,!0):f!==void 0?t.addEventListener(i,s,{passive:f}):t.addEventListener(i,s,!1)}function ym(t,i,s,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=$n(S),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Wi(function(){var H=d,J=Xn(s),te=[];e:{var Q=Ay.get(t);if(Q!==void 0){var X=Br,fe=t;switch(t){case"keypress":if(ss(s)===0)break e;case"keydown":case"keyup":X=pc;break;case"focusin":fe="focus",X=ls;break;case"focusout":fe="blur",X=ls;break;case"beforeblur":case"afterblur":X=ls;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=wl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=oc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Ty:case by:case Sy:X=uc;break;case wy:X=w;break;case"scroll":case"scrollend":X=Sl;break;case"wheel":X=K;break;case"copy":case"cut":case"paste":X=cc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=di;break;case"toggle":case"beforetoggle":X=xe}var Ee=(i&4)!==0,it=!Ee&&(t==="scroll"||t==="scrollend"),j=Ee?Q!==null?Q+"Capture":null:Q;Ee=[];for(var P=H,q;P!==null;){var ee=P;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||j===null||(ee=gr(P,j),ee!=null&&Ee.push(eu(P,ee,q))),it)break;P=P.return}0<Ee.length&&(Q=new X(Q,fe,null,s,J),te.push({event:Q,listeners:Ee}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&s!==El&&(fe=s.relatedTarget||s.fromElement)&&($n(fe)||fe[Kn]))break e;if((X||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(fe=s.relatedTarget||s.toElement,X=H,fe=fe?$n(fe):null,fe!==null&&(it=u(fe),Ee=fe.tag,fe!==it||Ee!==5&&Ee!==27&&Ee!==6)&&(fe=null)):(X=null,fe=H),X!==fe)){if(Ee=wl,ee="onMouseLeave",j="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=di,ee="onPointerLeave",j="onPointerEnter",P="pointer"),it=X==null?Q:kn(X),q=fe==null?Q:kn(fe),Q=new Ee(ee,P+"leave",X,s,J),Q.target=it,Q.relatedTarget=q,ee=null,$n(J)===H&&(Ee=new Ee(j,P+"enter",fe,s,J),Ee.target=q,Ee.relatedTarget=it,ee=Ee),it=ee,X&&fe)t:{for(Ee=JA,j=X,P=fe,q=0,ee=j;ee;ee=Ee(ee))q++;ee=0;for(var ye=P;ye;ye=Ee(ye))ee++;for(;0<q-ee;)j=Ee(j),q--;for(;0<ee-q;)P=Ee(P),ee--;for(;q--;){if(j===P||P!==null&&j===P.alternate){Ee=j;break t}j=Ee(j),P=Ee(P)}Ee=null}else Ee=null;X!==null&&Q_(te,Q,X,Ee,!1),fe!==null&&it!==null&&Q_(te,it,fe,Ee,!0)}}e:{if(Q=H?kn(H):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Ye=cy;else if(ly(Q))if(hy)Ye=uA;else{Ye=oA;var de=sA}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?H&&Ks(H.elementType)&&(Ye=cy):Ye=lA;if(Ye&&(Ye=Ye(t,H))){uy(te,Ye,s,J);break e}de&&de(t,Q,H),t==="focusout"&&H&&Q.type==="number"&&H.memoizedProps.value!=null&&yl(Q,"number",Q.value)}switch(de=H?kn(H):window,t){case"focusin":(ly(de)||de.contentEditable==="true")&&(no=de,Yf=H,Dl=null);break;case"focusout":Dl=Yf=no=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,_y(te,s,J);break;case"selectionchange":if(hA)break;case"keydown":case"keyup":_y(te,s,J)}var Me;if(Ke)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else to?us(t,s)&&(Ue="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Ue="onCompositionStart");Ue&&(Fr&&s.locale!=="ko"&&(to||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&to&&(Me=bl()):(zr=J,Tl="value"in zr?zr.value:zr.textContent,to=!0)),de=sh(H,Ue),0<de.length&&(Ue=new Hr(Ue,t,null,s,J),te.push({event:Ue,listeners:de}),Me?Ue.data=Me:(Me=eo(s),Me!==null&&(Ue.data=Me)))),(Me=Jn?nA(t,s):rA(t,s))&&(Ue=sh(H,"onBeforeInput"),0<Ue.length&&(de=new Hr("onBeforeInput","beforeinput",null,s,J),te.push({event:de,listeners:Ue}),de.data=Me)),KA(te,t,H,s,J)}G_(te,i)})}function eu(t,i,s){return{instance:t,listener:i,currentTarget:s}}function sh(t,i){for(var s=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=gr(t,s),f!=null&&l.unshift(eu(t,f,d)),f=gr(t,i),f!=null&&l.push(eu(t,f,d))),t.tag===3)return l;t=t.return}return[]}function JA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Q_(t,i,s,l,f){for(var d=i._reactName,v=[];s!==null&&s!==l;){var S=s,N=S.alternate,H=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||H===null||(N=H,f?(H=gr(s,d),H!=null&&v.unshift(eu(s,H,N))):f||(H=gr(s,d),H!=null&&v.push(eu(s,H,N)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var ZA=/\r\n?/g,e1=/\u0000|\uFFFD/g;function K_(t){return(typeof t=="string"?t:""+t).replace(ZA,`
`).replace(e1,"")}function $_(t,i){return i=K_(i),K_(t)===i}function rt(t,i,s,l,f,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":jn(t,"class",l);break;case"tabIndex":jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,s,l);break;case"style":_l(t,l,d);break;case"data":if(i!=="object"){jn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=$s(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&rt(t,i,"name",f.name,f,null),rt(t,i,"formEncType",f.formEncType,f,null),rt(t,i,"formMethod",f.formMethod,f,null),rt(t,i,"formTarget",f.formTarget,f,null)):(rt(t,i,"encType",f.encType,f,null),rt(t,i,"method",f.method,f,null),rt(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=$s(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=mr);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=$s(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Ys(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ys(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=sc.get(s)||s,Ys(t,s,l))}}function vm(t,i,s,l,f,d){switch(s){case"style":_l(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),d=t[kt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ys(t,s,l)}}}function rn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:rt(t,i,d,v,s,null)}}f&&rt(t,i,"srcSet",s.srcSet,s,null),l&&rt(t,i,"src",s.src,s,null);return;case"input":je("invalid",t);var S=d=v=f=null,N=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var J=s[l];if(J!=null)switch(l){case"name":f=J;break;case"type":v=J;break;case"checked":N=J;break;case"defaultChecked":H=J;break;case"value":d=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:rt(t,i,l,J,s,null)}}rc(t,d,S,N,H,v,f,!1);return;case"select":je("invalid",t),l=v=d=null;for(f in s)if(s.hasOwnProperty(f)&&(S=s[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:rt(t,i,f,S,s,null)}i=d,s=v,t.multiple=!!l,i!=null?Qi(t,!!l,i,!1):s!=null&&Qi(t,!!l,s,!0);return;case"textarea":je("invalid",t),d=f=l=null;for(v in s)if(s.hasOwnProperty(v)&&(S=s[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:rt(t,i,v,S,s,null)}Ki(t,l,f,d);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(l=s[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,i,N,l,s,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Zl.length;l++)je(Zl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:rt(t,i,H,l,s,null)}return;default:if(Ks(i)){for(J in s)s.hasOwnProperty(J)&&(l=s[J],l!==void 0&&vm(t,i,J,l,s,void 0));return}}for(S in s)s.hasOwnProperty(S)&&(l=s[S],l!=null&&rt(t,i,S,l,s,null))}function t1(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,S=null,N=null,H=null,J=null;for(X in s){var te=s[X];if(s.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(X)||rt(t,i,X,null,l,te)}}for(var Q in l){var X=l[Q];if(te=s[Q],l.hasOwnProperty(Q)&&(X!=null||te!=null))switch(Q){case"type":d=X;break;case"name":f=X;break;case"checked":H=X;break;case"defaultChecked":J=X;break;case"value":v=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==te&&rt(t,i,Q,X,l,te)}}Qs(t,v,S,N,H,J,d,f);return;case"select":X=v=S=Q=null;for(d in s)if(N=s[d],s.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":X=N;default:l.hasOwnProperty(d)||rt(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=s[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":Q=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==N&&rt(t,i,f,d,l,N)}i=S,s=v,l=X,Q!=null?Qi(t,!!s,Q,!1):!!l!=!!s&&(i!=null?Qi(t,!!s,i,!0):Qi(t,!!s,s?[]:"",!1));return;case"textarea":X=Q=null;for(S in s)if(f=s[S],s.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(t,i,S,null,l,f)}for(v in l)if(f=l[v],d=s[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&rt(t,i,v,f,l,d)}ic(t,Q,X);return;case"option":for(var fe in s)if(Q=s[fe],s.hasOwnProperty(fe)&&Q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:rt(t,i,fe,null,l,Q)}for(N in l)if(Q=l[N],X=s[N],l.hasOwnProperty(N)&&Q!==X&&(Q!=null||X!=null))switch(N){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:rt(t,i,N,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in s)Q=s[Ee],s.hasOwnProperty(Ee)&&Q!=null&&!l.hasOwnProperty(Ee)&&rt(t,i,Ee,null,l,Q);for(H in l)if(Q=l[H],X=s[H],l.hasOwnProperty(H)&&Q!==X&&(Q!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:rt(t,i,H,Q,l,X)}return;default:if(Ks(i)){for(var it in s)Q=s[it],s.hasOwnProperty(it)&&Q!==void 0&&!l.hasOwnProperty(it)&&vm(t,i,it,void 0,l,Q);for(J in l)Q=l[J],X=s[J],!l.hasOwnProperty(J)||Q===X||Q===void 0&&X===void 0||vm(t,i,J,Q,l,X);return}}for(var j in s)Q=s[j],s.hasOwnProperty(j)&&Q!=null&&!l.hasOwnProperty(j)&&rt(t,i,j,null,l,Q);for(te in l)Q=l[te],X=s[te],!l.hasOwnProperty(te)||Q===X||Q==null&&X==null||rt(t,i,te,Q,l,X)}function X_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,v=f.initiatorType,S=f.duration;if(d&&S&&X_(v)){for(v=0,S=f.responseEnd,l+=1;l<s.length;l++){var N=s[l],H=N.startTime;if(H>S)break;var J=N.transferSize,te=N.initiatorType;J&&X_(te)&&(N=N.responseEnd,v+=J*(N<S?1:(S-H)/(N-H)))}if(--l,i+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _m=null,Em=null;function oh(t){return t.nodeType===9?t:t.ownerDocument}function W_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Tm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bm=null;function r1(){var t=window.event;return t&&t.type==="popstate"?t===bm?!1:(bm=t,!0):(bm=null,!1)}var Z_=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,eE=typeof Promise=="function"?Promise:void 0,a1=typeof queueMicrotask=="function"?queueMicrotask:typeof eE<"u"?function(t){return eE.resolve(null).then(t).catch(s1)}:Z_;function s1(t){setTimeout(function(){throw t})}function ya(t){return t==="head"}function tE(t,i){var s=i,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(f),No(i);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")tu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,tu(s);for(var d=s.firstChild;d;){var v=d.nextSibling,S=d.nodeName;d[At]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=v}}else s==="body"&&tu(t.ownerDocument.body);s=f}while(s);No(i)}function nE(t,i){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function Sm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Sm(s),Vr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function o1(t,i,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[At])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ar(t.nextSibling),t===null)break}return null}function l1(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ar(t.nextSibling),t===null))return null;return t}function rE(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=ar(t.nextSibling),t===null))return null;return t}function wm(t){return t.data==="$?"||t.data==="$~"}function Am(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function u1(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ar(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Rm=null;function iE(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return ar(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function aE(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function sE(t,i,s){switch(i=oh(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function tu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Vr(t)}var sr=new Map,oE=new Set;function lh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ii=ie.d;ie.d={f:c1,r:h1,D:f1,C:d1,L:m1,m:g1,X:y1,S:p1,M:v1};function c1(){var t=Ii.f(),i=Zc();return t||i}function h1(t){var i=Sn(t);i!==null&&i.tag===5&&i.type==="form"?wv(i):Ii.r(t)}var Co=typeof document>"u"?null:document;function lE(t,i,s){var l=Co;if(l&&typeof i=="string"&&i){var f=wn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),oE.has(f)||(oE.add(f),t={rel:t,crossOrigin:s,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),rn(i,"link",t),jt(i),l.head.appendChild(i)))}}function f1(t){Ii.D(t),lE("dns-prefetch",t,null)}function d1(t,i){Ii.C(t,i),lE("preconnect",t,i)}function m1(t,i,s){Ii.L(t,i,s);var l=Co;if(l&&t&&i){var f='link[rel="preload"][as="'+wn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+wn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+wn(s.imageSizes)+'"]')):f+='[href="'+wn(t)+'"]';var d=f;switch(i){case"style":d=Io(t);break;case"script":d=Do(t)}sr.has(d)||(t=b({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),sr.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(nu(d))||i==="script"&&l.querySelector(ru(d))||(i=l.createElement("link"),rn(i,"link",t),jt(i),l.head.appendChild(i)))}}function g1(t,i){Ii.m(t,i);var s=Co;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+wn(l)+'"][href="'+wn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Do(t)}if(!sr.has(d)&&(t=b({rel:"modulepreload",href:t},i),sr.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ru(d)))return}l=s.createElement("link"),rn(l,"link",t),jt(l),s.head.appendChild(l)}}}function p1(t,i,s){Ii.S(t,i,s);var l=Co;if(l&&t){var f=Pr(l).hoistableStyles,d=Io(t);i=i||"default";var v=f.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(nu(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},s),(s=sr.get(d))&&Cm(t,s);var N=v=l.createElement("link");jt(N),rn(N,"link",t),N._p=new Promise(function(H,J){N.onload=H,N.onerror=J}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,uh(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(d,v)}}}function y1(t,i){Ii.X(t,i);var s=Co;if(s&&t){var l=Pr(s).hoistableScripts,f=Do(t),d=l.get(f);d||(d=s.querySelector(ru(f)),d||(t=b({src:t,async:!0},i),(i=sr.get(f))&&Im(t,i),d=s.createElement("script"),jt(d),rn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function v1(t,i){Ii.M(t,i);var s=Co;if(s&&t){var l=Pr(s).hoistableScripts,f=Do(t),d=l.get(f);d||(d=s.querySelector(ru(f)),d||(t=b({src:t,async:!0,type:"module"},i),(i=sr.get(f))&&Im(t,i),d=s.createElement("script"),jt(d),rn(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function uE(t,i,s,l){var f=(f=Ae.current)?lh(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Io(s.href),s=Pr(f).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Io(s.href);var d=Pr(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(nu(t)))&&!d._p&&(v.instance=d,v.state.loading=5),sr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},sr.set(t,s),d||_1(f,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Do(s),s=Pr(f).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Io(t){return'href="'+wn(t)+'"'}function nu(t){return'link[rel="stylesheet"]['+t+"]"}function cE(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function _1(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),rn(i,"link",s),jt(i),t.head.appendChild(i))}function Do(t){return'[src="'+wn(t)+'"]'}function ru(t){return"script[async]"+t}function hE(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+wn(s.href)+'"]');if(l)return i.instance=l,jt(l),l;var f=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),jt(l),rn(l,"style",f),uh(l,s.precedence,t),i.instance=l;case"stylesheet":f=Io(s.href);var d=t.querySelector(nu(f));if(d)return i.state.loading|=4,i.instance=d,jt(d),d;l=cE(s),(f=sr.get(f))&&Cm(l,f),d=(t.ownerDocument||t).createElement("link"),jt(d);var v=d;return v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),rn(d,"link",l),i.state.loading|=4,uh(d,s.precedence,t),i.instance=d;case"script":return d=Do(s.src),(f=t.querySelector(ru(d)))?(i.instance=f,jt(f),f):(l=s,(f=sr.get(d))&&(l=b({},s),Im(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),jt(f),rn(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,uh(l,s.precedence,t));return i.instance}function uh(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Cm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ch=null;function fE(t,i,s){if(ch===null){var l=new Map,f=ch=new Map;f.set(s,l)}else f=ch,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[At]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function dE(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function E1(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function mE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function T1(t,i,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Io(l.href),d=i.querySelector(nu(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=hh.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=d,jt(d);return}d=i.ownerDocument||i,l=cE(l),(f=sr.get(f))&&Cm(l,f),d=d.createElement("link"),jt(d);var v=d;v._p=new Promise(function(S,N){v.onload=S,v.onerror=N}),rn(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=hh.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Dm=0;function b1(t,i){return t.stylesheets&&t.count===0&&dh(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Dm===0&&(Dm=62500*n1());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&dh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Dm?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function hh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fh=null;function dh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fh=new Map,i.forEach(S1,t),fh=null,hh.call(t))}function S1(t,i){if(!(i.state.loading&4)){var s=fh.get(t);if(s)var l=s.get(null);else{s=new Map,fh.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}f=i.instance,v=f.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,f),s.set(v,f),this.count++,l=hh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var iu={$$typeof:W,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function w1(t,i,s,l,f,d,v,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function gE(t,i,s,l,f,d,v,S,N,H,J,te){return t=new w1(t,i,s,v,N,H,J,te,S),i=1,d===!0&&(i|=24),d=Un(3,null,null,i),t.current=d,d.stateNode=t,i=ld(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},fd(d),t}function pE(t){return t?(t=ao,t):ao}function yE(t,i,s,l,f,d){f=pE(f),l.context===null?l.context=f:l.pendingContext=f,l=sa(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=oa(t,l,i),s!==null&&(Nn(s,t,i),kl(s,t,i))}function vE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Nm(t,i){vE(t,i),(t=t.alternate)&&vE(t,i)}function _E(t){if(t.tag===13||t.tag===31){var i=fs(t,67108864);i!==null&&Nn(i,t,67108864),Nm(t,67108864)}}function EE(t){if(t.tag===13||t.tag===31){var i=Fn();i=dr(i);var s=fs(t,i);s!==null&&Nn(s,t,i),Nm(t,i)}}var mh=!0;function A1(t,i,s,l){var f=G.T;G.T=null;var d=ie.p;try{ie.p=2,xm(t,i,s,l)}finally{ie.p=d,G.T=f}}function R1(t,i,s,l){var f=G.T;G.T=null;var d=ie.p;try{ie.p=8,xm(t,i,s,l)}finally{ie.p=d,G.T=f}}function xm(t,i,s,l){if(mh){var f=Om(l);if(f===null)ym(t,i,l,gh,s),bE(t,l);else if(I1(f,t,i,s,l))l.stopPropagation();else if(bE(t,l),i&4&&-1<C1.indexOf(t)){for(;f!==null;){var d=Sn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=ct(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var N=1<<31-pt(v);S.entanglements[1]|=N,v&=~N}Kr(d),($e&6)===0&&(Wc=Jt()+500,Jl(0))}}break;case 31:case 13:S=fs(d,2),S!==null&&Nn(S,d,2),Zc(),Nm(d,2)}if(d=Om(l),d===null&&ym(t,i,l,gh,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else ym(t,i,l,null,s)}}function Om(t){return t=Xn(t),Mm(t)}var gh=null;function Mm(t){if(gh=null,t=$n(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=h(i),t!==null)return t;t=null}else if(s===31){if(t=m(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return gh=t,null}function TE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(li()){case $a:return 2;case Xa:return 8;case Nr:case Wa:return 32;case Ja:return 268435456;default:return 32}default:return 32}}var Vm=!1,va=null,_a=null,Ea=null,au=new Map,su=new Map,Ta=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bE(t,i){switch(t){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":au.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(i.pointerId)}}function ou(t,i,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Sn(i),i!==null&&_E(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function I1(t,i,s,l,f){switch(i){case"focusin":return va=ou(va,t,i,s,l,f),!0;case"dragenter":return _a=ou(_a,t,i,s,l,f),!0;case"mouseover":return Ea=ou(Ea,t,i,s,l,f),!0;case"pointerover":var d=f.pointerId;return au.set(d,ou(au.get(d)||null,t,i,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,su.set(d,ou(su.get(d)||null,t,i,s,l,f)),!0}return!1}function SE(t){var i=$n(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){t.blockedOn=i,Pn(t.priority,function(){EE(s)});return}}else if(i===31){if(i=m(s),i!==null){t.blockedOn=i,Pn(t.priority,function(){EE(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ph(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Om(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);El=l,s.target.dispatchEvent(l),El=null}else return i=Sn(s),i!==null&&_E(i),t.blockedOn=s,!1;i.shift()}return!0}function wE(t,i,s){ph(t)&&s.delete(i)}function D1(){Vm=!1,va!==null&&ph(va)&&(va=null),_a!==null&&ph(_a)&&(_a=null),Ea!==null&&ph(Ea)&&(Ea=null),au.forEach(wE),su.forEach(wE)}function yh(t,i){t.blockedOn===i&&(t.blockedOn=null,Vm||(Vm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,D1)))}var vh=null;function AE(t){vh!==t&&(vh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vh===t&&(vh=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Mm(l||s)===null)continue;break}var d=Sn(s);d!==null&&(t.splice(i,3),i-=3,Od(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function No(t){function i(N){return yh(N,t)}va!==null&&yh(va,t),_a!==null&&yh(_a,t),Ea!==null&&yh(Ea,t),au.forEach(i),su.forEach(i);for(var s=0;s<Ta.length;s++){var l=Ta[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ta.length&&(s=Ta[0],s.blockedOn===null);)SE(s),s.blockedOn===null&&Ta.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],v=f[kt]||null;if(typeof d=="function")v||AE(s);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[kt]||null)S=v.formAction;else if(Mm(f)!==null)continue}else S=v.action;typeof S=="function"?s[l+1]=S:(s.splice(l,3),l-=3),AE(s)}}}function RE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Pm(t){this._internalRoot=t}_h.prototype.render=Pm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=Fn();yE(s,l,t,i,null,null)},_h.prototype.unmount=Pm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;yE(t.current,2,null,t,null,null),Zc(),i[Kn]=null}};function _h(t){this._internalRoot=t}_h.prototype.unstable_scheduleHydration=function(t){if(t){var i=Gi();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Ta.length&&i!==0&&i<Ta[s].priority;s++);Ta.splice(s,0,t),s===0&&SE(t)}};var CE=e.version;if(CE!=="19.2.0")throw Error(a(527,CE,"19.2.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var N1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eh.isDisabled&&Eh.supportsFiber)try{cn=Eh.inject(N1),Pt=Eh}catch{}}return uu.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",f=Vv,d=Pv,v=kv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=gE(t,1,!1,null,null,s,l,null,f,d,v,RE),t[Kn]=i.current,pm(t),new Pm(i)},uu.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=Vv,v=Pv,S=kv,N=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),i=gE(t,1,!0,i,s??null,l,f,N,d,v,S,RE),i.context=pE(null),s=i.current,l=Fn(),l=dr(l),f=sa(l),f.callback=null,oa(s,f,l),s=l,i.current.lanes=s,fr(i,s),Kr(i),t[Kn]=i.current,pm(t),new _h(i)},uu.version="19.2.0",uu}var jE;function z1(){if(jE)return Lm.exports;jE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lm.exports=U1(),Lm.exports}var B1=z1();/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LE="popstate";function q1(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=Vs(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),cg("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Au(u))}function a(o,u){Sr(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return F1(e,n,a,r)}function St(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Sr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function H1(){return Math.random().toString(36).substring(2,10)}function UE(r,e){return{usr:r.state,key:r.key,idx:e}}function cg(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Vs(e):e,state:n,key:e&&e.key||a||H1()}}function Au({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Vs(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function F1(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",p=null,g=T();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function T(){return(h.state||{idx:null}).idx}function b(){m="POP";let U=T(),L=U==null?null:U-g;g=U,p&&p({action:m,location:F.location,delta:L})}function A(U,L){m="PUSH";let $=cg(F.location,U,L);n&&n($,U),g=T()+1;let W=UE($,g),oe=F.createHref($);try{h.pushState(W,"",oe)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(oe)}u&&p&&p({action:m,location:F.location,delta:1})}function x(U,L){m="REPLACE";let $=cg(F.location,U,L);n&&n($,U),g=T();let W=UE($,g),oe=F.createHref($);h.replaceState(W,"",oe),u&&p&&p({action:m,location:F.location,delta:0})}function Y(U){return G1(U)}let F={get action(){return m},get location(){return r(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(LE,b),p=U,()=>{o.removeEventListener(LE,b),p=null}},createHref(U){return e(o,U)},createURL:Y,encodeLocation(U){let L=Y(U);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:A,replace:x,go(U){return h.go(U)}};return F}function G1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Au(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function jb(r,e,n="/"){return Y1(r,e,n,!1)}function Y1(r,e,n,a){let o=typeof e=="string"?Vs(e):e,u=Vi(o.pathname||"/",n);if(u==null)return null;let h=Lb(r);Q1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=iR(u);m=nR(h[p],g,a)}return m}function Lb(r,e=[],n=[],a="",o=!1){let u=(h,m,p=o,g)=>{let T={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(a)&&p)return;St(T.relativePath.startsWith(a),`Absolute route path "${T.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(a.length)}let b=xi([a,T.relativePath]),A=n.concat(T);h.children&&h.children.length>0&&(St(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),Lb(h.children,e,A,b,p)),!(h.path==null&&!h.index)&&e.push({path:b,score:eR(b,h.index),routesMeta:A})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of Ub(h.path))u(h,m,!0,p)}),e}function Ub(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=Ub(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Q1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:tR(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var K1=/^:[\w-]+$/,$1=3,X1=2,W1=1,J1=10,Z1=-2,zE=r=>r==="*";function eR(r,e){let n=r.split("/"),a=n.length;return n.some(zE)&&(a+=Z1),e&&(a+=X1),n.filter(o=>!zE(o)).reduce((o,u)=>o+(K1.test(u)?$1:u===""?W1:J1),a)}function tR(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function nR(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),A=p.route;if(!b&&g&&n&&!a[a.length-1].route.index&&(b=Fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:xi([u,b.pathname]),pathnameBase:lR(xi([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=xi([u,b.pathnameBase]))}return h}function Fh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=rR(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:T,isOptional:b},A)=>{if(T==="*"){let Y=m[A]||"";h=u.slice(0,u.length-Y.length).replace(/(.)\/+$/,"$1")}const x=m[A];return b&&!x?g[T]=void 0:g[T]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function rR(r,e=!1,n=!0){Sr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function iR(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Vi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function aR(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Vs(r):r;return{pathname:n?n.startsWith("/")?n:sR(n,e):e,search:uR(a),hash:cR(o)}}function sR(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function qm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oR(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zb(r){let e=oR(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Bb(r,e,n,a=!1){let o;typeof r=="string"?o=Vs(r):(o={...r},St(!o.pathname||!o.pathname.includes("?"),qm("?","pathname","search",o)),St(!o.pathname||!o.pathname.includes("#"),qm("#","pathname","hash",o)),St(!o.search||!o.search.includes("#"),qm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!a&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=aR(o,m),g=h&&h!=="/"&&h.endsWith("/"),T=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var xi=r=>r.join("/").replace(/\/\/+/g,"/"),lR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function hR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qb=["POST","PUT","PATCH","DELETE"];new Set(qb);var fR=["GET",...qb];new Set(fR);var Zo=z.createContext(null);Zo.displayName="DataRouter";var df=z.createContext(null);df.displayName="DataRouterState";z.createContext(!1);var Hb=z.createContext({isTransitioning:!1});Hb.displayName="ViewTransition";var dR=z.createContext(new Map);dR.displayName="Fetchers";var mR=z.createContext(null);mR.displayName="Await";var oi=z.createContext(null);oi.displayName="Navigation";var Pu=z.createContext(null);Pu.displayName="Location";var Bi=z.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var ep=z.createContext(null);ep.displayName="RouteError";function gR(r,{relative:e}={}){St(ku(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=z.useContext(oi),{hash:o,pathname:u,search:h}=ju(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:xi([n,u])),a.createHref({pathname:m,search:h,hash:o})}function ku(){return z.useContext(Pu)!=null}function Ps(){return St(ku(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Pu).location}var Fb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gb(r){z.useContext(oi).static||z.useLayoutEffect(r)}function tp(){let{isDataRoute:r}=z.useContext(Bi);return r?IR():pR()}function pR(){St(ku(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Zo),{basename:e,navigator:n}=z.useContext(oi),{matches:a}=z.useContext(Bi),{pathname:o}=Ps(),u=JSON.stringify(zb(a)),h=z.useRef(!1);return Gb(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(Sr(h.current,Fb),!h.current)return;if(typeof p=="number"){n.go(p);return}let T=Bb(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:xi([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}z.createContext(null);function ju(r,{relative:e}={}){let{matches:n}=z.useContext(Bi),{pathname:a}=Ps(),o=JSON.stringify(zb(n));return z.useMemo(()=>Bb(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function yR(r,e){return Yb(r,e)}function Yb(r,e,n,a,o){St(ku(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=z.useContext(oi),{matches:h}=z.useContext(Bi),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let $=b&&b.path||"";Qb(g,!b||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=Ps(),x;if(e){let $=typeof e=="string"?Vs(e):e;St(T==="/"||$.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${$.pathname}" was given in the \`location\` prop.`),x=$}else x=A;let Y=x.pathname||"/",F=Y;if(T!=="/"){let $=T.replace(/^\//,"").split("/");F="/"+Y.replace(/^\//,"").split("/").slice($.length).join("/")}let U=jb(r,{pathname:F});Sr(b||U!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Sr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=bR(U&&U.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:xi([T,u.encodeLocation?u.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?T:xi([T,u.encodeLocation?u.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),h,n,a,o);return e&&L?z.createElement(Pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},L):L}function vR(){let r=CR(),e=hR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var _R=z.createElement(vR,null),ER=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?z.createElement(Bi.Provider,{value:this.props.routeContext},z.createElement(ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TR({routeContext:r,match:e,children:n}){let a=z.useContext(Zo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Bi.Provider,{value:r},n)}function bR(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);St(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let T=u[g];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=g),T.route.id){let{loaderData:b,errors:A}=n,x=T.route.loader&&!b.hasOwnProperty(T.route.id)&&(!A||A[T.route.id]===void 0);if(T.route.lazy||x){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,T,b)=>{let A,x=!1,Y=null,F=null;n&&(A=h&&T.route.id?h[T.route.id]:void 0,Y=T.route.errorElement||_R,m&&(p<0&&b===0?(Qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,F=null):p===b&&(x=!0,F=T.route.hydrateFallbackElement||null)));let U=e.concat(u.slice(0,b+1)),L=()=>{let $;return A?$=Y:x?$=F:T.route.Component?$=z.createElement(T.route.Component,null):T.route.element?$=T.route.element:$=g,z.createElement(TR,{match:T,routeContext:{outlet:g,matches:U,isDataRoute:n!=null},children:$})};return n&&(T.route.ErrorBoundary||T.route.errorElement||b===0)?z.createElement(ER,{location:n.location,revalidation:n.revalidation,component:Y,error:A,children:L(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:a}):L()},null)}function np(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SR(r){let e=z.useContext(Zo);return St(e,np(r)),e}function wR(r){let e=z.useContext(df);return St(e,np(r)),e}function AR(r){let e=z.useContext(Bi);return St(e,np(r)),e}function rp(r){let e=AR(r),n=e.matches[e.matches.length-1];return St(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function RR(){return rp("useRouteId")}function CR(){let r=z.useContext(ep),e=wR("useRouteError"),n=rp("useRouteError");return r!==void 0?r:e.errors?.[n]}function IR(){let{router:r}=SR("useNavigate"),e=rp("useNavigate"),n=z.useRef(!1);return Gb(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Sr(n.current,Fb),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var BE={};function Qb(r,e,n){!e&&!BE[r]&&(BE[r]=!0,Sr(!1,n))}z.memo(DR);function DR({routes:r,future:e,state:n,unstable_onError:a}){return Yb(r,void 0,n,a,e)}function Aa(r){St(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NR({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){St(!ku(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Vs(n));let{pathname:p="/",search:g="",hash:T="",state:b=null,key:A="default"}=n,x=z.useMemo(()=>{let Y=Vi(p,h);return Y==null?null:{location:{pathname:Y,search:g,hash:T,state:b,key:A},navigationType:a}},[h,p,g,T,b,A,a]);return Sr(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:z.createElement(oi.Provider,{value:m},z.createElement(Pu.Provider,{children:e,value:x}))}function xR({children:r,location:e}){return yR(hg(r),e)}function hg(r,e=[]){let n=[];return z.Children.forEach(r,(a,o)=>{if(!z.isValidElement(a))return;let u=[...e,o];if(a.type===z.Fragment){n.push.apply(n,hg(a.props.children,u));return}St(a.type===Aa,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),St(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=hg(a.props.children,u)),n.push(h)}),n}var xh="get",Oh="application/x-www-form-urlencoded";function mf(r){return r!=null&&typeof r.tagName=="string"}function OR(r){return mf(r)&&r.tagName.toLowerCase()==="button"}function MR(r){return mf(r)&&r.tagName.toLowerCase()==="form"}function VR(r){return mf(r)&&r.tagName.toLowerCase()==="input"}function PR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kR(r,e){return r.button===0&&(!e||e==="_self")&&!PR(r)}var Th=null;function jR(){if(Th===null)try{new FormData(document.createElement("form"),0),Th=!1}catch{Th=!0}return Th}var LR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(r){return r!=null&&!LR.has(r)?(Sr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):r}function UR(r,e){let n,a,o,u,h;if(MR(r)){let m=r.getAttribute("action");a=m?Vi(m,e):null,n=r.getAttribute("method")||xh,o=Hm(r.getAttribute("enctype"))||Oh,u=new FormData(r)}else if(OR(r)||VR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?Vi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||xh,o=Hm(r.getAttribute("formenctype"))||Hm(m.getAttribute("enctype"))||Oh,u=new FormData(m,r),!jR()){let{name:g,type:T,value:b}=r;if(T==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(mf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xh,a=null,o=Oh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zR(r,e,n){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&Vi(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function BR(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function HR(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await BR(u,n);return h.links?h.links():[]}return[]}));return QR(a.flat(1).filter(qR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qE(r,e,n,a,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let T=a.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function FR(r,e,{includeHydrateFallback:n}={}){return GR(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function GR(r){return[...new Set(r)]}function YR(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function QR(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(YR(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function Kb(){let r=z.useContext(Zo);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function KR(){let r=z.useContext(df);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ap=z.createContext(void 0);ap.displayName="FrameworkContext";function $b(){let r=z.useContext(ap);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function $R(r,e){let n=z.useContext(ap),[a,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,A=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=L=>{L.forEach($=>{h($.isIntersecting)})},U=new IntersectionObserver(F,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[r]),z.useEffect(()=>{if(a){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[a]);let x=()=>{o(!0)},Y=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:cu(m,x),onBlur:cu(p,Y),onMouseEnter:cu(g,x),onMouseLeave:cu(T,Y),onTouchStart:cu(b,x)}]:[!1,A,{}]}function cu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function XR({page:r,...e}){let{router:n}=Kb(),a=z.useMemo(()=>jb(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?z.createElement(JR,{page:r,matches:a,...e}):null}function WR(r){let{manifest:e,routeModules:n}=$b(),[a,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return HR(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),a}function JR({page:r,matches:e,...n}){let a=Ps(),{manifest:o,routeModules:u}=$b(),{basename:h}=Kb(),{loaderData:m,matches:p}=KR(),g=z.useMemo(()=>qE(r,e,p,o,a,"data"),[r,e,p,o,a]),T=z.useMemo(()=>qE(r,e,p,o,a,"assets"),[r,e,p,o,a]),b=z.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let Y=new Set,F=!1;if(e.forEach(L=>{let $=o.routes[L.route.id];!$||!$.hasLoader||(!g.some(W=>W.route.id===L.route.id)&&L.route.id in m&&u[L.route.id]?.shouldRevalidate||$.hasClientLoader?F=!0:Y.add(L.route.id))}),Y.size===0)return[];let U=zR(r,h,"data");return F&&Y.size>0&&U.searchParams.set("_routes",e.filter(L=>Y.has(L.route.id)).map(L=>L.route.id).join(",")),[U.pathname+U.search]},[h,m,a,o,g,e,r,u]),A=z.useMemo(()=>FR(T,o),[T,o]),x=WR(T);return z.createElement(z.Fragment,null,b.map(Y=>z.createElement("link",{key:Y,rel:"prefetch",as:"fetch",href:Y,...n})),A.map(Y=>z.createElement("link",{key:Y,rel:"modulepreload",href:Y,...n})),x.map(({key:Y,link:F})=>z.createElement("link",{key:Y,nonce:n.nonce,...F})))}function ZR(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Xb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Xb&&(window.__reactRouterVersion="7.9.5")}catch{}function eC({basename:r,children:e,window:n}){let a=z.useRef();a.current==null&&(a.current=q1({window:n,v5Compat:!0}));let o=a.current,[u,h]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(NR,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var Wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=z.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,...A},x){let{basename:Y}=z.useContext(oi),F=typeof g=="string"&&Wb.test(g),U,L=!1;if(typeof g=="string"&&F&&(U=g,Xb))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),M=Vi(V.pathname,Y);V.origin===I.origin&&M!=null?g=M+V.search+V.hash:L=!0}catch{Sr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=gR(g,{relative:o}),[W,oe,ge]=$R(a,A),me=iC(g,{replace:h,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function D(I){e&&e(I),I.defaultPrevented||me(I)}let C=z.createElement("a",{...A,...ge,href:U||$,onClick:L||u?e:D,ref:ZR(x,oe),target:p,"data-discover":!F&&n==="render"?"true":void 0});return W&&!F?z.createElement(z.Fragment,null,C,z.createElement(XR,{page:$})):C});_e.displayName="Link";var tC=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},T){let b=ju(h,{relative:g.relative}),A=Ps(),x=z.useContext(df),{navigator:Y,basename:F}=z.useContext(oi),U=x!=null&&uC(b)&&m===!0,L=Y.encodeLocation?Y.encodeLocation(b).pathname:b.pathname,$=A.pathname,W=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||($=$.toLowerCase(),W=W?W.toLowerCase():null,L=L.toLowerCase()),W&&F&&(W=Vi(W,F)||W);const oe=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let ge=$===L||!o&&$.startsWith(L)&&$.charAt(oe)==="/",me=W!=null&&(W===L||!o&&W.startsWith(L)&&W.charAt(L.length)==="/"),D={isActive:ge,isPending:me,isTransitioning:U},C=ge?e:void 0,I;typeof a=="function"?I=a(D):I=[a,ge?"active":null,me?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(D):u;return z.createElement(_e,{...g,"aria-current":C,className:I,ref:T,style:V,to:h,viewTransition:m},typeof p=="function"?p(D):p)});tC.displayName="NavLink";var nC=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=xh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,...A},x)=>{let Y=oC(),F=lC(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",L=typeof m=="string"&&Wb.test(m),$=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let oe=W.nativeEvent.submitter,ge=oe?.getAttribute("formmethod")||h;Y(oe||W.currentTarget,{fetcherKey:e,method:ge,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b})};return z.createElement("form",{ref:x,method:U,action:F,onSubmit:a?p:$,...A,"data-discover":!L&&r==="render"?"true":void 0})});nC.displayName="Form";function rC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jb(r){let e=z.useContext(Zo);return St(e,rC(r)),e}function iC(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=tp(),p=Ps(),g=ju(r,{relative:u});return z.useCallback(T=>{if(kR(T,e)){T.preventDefault();let b=n!==void 0?n:Au(p)===Au(g);m(r,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,a,e,r,o,u,h])}var aC=0,sC=()=>`__${String(++aC)}__`;function oC(){let{router:r}=Jb("useSubmit"),{basename:e}=z.useContext(oi),n=RR();return z.useCallback(async(a,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=UR(a,e);if(o.navigate===!1){let T=o.fetcherKey||sC();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function lC(r,{relative:e}={}){let{basename:n}=z.useContext(oi),a=z.useContext(Bi);St(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...ju(r||".",{relative:e})},h=Ps();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:xi([n,u.pathname])),Au(u)}function uC(r,{relative:e}={}){let n=z.useContext(Hb);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Jb("useViewTransitionState"),o=ju(r,{relative:e});if(!n.isTransitioning)return!1;let u=Vi(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=Vi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Fh(o.pathname,h)!=null||Fh(o.pathname,u)!=null}const cC=()=>{};var HE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},hC=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},e0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,x=g&63;p||(x=64,h||(A=64)),a.push(n[T],n[b],n[A],n[x])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Zb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):hC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new fC;const A=u<<2|m>>4;if(a.push(A),g!==64){const x=m<<4&240|g>>2;if(a.push(x),b!==64){const Y=g<<6&192|b;a.push(Y)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dC=function(r){const e=Zb(r);return e0.encodeByteArray(e,!0)},Gh=function(r){return dC(r).replace(/\./g,"")},t0=function(r){try{return e0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=()=>mC().__FIREBASE_DEFAULTS__,pC=()=>{if(typeof process>"u"||typeof HE>"u")return;const r=HE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},yC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&t0(r[1]);return e&&JSON.parse(e)},gf=()=>{try{return cC()||gC()||pC()||yC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},n0=r=>gf()?.emulatorHosts?.[r],vC=r=>{const e=n0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},r0=()=>gf()?.config,i0=r=>gf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function a0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gh(JSON.stringify(n)),Gh(JSON.stringify(h)),""].join(".")}const _u={};function TC(){const r={prod:[],emulator:[]};for(const e of Object.keys(_u))_u[e]?r.emulator.push(e):r.prod.push(e);return r}function bC(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let FE=!1;function s0(r,e){if(typeof window>"u"||typeof document>"u"||!el(window.location.host)||_u[r]===e||_u[r]||FE)return;_u[r]=e;function n(A){return`__firebase__banner__${A}`}const a="__firebase__banner",u=TC().prod.length>0;function h(){const A=document.getElementById(a);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,x){A.setAttribute("width","24"),A.setAttribute("id",x),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{FE=!0,h()},A}function T(A,x){A.setAttribute("id",x),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=bC(a),x=n("text"),Y=document.getElementById(x)||document.createElement("span"),F=n("learnmore"),U=document.getElementById(F)||document.createElement("a"),L=n("preprendIcon"),$=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const W=A.element;m(W),T(U,F);const oe=g();p($,L),W.append($,Y,U,oe),document.body.appendChild(W)}u?(Y.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function wC(){const r=gf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IC(){const r=yn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DC(){return!wC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NC(){try{return typeof indexedDB=="object"}catch{return!1}}function xC(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="FirebaseError";class qi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=OC,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?MC(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new qi(o,m,a)}}function MC(r,e){return r.replace(VC,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const VC=/\{\$([^}]+)}/g;function PC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Pi(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],h=e[o];if(GE(u)&&GE(h)){if(!Pi(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function GE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function fu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function du(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function kC(r,e){const n=new jC(r,e);return n.subscribe.bind(n)}class jC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");LC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Fm),o.error===void 0&&(o.error=Fm),o.complete===void 0&&(o.complete=Fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(r){return r&&r._delegate?r._delegate:r}class Ds{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new _C;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BC(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:zC(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zC(r){return r===As?void 0:r}function BC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new UC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const HC={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},FC=ze.INFO,GC={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},YC=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=GC[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=FC,this._logHandler=YC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const QC=(r,e)=>e.some(n=>r instanceof n);let YE,QE;function KC(){return YE||(YE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $C(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,fg=new WeakMap,l0=new WeakMap,Gm=new WeakMap,op=new WeakMap;function XC(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(xa(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&o0.set(n,r)}).catch(()=>{}),op.set(e,r),e}function WC(r){if(fg.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});fg.set(r,e)}let dg={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return fg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||l0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function JC(r){dg=r(dg)}function ZC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(Ym(this),e,...n);return l0.set(a,e.sort?e.sort():[e]),xa(a)}:$C().includes(r)?function(...e){return r.apply(Ym(this),e),xa(o0.get(this))}:function(...e){return xa(r.apply(Ym(this),e))}}function eI(r){return typeof r=="function"?ZC(r):(r instanceof IDBTransaction&&WC(r),QC(r,KC())?new Proxy(r,dg):r)}function xa(r){if(r instanceof IDBRequest)return XC(r);if(Gm.has(r))return Gm.get(r);const e=eI(r);return e!==r&&(Gm.set(r,e),op.set(e,r)),e}const Ym=r=>op.get(r);function tI(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=xa(h);return a&&h.addEventListener("upgradeneeded",p=>{a(xa(h.result),p.oldVersion,p.newVersion,xa(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const nI=["get","getKey","getAll","getAllKeys","count"],rI=["put","add","delete","clear"],Qm=new Map;function KE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=rI.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||nI.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Qm.set(e,u),u}JC(r=>({...r,get:(e,n,a)=>KE(e,n)||r.get(e,n,a),has:(e,n)=>!!KE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aI(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function aI(r){return r.getComponent()?.type==="VERSION"}const mg="@firebase/app",$E="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new sp("@firebase/app"),sI="@firebase/app-compat",oI="@firebase/analytics-compat",lI="@firebase/analytics",uI="@firebase/app-check-compat",cI="@firebase/app-check",hI="@firebase/auth",fI="@firebase/auth-compat",dI="@firebase/database",mI="@firebase/data-connect",gI="@firebase/database-compat",pI="@firebase/functions",yI="@firebase/functions-compat",vI="@firebase/installations",_I="@firebase/installations-compat",EI="@firebase/messaging",TI="@firebase/messaging-compat",bI="@firebase/performance",SI="@firebase/performance-compat",wI="@firebase/remote-config",AI="@firebase/remote-config-compat",RI="@firebase/storage",CI="@firebase/storage-compat",II="@firebase/firestore",DI="@firebase/ai",NI="@firebase/firestore-compat",xI="firebase",OI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="[DEFAULT]",MI={[mg]:"fire-core",[sI]:"fire-core-compat",[lI]:"fire-analytics",[oI]:"fire-analytics-compat",[cI]:"fire-app-check",[uI]:"fire-app-check-compat",[hI]:"fire-auth",[fI]:"fire-auth-compat",[dI]:"fire-rtdb",[mI]:"fire-data-connect",[gI]:"fire-rtdb-compat",[pI]:"fire-fn",[yI]:"fire-fn-compat",[vI]:"fire-iid",[_I]:"fire-iid-compat",[EI]:"fire-fcm",[TI]:"fire-fcm-compat",[bI]:"fire-perf",[SI]:"fire-perf-compat",[wI]:"fire-rc",[AI]:"fire-rc-compat",[RI]:"fire-gcs",[CI]:"fire-gcs-compat",[II]:"fire-fst",[NI]:"fire-fst-compat",[DI]:"fire-vertex","fire-js":"fire-js",[xI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,VI=new Map,pg=new Map;function XE(r,e){try{r.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Fo(r){const e=r.name;if(pg.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,r);for(const n of Yh.values())XE(n,r);for(const n of VI.values())XE(n,r);return!0}function lp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function or(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oa=new Lu("app","Firebase",PI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=OI;function u0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:gg,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Oa.create("bad-app-name",{appName:String(o)});if(n||(n=r0()),!n)throw Oa.create("no-options");const u=Yh.get(o);if(u){if(Pi(n,u.options)&&Pi(a,u.config))return u;throw Oa.create("duplicate-app",{appName:o})}const h=new qC(o);for(const p of pg.values())h.addComponent(p);const m=new kI(n,a,h);return Yh.set(o,m),m}function c0(r=gg){const e=Yh.get(r);if(!e&&r===gg&&r0())return u0();if(!e)throw Oa.create("no-app",{appName:r});return e}function Ma(r,e,n){let a=MI[r]??r;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(h.join(" "));return}Fo(new Ds(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI="firebase-heartbeat-database",LI=1,Ru="firebase-heartbeat-store";let Km=null;function h0(){return Km||(Km=tI(jI,LI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw Oa.create("idb-open",{originalErrorMessage:r.message})})),Km}async function UI(r){try{const n=(await h0()).transaction(Ru),a=await n.objectStore(Ru).get(f0(r));return await n.done,a}catch(e){if(e instanceof qi)ki.warn(e.message);else{const n=Oa.create("idb-get",{originalErrorMessage:e?.message});ki.warn(n.message)}}}async function WE(r,e){try{const a=(await h0()).transaction(Ru,"readwrite");await a.objectStore(Ru).put(e,f0(r)),await a.done}catch(n){if(n instanceof qi)ki.warn(n.message);else{const a=Oa.create("idb-set",{originalErrorMessage:n?.message});ki.warn(a.message)}}}function f0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=1024,BI=30;class qI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FI(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=JE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>BI){const o=GI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ki.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=JE(),{heartbeatsToSend:n,unsentEntries:a}=HI(this._heartbeatsCache.heartbeats),o=Gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ki.warn(e),""}}}function JE(){return new Date().toISOString().substring(0,10)}function HI(r,e=zI){const n=[];let a=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),ZE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),ZE(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class FI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NC()?xC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await UI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function ZE(r){return Gh(JSON.stringify({version:2,heartbeats:r})).length}function GI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(r){Fo(new Ds("platform-logger",e=>new iI(e),"PRIVATE")),Fo(new Ds("heartbeat",e=>new qI(e),"PRIVATE")),Ma(mg,$E,r),Ma(mg,$E,"esm2020"),Ma("fire-js","")}YI("");function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QI=d0,m0=new Lu("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new sp("@firebase/auth");function KI(r,...e){Qh.logLevel<=ze.WARN&&Qh.warn(`Auth (${tl}): ${r}`,...e)}function Mh(r,...e){Qh.logLevel<=ze.ERROR&&Qh.error(`Auth (${tl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r,...e){throw up(r,...e)}function Jr(r,...e){return up(r,...e)}function g0(r,e,n){const a={...QI(),[e]:n};return new Lu("auth","Firebase",a).create(e,{appName:r.name})}function Oi(r){return g0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function up(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return m0.create(r,...e)}function be(r,e,...n){if(!r)throw up(e,...n)}function Di(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Mh(e),new Error(e)}function ji(r,e){r||Di(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){return typeof self<"u"&&self.location?.href||""}function $I(){return eT()==="http:"||eT()==="https:"}function eT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($I()||RC()||"connection"in navigator)?navigator.onLine:!0}function WI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=SC()||CC()}get(){return XI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r,e){ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eD=new zu(3e4,6e4);function qa(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ha(r,e,n,a,o={}){return y0(r,o,async()=>{let u={},h={};a&&(e==="GET"?h=a:u={body:JSON.stringify(a)});const m=Uu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return AC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&el(r.emulatorConfig.host)&&(g.credentials="include"),p0.fetch()(await v0(r,r.config.apiHost,n,m),g)})}async function y0(r,e,n){r._canInitEmulator=!1;const a={...JI,...e};try{const o=new nD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw bh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw bh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw bh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw bh(r,"user-disabled",h);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw g0(r,T,g);wr(r,T)}}catch(o){if(o instanceof qi)throw o;wr(r,"network-request-failed",{message:String(o)})}}async function Bu(r,e,n,a,o={}){const u=await Ha(r,e,n,a,o);return"mfaPendingCredential"in u&&wr(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function v0(r,e,n,a){const o=`${e}${n}?${a}`,u=r,h=u.config.emulator?cp(r.config,o):`${r.config.apiScheme}://${o}`;return ZI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function tD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Jr(this.auth,"network-request-failed")),eD.get())})}}function bh(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Jr(r,e,a);return o.customData._tokenResponse=n,o}function tT(r){return r!==void 0&&r.enterprise!==void 0}class rD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function iD(r,e){return Ha(r,"GET","/v2/recaptchaConfig",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(r,e){return Ha(r,"POST","/v1/accounts:delete",e)}async function Kh(r,e){return Ha(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sD(r,e=!1){const n=Wt(r),a=await n.getIdToken(e),o=hp(a);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:a,authTime:Eu($m(o.auth_time)),issuedAtTime:Eu($m(o.iat)),expirationTime:Eu($m(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function $m(r){return Number(r)*1e3}function hp(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=t0(n);return o?JSON.parse(o):(Mh("Failed to decode base64 JWT payload"),null)}catch(o){return Mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function nT(r){const e=hp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof qi&&oD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function oD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(r){const e=r.auth,n=await r.getIdToken(),a=await Cu(r,Kh(e,{idToken:n}));be(a?.users.length,e,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?_0(o.providerUserInfo):[],h=cD(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new vg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function uD(r){const e=Wt(r);await $h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cD(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function _0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(r,e){const n=await y0(r,{},async()=>{const a=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await v0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&el(r.emulatorConfig.host)&&(p.credentials="include"),p0.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fD(r,e){return Ha(r,"POST","/v2/accounts:revokeToken",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=nT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await hD(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,h=new Uo;return a&&(be(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(be(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return Di("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class br{constructor({uid:e,auth:n,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new lD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sD(this,e)}reload(){return uD(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await $h(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await Cu(this,aD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:x,providerData:Y,stsTokenManager:F}=n;be(b&&F,e,"internal-error");const U=Uo.fromJSON(this.name,F);be(typeof b=="string",e,"internal-error"),Sa(a,e.name),Sa(o,e.name),be(typeof A=="boolean",e,"internal-error"),be(typeof x=="boolean",e,"internal-error"),Sa(u,e.name),Sa(h,e.name),Sa(m,e.name),Sa(p,e.name),Sa(g,e.name),Sa(T,e.name);const L=new br({uid:b,auth:e,email:o,emailVerified:A,displayName:a,isAnonymous:x,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:T});return Y&&Array.isArray(Y)&&(L.providerData=Y.map($=>({...$}))),p&&(L._redirectEventId=p),L}static async _fromIdTokenResponse(e,n,a=!1){const o=new Uo;o.updateFromServerResponse(n);const u=new br({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await $h(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new Uo;m.updateFromIdToken(a);const p=new br({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new vg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=new Map;function Ni(r){ji(r instanceof Function,"Expected a class definition");let e=rT.get(r);return e?(ji(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,rT.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}E0.type="NONE";const iT=E0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r,e,n){return`firebase:${r}:${e}:${n}`}class zo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=Vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Kh(this.auth,{idToken:e}).catch(()=>{});return n?br._fromGetAccountInfoResponse(this.auth,n,e):null}return br._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new zo(Ni(iT),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ni(iT);const h=Vh(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(h);if(T){let b;if(typeof T=="string"){const A=await Kh(e,{idToken:T}).catch(()=>{});if(!A)break;b=await br._fromGetAccountInfoResponse(e,A,T)}else b=br._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new zo(u,e,a):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new zo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(T0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(R0(e))return"Blackberry";if(C0(e))return"Webos";if(b0(e))return"Safari";if((e.includes("chrome/")||S0(e))&&!e.includes("edge/"))return"Chrome";if(A0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function T0(r=yn()){return/firefox\//i.test(r)}function b0(r=yn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S0(r=yn()){return/crios\//i.test(r)}function w0(r=yn()){return/iemobile/i.test(r)}function A0(r=yn()){return/android/i.test(r)}function R0(r=yn()){return/blackberry/i.test(r)}function C0(r=yn()){return/webos/i.test(r)}function fp(r=yn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dD(r=yn()){return fp(r)&&!!window.navigator?.standalone}function mD(){return IC()&&document.documentMode===10}function I0(r=yn()){return fp(r)||A0(r)||C0(r)||R0(r)||/windows phone/i.test(r)||w0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r,e=[]){let n;switch(r){case"Browser":n=aT(yn());break;case"Worker":n=`${aT(yn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tl}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(r,e={}){return Ha(r,"GET","/v2/passwordPolicy",qa(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=6;class vD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??yD,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sT(this),this.idTokenSubscription=new sT(this),this.beforeStateQueue=new gD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ni(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Kh(this,{idToken:e}),a=await br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(or(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(a=m.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $h(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Oi(this));const n=e?Wt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await pD(this),n=new vD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await fD(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ni(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&KI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ks(r){return Wt(r)}class sT{constructor(e){this.auth=e,this.observer=null,this.addObserver=kC(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ED(r){pf=r}function N0(r){return pf.loadJS(r)}function TD(){return pf.recaptchaEnterpriseScript}function bD(){return pf.gapiScript}function SD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class wD{constructor(){this.enterprise=new AD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const RD="recaptcha-enterprise",x0="NO_RECAPTCHA";class CD{constructor(e){this.type=RD,this.auth=ks(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{iD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new rD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;tT(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(x0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wD().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{a(this.auth).then(m=>{if(!n&&tT(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=TD();p.length!==0&&(p+=m),N0(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function oT(r,e,n,a=!1,o=!1){const u=new CD(r);let h;if(o)h=x0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function _g(r,e,n,a,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await oT(r,e,n,n==="getOobCode");return a(r,u)}else return a(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await oT(r,e,n,n==="getOobCode");return a(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(r,e){const n=lp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Pi(u,e??{}))return o;wr(o,"already-initialized")}return n.initialize({options:e})}function DD(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Ni);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function ND(r,e,n){const a=ks(r);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=O0(e),{host:h,port:m}=xD(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},T=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(Pi(g,a.config.emulator)&&Pi(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,el(h)?(a0(`${u}//${h}${p}`),s0("Auth",!0)):OD()}function O0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function xD(r){const e=O0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:lT(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:lT(h)}}}function lT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function OD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Di("not implemented")}_getIdTokenResponse(e){return Di("not implemented")}_linkToIdToken(e,n){return Di("not implemented")}_getReauthenticationResolver(e){return Di("not implemented")}}async function MD(r,e){return Ha(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(r,e){return Bu(r,"POST","/v1/accounts:signInWithPassword",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(r,e){return Bu(r,"POST","/v1/accounts:signInWithEmailLink",qa(r,e))}async function kD(r,e){return Bu(r,"POST","/v1/accounts:signInWithEmailLink",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends dp{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Iu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new Iu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,n,"signInWithPassword",VD);case"emailLink":return PD(e,{email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _g(e,a,"signUpPassword",MD);case"emailLink":return kD(e,{idToken:n,email:this._email,oobCode:this._password});default:wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r,e){return Bu(r,"POST","/v1/accounts:signInWithIdp",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class Ns extends dp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):wr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...u}=n;if(!a||!o)return null;const h=new Ns(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Bo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UD(r){const e=fu(du(r)).link,n=e?fu(du(e)).deep_link_id:null,a=fu(du(r)).deep_link_id;return(a?fu(du(a)).link:null)||a||n||e||r}class mp{constructor(e){const n=fu(du(e)),a=n.apiKey??null,o=n.oobCode??null,u=LD(n.mode??null);be(a&&o&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=UD(e);try{return new mp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(){this.providerId=nl.PROVIDER_ID}static credential(e,n){return Iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=mp.parseLink(n);return be(a,"argument-error"),Iu._fromEmailAndCode(e,a.code,a.tenantId)}}nl.PROVIDER_ID="password";nl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends M0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends qu{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ra.credential(e.oauthAccessToken)}catch{return null}}}Ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Ca.credential(n,a)}catch{return null}}}Ca.GOOGLE_SIGN_IN_METHOD="google.com";Ca.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends qu{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.GITHUB_SIGN_IN_METHOD="github.com";Ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends qu{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Da.credential(n,a)}catch{return null}}}Da.TWITTER_SIGN_IN_METHOD="twitter.com";Da.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(r,e){return Bu(r,"POST","/v1/accounts:signUp",qa(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await br._fromIdTokenResponse(e,a,o),h=uT(a);return new xs({user:u,providerId:h,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=uT(a);return new xs({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function uT(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends qi{constructor(e,n,a,o){super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Xh(e,n,a,o)}}function V0(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xh._fromErrorAndOperation(r,u,e,a):u})}async function BD(r,e,n=!1){const a=await Cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return xs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(r,e,n=!1){const{auth:a}=r;if(or(a.app))return Promise.reject(Oi(a));const o="reauthenticate";try{const u=await Cu(r,V0(a,o,e,r),n);be(u.idToken,a,"internal-error");const h=hp(u.idToken);be(h,a,"internal-error");const{sub:m}=h;return be(r.uid===m,a,"user-mismatch"),xs._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&wr(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(r,e,n=!1){if(or(r.app))return Promise.reject(Oi(r));const a="signIn",o=await V0(r,a,e),u=await xs._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function HD(r,e){return P0(ks(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(r){const e=ks(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function FD(r,e,n){if(or(r.app))return Promise.reject(Oi(r));const a=ks(r),h=await _g(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&k0(r),p}),m=await xs._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(m.user),m}function GD(r,e,n){return or(r.app)?Promise.reject(Oi(r)):HD(Wt(r),nl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&k0(r),a})}function YD(r,e,n,a){return Wt(r).onIdTokenChanged(e,n,a)}function QD(r,e,n){return Wt(r).beforeAuthStateChanged(e,n)}function js(r,e,n,a){return Wt(r).onAuthStateChanged(e,n,a)}function KD(r){return Wt(r).signOut()}const Wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wh,"1"),this.storage.removeItem(Wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=1e3,XD=10;class L0 extends j0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=I0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);mD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,XD):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},$D)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L0.type="LOCAL";const WD=L0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends j0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U0.type="SESSION";const z0=U0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new yf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await JD(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=gp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function eN(r){Zr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function tN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nN(){return navigator?.serviceWorker?.controller||null}function rN(){return B0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebaseLocalStorageDb",iN=1,Jh="firebaseLocalStorage",H0="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(r,e){return r.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function aN(){const r=indexedDB.deleteDatabase(q0);return new Hu(r).toPromise()}function Eg(){const r=indexedDB.open(q0,iN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Jh,{keyPath:H0})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Jh)?e(a):(a.close(),await aN(),e(await Eg()))})})}async function cT(r,e,n){const a=vf(r,!0).put({[H0]:e,value:n});return new Hu(a).toPromise()}async function sN(r,e){const n=vf(r,!1).get(e),a=await new Hu(n).toPromise();return a===void 0?null:a.value}function hT(r,e){const n=vf(r,!0).delete(e);return new Hu(n).toPromise()}const oN=800,lN=3;class F0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>lN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(rN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tN(),!this.activeServiceWorker)return;this.sender=new ZD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await cT(e,Wh,"1"),await hT(e,Wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>cT(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>sN(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vf(o,!1).getAll();return new Hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F0.type="LOCAL";const uN=F0;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(r,e){return e?Ni(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hN(r){return P0(r.auth,new pp(r),r.bypassAuthState)}function fN(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),qD(n,new pp(r),r.bypassAuthState)}async function dN(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),BD(n,new pp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hN;case"linkViaPopup":case"linkViaRedirect":return dN;case"reauthViaPopup":case"reauthViaRedirect":return fN;default:wr(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new zu(2e3,1e4);class ko extends G0{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,mN.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="pendingRedirect",Ph=new Map;class pN extends G0{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Ph.get(this.auth._key());if(!e){try{const a=await yN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Ph.set(this.auth._key(),e)}return this.bypassAuthState||Ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yN(r,e){const n=EN(e),a=_N(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function vN(r,e){Ph.set(r._key(),e)}function _N(r){return Ni(r._redirectPersistence)}function EN(r){return Vh(gN,r.config.apiKey,r.name)}async function TN(r,e,n=!1){if(or(r.app))return Promise.reject(Oi(r));const a=ks(r),o=cN(a,e),h=await new pN(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=600*1e3;class SN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Y0(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Jr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bN&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(e))}saveEventToCache(e){this.cachedEventUids.add(fT(e)),this.lastProcessedEventTime=Date.now()}}function fT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Y0({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function wN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(r,e={}){return Ha(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CN=/^https?/;async function IN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await AN(r);for(const n of e)try{if(DN(n))return}catch{}wr(r,"unauthorized-domain")}function DN(r){const e=yg(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!CN.test(n))return!1;if(RN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new zu(3e4,6e4);function dT(){const r=Zr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function xN(r){return new Promise((e,n)=>{function a(){dT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{dT(),n(Jr(r,"network-request-failed"))},timeout:NN.get()})}if(Zr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zr().gapi?.load)a();else{const o=SD("iframefcb");return Zr()[o]=()=>{gapi.load?a():n(Jr(r,"network-request-failed"))},N0(`${bD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw kh=null,e})}let kh=null;function ON(r){return kh=kh||xN(r),kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new zu(5e3,15e3),VN="__/auth/iframe",PN="emulator/auth/iframe",kN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?cp(e,PN):`https://${r.config.authDomain}/${VN}`,a={apiKey:e.apiKey,appName:r.name,v:tl},o=jN.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Uu(a).slice(1)}`}async function UN(r){const e=await ON(r),n=Zr().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:LN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kN,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const h=Jr(r,"network-request-failed"),m=Zr().setTimeout(()=>{u(h)},MN.get());function p(){Zr().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BN=500,qN=600,HN="_blank",FN="http://localhost";class mT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GN(r,e,n,a=BN,o=qN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...zN,width:a.toString(),height:o.toString(),top:u,left:h},g=yn().toLowerCase();n&&(m=S0(g)?HN:n),T0(g)&&(e=e||FN,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[x,Y])=>`${A}${x}=${Y},`,"");if(dD(g)&&m!=="_self")return YN(e||"",m),new mT(null);const b=window.open(e||"",m,T);be(b,r,"popup-blocked");try{b.focus()}catch{}return new mT(b)}function YN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="__/auth/handler",KN="emulator/auth/handler",$N=encodeURIComponent("fac");async function gT(r,e,n,a,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:tl,eventId:o};if(e instanceof M0){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",PC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))h[T]=b}if(e instanceof qu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(h.scopes=T.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${$N}=${encodeURIComponent(p)}`:"";return`${XN(r)}?${Uu(m).slice(1)}${g}`}function XN({config:r}){return r.emulator?cp(r,KN):`https://${r.authDomain}/${QN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class WN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z0,this._completeRedirectFn=TN,this._overrideRedirectResult=vN}async _openPopup(e,n,a,o){ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await gT(e,n,a,yg(),o);return GN(e,u,gp())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await gT(e,n,a,yg(),o);return eN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ji(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await UN(e),a=new SN(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xm,{type:Xm},o=>{const u=o?.[0]?.[Xm];u!==void 0&&n(!!u),wr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return I0()||b0()||fp()}}const JN=WN;var pT="@firebase/auth",yT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tx(r){Fo(new Ds("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;be(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D0(r)},g=new _D(a,o,u,p);return DD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Fo(new Ds("auth-internal",e=>{const n=ks(e.getProvider("auth").getImmediate());return(a=>new ZN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ma(pT,yT,ex(r)),Ma(pT,yT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=300,rx=i0("authIdTokenMaxAge")||nx;let vT=null;const ix=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>rx)return;const o=n?.token;vT!==o&&(vT=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ax(r=c0()){const e=lp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=ID(r,{popupRedirectResolver:JN,persistence:[uN,WD,z0]}),a=i0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=ix(u.toString());QD(n,h,()=>h(n.currentUser)),YD(n,m=>h(m))}}const o=n0("auth");return o&&ND(n,`http://${o}`),n}function sx(){return document.getElementsByTagName("head")?.[0]??document}ED({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=Jr("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",sx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tx("Browser");var ox="firebase",lx="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ma(ox,lx,"app");var _T=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Va,Q0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function I(){}I.prototype=C.prototype,D.F=C.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(V,M,k){for(var R=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)R[pe-2]=arguments[pe];return C.prototype[M].apply(V,R)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,C,I){I||(I=0);const V=Array(16);if(typeof C=="string")for(var M=0;M<16;++M)V[M]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(M=0;M<16;++M)V[M]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=D.g[0],I=D.g[1],M=D.g[2];let k=D.g[3],R;R=C+(k^I&(M^k))+V[0]+3614090360&4294967295,C=I+(R<<7&4294967295|R>>>25),R=k+(M^C&(I^M))+V[1]+3905402710&4294967295,k=C+(R<<12&4294967295|R>>>20),R=M+(I^k&(C^I))+V[2]+606105819&4294967295,M=k+(R<<17&4294967295|R>>>15),R=I+(C^M&(k^C))+V[3]+3250441966&4294967295,I=M+(R<<22&4294967295|R>>>10),R=C+(k^I&(M^k))+V[4]+4118548399&4294967295,C=I+(R<<7&4294967295|R>>>25),R=k+(M^C&(I^M))+V[5]+1200080426&4294967295,k=C+(R<<12&4294967295|R>>>20),R=M+(I^k&(C^I))+V[6]+2821735955&4294967295,M=k+(R<<17&4294967295|R>>>15),R=I+(C^M&(k^C))+V[7]+4249261313&4294967295,I=M+(R<<22&4294967295|R>>>10),R=C+(k^I&(M^k))+V[8]+1770035416&4294967295,C=I+(R<<7&4294967295|R>>>25),R=k+(M^C&(I^M))+V[9]+2336552879&4294967295,k=C+(R<<12&4294967295|R>>>20),R=M+(I^k&(C^I))+V[10]+4294925233&4294967295,M=k+(R<<17&4294967295|R>>>15),R=I+(C^M&(k^C))+V[11]+2304563134&4294967295,I=M+(R<<22&4294967295|R>>>10),R=C+(k^I&(M^k))+V[12]+1804603682&4294967295,C=I+(R<<7&4294967295|R>>>25),R=k+(M^C&(I^M))+V[13]+4254626195&4294967295,k=C+(R<<12&4294967295|R>>>20),R=M+(I^k&(C^I))+V[14]+2792965006&4294967295,M=k+(R<<17&4294967295|R>>>15),R=I+(C^M&(k^C))+V[15]+1236535329&4294967295,I=M+(R<<22&4294967295|R>>>10),R=C+(M^k&(I^M))+V[1]+4129170786&4294967295,C=I+(R<<5&4294967295|R>>>27),R=k+(I^M&(C^I))+V[6]+3225465664&4294967295,k=C+(R<<9&4294967295|R>>>23),R=M+(C^I&(k^C))+V[11]+643717713&4294967295,M=k+(R<<14&4294967295|R>>>18),R=I+(k^C&(M^k))+V[0]+3921069994&4294967295,I=M+(R<<20&4294967295|R>>>12),R=C+(M^k&(I^M))+V[5]+3593408605&4294967295,C=I+(R<<5&4294967295|R>>>27),R=k+(I^M&(C^I))+V[10]+38016083&4294967295,k=C+(R<<9&4294967295|R>>>23),R=M+(C^I&(k^C))+V[15]+3634488961&4294967295,M=k+(R<<14&4294967295|R>>>18),R=I+(k^C&(M^k))+V[4]+3889429448&4294967295,I=M+(R<<20&4294967295|R>>>12),R=C+(M^k&(I^M))+V[9]+568446438&4294967295,C=I+(R<<5&4294967295|R>>>27),R=k+(I^M&(C^I))+V[14]+3275163606&4294967295,k=C+(R<<9&4294967295|R>>>23),R=M+(C^I&(k^C))+V[3]+4107603335&4294967295,M=k+(R<<14&4294967295|R>>>18),R=I+(k^C&(M^k))+V[8]+1163531501&4294967295,I=M+(R<<20&4294967295|R>>>12),R=C+(M^k&(I^M))+V[13]+2850285829&4294967295,C=I+(R<<5&4294967295|R>>>27),R=k+(I^M&(C^I))+V[2]+4243563512&4294967295,k=C+(R<<9&4294967295|R>>>23),R=M+(C^I&(k^C))+V[7]+1735328473&4294967295,M=k+(R<<14&4294967295|R>>>18),R=I+(k^C&(M^k))+V[12]+2368359562&4294967295,I=M+(R<<20&4294967295|R>>>12),R=C+(I^M^k)+V[5]+4294588738&4294967295,C=I+(R<<4&4294967295|R>>>28),R=k+(C^I^M)+V[8]+2272392833&4294967295,k=C+(R<<11&4294967295|R>>>21),R=M+(k^C^I)+V[11]+1839030562&4294967295,M=k+(R<<16&4294967295|R>>>16),R=I+(M^k^C)+V[14]+4259657740&4294967295,I=M+(R<<23&4294967295|R>>>9),R=C+(I^M^k)+V[1]+2763975236&4294967295,C=I+(R<<4&4294967295|R>>>28),R=k+(C^I^M)+V[4]+1272893353&4294967295,k=C+(R<<11&4294967295|R>>>21),R=M+(k^C^I)+V[7]+4139469664&4294967295,M=k+(R<<16&4294967295|R>>>16),R=I+(M^k^C)+V[10]+3200236656&4294967295,I=M+(R<<23&4294967295|R>>>9),R=C+(I^M^k)+V[13]+681279174&4294967295,C=I+(R<<4&4294967295|R>>>28),R=k+(C^I^M)+V[0]+3936430074&4294967295,k=C+(R<<11&4294967295|R>>>21),R=M+(k^C^I)+V[3]+3572445317&4294967295,M=k+(R<<16&4294967295|R>>>16),R=I+(M^k^C)+V[6]+76029189&4294967295,I=M+(R<<23&4294967295|R>>>9),R=C+(I^M^k)+V[9]+3654602809&4294967295,C=I+(R<<4&4294967295|R>>>28),R=k+(C^I^M)+V[12]+3873151461&4294967295,k=C+(R<<11&4294967295|R>>>21),R=M+(k^C^I)+V[15]+530742520&4294967295,M=k+(R<<16&4294967295|R>>>16),R=I+(M^k^C)+V[2]+3299628645&4294967295,I=M+(R<<23&4294967295|R>>>9),R=C+(M^(I|~k))+V[0]+4096336452&4294967295,C=I+(R<<6&4294967295|R>>>26),R=k+(I^(C|~M))+V[7]+1126891415&4294967295,k=C+(R<<10&4294967295|R>>>22),R=M+(C^(k|~I))+V[14]+2878612391&4294967295,M=k+(R<<15&4294967295|R>>>17),R=I+(k^(M|~C))+V[5]+4237533241&4294967295,I=M+(R<<21&4294967295|R>>>11),R=C+(M^(I|~k))+V[12]+1700485571&4294967295,C=I+(R<<6&4294967295|R>>>26),R=k+(I^(C|~M))+V[3]+2399980690&4294967295,k=C+(R<<10&4294967295|R>>>22),R=M+(C^(k|~I))+V[10]+4293915773&4294967295,M=k+(R<<15&4294967295|R>>>17),R=I+(k^(M|~C))+V[1]+2240044497&4294967295,I=M+(R<<21&4294967295|R>>>11),R=C+(M^(I|~k))+V[8]+1873313359&4294967295,C=I+(R<<6&4294967295|R>>>26),R=k+(I^(C|~M))+V[15]+4264355552&4294967295,k=C+(R<<10&4294967295|R>>>22),R=M+(C^(k|~I))+V[6]+2734768916&4294967295,M=k+(R<<15&4294967295|R>>>17),R=I+(k^(M|~C))+V[13]+1309151649&4294967295,I=M+(R<<21&4294967295|R>>>11),R=C+(M^(I|~k))+V[4]+4149444226&4294967295,C=I+(R<<6&4294967295|R>>>26),R=k+(I^(C|~M))+V[11]+3174756917&4294967295,k=C+(R<<10&4294967295|R>>>22),R=M+(C^(k|~I))+V[2]+718787259&4294967295,M=k+(R<<15&4294967295|R>>>17),R=I+(k^(M|~C))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+k&4294967295}a.prototype.v=function(D,C){C===void 0&&(C=D.length);const I=C-this.blockSize,V=this.C;let M=this.h,k=0;for(;k<C;){if(M==0)for(;k<=I;)o(this,D,k),k+=this.blockSize;if(typeof D=="string"){for(;k<C;)if(V[M++]=D.charCodeAt(k++),M==this.blockSize){o(this,V),M=0;break}}else for(;k<C;)if(V[M++]=D[k++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=C},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)D[C++]=this.g[I]>>>V&255;return D};function u(D,C){var I=m;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=C(D)}function h(D,C){this.h=C;const I=[];let V=!0;for(let M=D.length-1;M>=0;M--){const k=D[M]|0;V&&k==C||(I[M]=k,V=!1)}this.g=I}var m={};function p(D){return-128<=D&&D<128?u(D,function(C){return new h([C|0],C<0?-1:0)}):new h([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return U(g(-D));const C=[];let I=1;for(let V=0;D>=I;V++)C[V]=D/I|0,I*=4294967296;return new h(C,0)}function T(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return U(T(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(C,8));let V=b;for(let k=0;k<D.length;k+=8){var M=Math.min(8,D.length-k);const R=parseInt(D.substring(k,k+M),C);M<8?(M=g(Math.pow(C,M)),V=V.j(M).add(g(R))):(V=V.j(I),V=V.add(g(R)))}return V}var b=p(0),A=p(1),x=p(16777216);r=h.prototype,r.m=function(){if(F(this))return-U(this).m();let D=0,C=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);D+=(V>=0?V:4294967296+V)*C,C*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(Y(this))return"0";if(F(this))return"-"+U(this).toString(D);const C=g(Math.pow(D,6));var I=this;let V="";for(;;){const M=oe(I,C).g;I=L(I,M.j(C));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=M,Y(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function Y(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function F(D){return D.h==-1}r.l=function(D){return D=L(this,D),F(D)?-1:Y(D)?0:1};function U(D){const C=D.g.length,I=[];for(let V=0;V<C;V++)I[V]=~D.g[V];return new h(I,~D.h).add(A)}r.abs=function(){return F(this)?U(this):this},r.add=function(D){const C=Math.max(this.g.length,D.g.length),I=[];let V=0;for(let M=0;M<=C;M++){let k=V+(this.i(M)&65535)+(D.i(M)&65535),R=(k>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);V=R>>>16,k&=65535,R&=65535,I[M]=R<<16|k}return new h(I,I[I.length-1]&-2147483648?-1:0)};function L(D,C){return D.add(U(C))}r.j=function(D){if(Y(this)||Y(D))return b;if(F(this))return F(D)?U(this).j(U(D)):U(U(this).j(D));if(F(D))return U(this.j(U(D)));if(this.l(x)<0&&D.l(x)<0)return g(this.m()*D.m());const C=this.g.length+D.g.length,I=[];for(var V=0;V<2*C;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<D.g.length;M++){const k=this.i(V)>>>16,R=this.i(V)&65535,pe=D.i(M)>>>16,Pe=D.i(M)&65535;I[2*V+2*M]+=R*Pe,$(I,2*V+2*M),I[2*V+2*M+1]+=k*Pe,$(I,2*V+2*M+1),I[2*V+2*M+1]+=R*pe,$(I,2*V+2*M+1),I[2*V+2*M+2]+=k*pe,$(I,2*V+2*M+2)}for(D=0;D<C;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=C;D<2*C;D++)I[D]=0;return new h(I,0)};function $(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function W(D,C){this.g=D,this.h=C}function oe(D,C){if(Y(C))throw Error("division by zero");if(Y(D))return new W(b,b);if(F(D))return C=oe(U(D),C),new W(U(C.g),U(C.h));if(F(C))return C=oe(D,U(C)),new W(U(C.g),C.h);if(D.g.length>30){if(F(D)||F(C))throw Error("slowDivide_ only works with positive integers.");for(var I=A,V=C;V.l(D)<=0;)I=ge(I),V=ge(V);var M=me(I,1),k=me(V,1);for(V=me(V,2),I=me(I,2);!Y(V);){var R=k.add(V);R.l(D)<=0&&(M=M.add(I),k=R),V=me(V,1),I=me(I,1)}return C=L(D,M.j(C)),new W(M,C)}for(M=b;D.l(C)>=0;){for(I=Math.max(1,Math.floor(D.m()/C.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=g(I),R=k.j(C);F(R)||R.l(D)>0;)I-=V,k=g(I),R=k.j(C);Y(k)&&(k=A),M=M.add(k),D=L(D,R)}return new W(M,D)}r.B=function(D){return oe(this,D).h},r.and=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)&D.i(V);return new h(I,this.h&D.h)},r.or=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)|D.i(V);return new h(I,this.h|D.h)},r.xor=function(D){const C=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<C;V++)I[V]=this.i(V)^D.i(V);return new h(I,this.h^D.h)};function ge(D){const C=D.g.length+1,I=[];for(let V=0;V<C;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new h(I,D.h)}function me(D,C){const I=C>>5;C%=32;const V=D.g.length-I,M=[];for(let k=0;k<V;k++)M[k]=C>0?D.i(k+I)>>>C|D.i(k+I+1)<<32-C:D.i(k+I);return new h(M,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Q0=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=T,Va=h}).apply(typeof _T<"u"?_T:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K0,mu,$0,jh,Tg,X0,W0,J0;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var E=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in E))break e;E=E[B]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,B,K){for(var ae=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)ae[xe-2]=arguments[xe];return y.prototype[B].apply(w,ae)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function x(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function Y(c,y){for(let w=1;w<arguments.length;w++){const B=arguments[w];var E=typeof B;if(E=E!="object"?E:B?Array.isArray(B)?"array":E:"null",E=="array"||E=="object"&&typeof B.length=="number"){E=c.length||0;const K=B.length||0;c.length=E+K;for(let ae=0;ae<K;ae++)c[E+ae]=B[ae]}else c.push(B)}}class F{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){h.setTimeout(()=>{throw c},0)}function L(){var c=D;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,E){const w=W.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var W=new F(()=>new oe,c=>c.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,me=!1,D=new $,C=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(I)}};function I(){for(var c;c=L();){try{c.h.call(c.g)}catch(E){U(E)}var y=W;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}me=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,y),h.removeEventListener("test",E,y)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function pe(c,y){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(pe,M),pe.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Pe="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(c,y,E,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=B,this.key=++G,this.da=this.fa=!1}function ue(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ce(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function we(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function O(c){const y={};for(const E in c)y[E]=c[E];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(c,y){let E,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(E in w)c[E]=w[E];for(let K=0;K<Z.length;K++)E=Z[K],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,y,E,w,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const ae=Ae(c,y,w,B);return ae>-1?(y=c[ae],E||(y.fa=!1)):(y=new ie(y,this.src,K,!!w,B),y.fa=E,c.push(y)),y};function Te(c,y){const E=y.type;if(E in c.g){var w=c.g[E],B=Array.prototype.indexOf.call(w,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(w,B,1),K&&(ue(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ae(c,y,E,w){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==w)return B}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),ut={};function Ge(c,y,E,w,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)Ge(c,y[K],E,w,B);return null}return E=Fi(E),c&&c[Pe]?c.J(y,E,m(w)?!!w.capture:!1,B):ur(c,y,E,!1,w,B)}function ur(c,y,E,w,B,K){if(!y)throw Error("Invalid event type");const ae=m(B)?!!B.capture:!!B;let xe=Vt(c);if(xe||(c[Ve]=xe=new le(c)),E=xe.add(y,E,w,ae,K),E.proxy)return E;if(w=Rr(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)k||(B=ae),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(Xe(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Rr(){function c(E){return y.call(c.src,c.listener,E)}const y=hr;return c}function cr(c,y,E,w,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)cr(c,y[K],E,w,B);else w=m(w)?!!w.capture:!!w,E=Fi(E),c&&c[Pe]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=Ae(y,E,w,B),E>-1&&(ue(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Vt(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ae(y,E,w,B)),(E=c>-1?y[c]:null)&&Cr(E))}function Cr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Pe])Te(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(Xe(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=Vt(y))?(Te(E,c),E.h==0&&(E.src=null,y[Ve]=null)):ue(c)}}}function Xe(c){return c in ut?ut[c]:ut[c]="on"+c}function hr(c,y){if(c.da)c=!0;else{y=new pe(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&Cr(c),c=E.call(w,y)}return c}function Vt(c){return c=c[Ve],c instanceof le?c:null}var Ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fi(c){return typeof c=="function"?c:(c[Ir]||(c[Ir]=function(y){return c.handleEvent(y)}),c[Ir])}function Et(){V.call(this),this.i=new le(this),this.M=this,this.G=null}b(Et,V),Et.prototype[Pe]=!0,Et.prototype.removeEventListener=function(c,y,E,w){cr(this,c,y,E,w)};function It(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new M(y,c);else if(y instanceof M)y.target=y.target||c;else{var B=y;y=new M(w,c),se(y,B)}B=!0;let K,ae;if(E)for(ae=E.length-1;ae>=0;ae--)K=y.g=E[ae],B=Dr(K,w,!0,y)&&B;if(K=y.g=c,B=Dr(K,w,!0,y)&&B,B=Dr(K,w,!1,y)&&B,E)for(ae=0;ae<E.length;ae++)K=y.g=E[ae],B=Dr(K,w,!1,y)&&B}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)ue(E[w]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},Et.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function Dr(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const ae=y[K];if(ae&&!ae.da&&ae.capture==E){const xe=ae.listener,Dt=ae.ha||ae.src;ae.fa&&Te(c.i,ae),B=xe.call(Dt,w)!==!1&&B}}return B&&!w.defaultPrevented}function cl(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Ka(c){c.g=cl(()=>{c.g=null,c.i&&(c.i=!1,Ka(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Jt extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ka(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function li(c){V.call(this),this.h=c,this.g={}}b(li,V);var $a=[];function Xa(c){Ce(c.g,function(y,E){this.g.hasOwnProperty(E)&&Cr(y)},c),c.g={}}li.prototype.N=function(){li.Z.N.call(this),Xa(this)},li.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nr=h.JSON.stringify,Wa=h.JSON.parse,Ja=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Za(){}function Hs(){}var cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pt(){M.call(this,"d")}b(Pt,M);function bn(){M.call(this,"c")}b(bn,M);var pt={},es=null;function xr(){return es=es||new Et}pt.Ia="serverreachability";function Fs(c){M.call(this,pt.Ia,c)}b(Fs,M);function Mn(c){const y=xr();It(y,new Fs(y))}pt.STAT_EVENT="statevent";function ui(c,y){M.call(this,pt.STAT_EVENT,c),this.stat=y}b(ui,M);function Tt(c){const y=xr();It(y,new ui(y,c))}pt.Ja="timingevent";function ct(c,y){M.call(this,pt.Ja,c),this.size=y}b(ct,M);function ht(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function hn(){this.g=!0}hn.prototype.ua=function(){this.g=!1};function at(c,y,E,w,B,K){c.info(function(){if(c.g)if(K){var ae="",xe=K.split("&");for(let Ke=0;Ke<xe.length;Ke++){var Dt=xe[Ke].split("=");if(Dt.length>1){const yt=Dt[0];Dt=Dt[1];const Jn=yt.split("_");ae=Jn.length>=2&&Jn[1]=="type"?ae+(yt+"="+Dt+"&"):ae+(yt+"=redacted&")}}}else ae=null;else ae=K;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+E+`
`+ae})}function vn(c,y,E,w,B,K,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+E+`
`+K+" "+ae})}function Qn(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Gs(c,E)+(w?" "+w:"")})}function fr(c,y){c.info(function(){return"TIMEOUT: "+y})}hn.prototype.info=function(){};function Gs(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var B=w[0];if(B!="noop"&&B!="stop"&&B!="close")for(let ae=1;ae<w.length;ae++)w[ae]=""}}}}return Nr(K)}catch{return y}}var Or={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ci={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mr;function dr(){}b(dr,Za),dr.prototype.g=function(){return new XMLHttpRequest},Mr=new dr;function Vn(c){return encodeURIComponent(String(c))}function Gi(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Pn(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new li(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _n}function _n(){this.i=null,this.g="",this.h=!1}var bt={},kt={};function Kn(c,y,E){c.M=1,c.A=ts(Lt(y)),c.u=E,c.R=!0,Ne(c,null)}function Ne(c,y){c.F=Date.now(),At(c),c.B=Lt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Ks(E.i,"t",w),c.C=0,E=c.j.L,c.h=new _n,c.g=mc(c.j,E?y:null,!c.u),c.P>0&&(c.O=new Jt(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var B="readystatechange";Array.isArray(B)||(B&&($a[0]=B.toString()),B=$a);for(let K=0;K<B.length;K++){const ae=Ge(E,B[K],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),Mn(),at(c.i,c.v,c.B,c.l,c.S,c.u)}Pn.prototype.ba=function(c){c=c.target;const y=this.O;y&&pr(c)==3?y.j():this.Y(c)},Pn.prototype.Y=function(c){try{if(c==this.g)e:{const xe=pr(this.g),Dt=this.g.ya(),Ke=this.g.ca();if(!(xe<3)&&(xe!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||xe!=4||Dt==7||(Dt==8||Ke<=0?Mn(3):Mn(2)),$n(this);var y=this.g.ca();this.X=y;var E=ot(this);if(this.o=y==200,vn(this.i,this.v,this.B,this.l,this.S,xe,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,B=this.g;if((w=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var K=w;break t}}K=null}if(c=K)Qn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Pr(this,c);else{this.o=!1,this.m=3,Tt(12),kn(this),Sn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<E.length;)if(yt=fn(this,E),yt==kt){xe==4&&(this.m=4,Tt(14),c=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==bt){this.m=4,Tt(15),Qn(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Qn(this.i,this.l,yt,null),Pr(this,yt);if(ft(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xe!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)Qn(this.i,this.l,E,"[Invalid Chunked Response]"),kn(this),Sn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Al(ae),ae.P=!0,Tt(11))}}else Qn(this.i,this.l,E,null),Pr(this,E);xe==4&&kn(this),this.o&&!this.K&&(xe==4?cc(this.j,this):(this.o=!1,At(this)))}else fi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),kn(this),Sn(this)}}}catch{}finally{}};function ot(c){if(!ft(c))return c.g.la();const y=Zt(c.g);if(y==="")return"";let E="";const w=y.length,B=pr(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return kn(c),Sn(c),"";c.h.i=new h.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(B&&K==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function ft(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function fn(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?kt:(E=Number(y.substring(E,w)),isNaN(E)?bt:(w+=1,w+E>y.length?kt:(y=y.slice(w,w+E),c.C=w+E,y)))}Pn.prototype.cancel=function(){this.K=!0,kn(this)};function At(c){c.T=Date.now()+c.H,Vr(c,c.H)}function Vr(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ht(g(c.aa,c),y)}function $n(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Pn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(fr(this.i,this.B),this.M!=2&&(Mn(),Tt(17)),kn(this),this.m=2,Sn(this)):Vr(this,this.T-c)};function Sn(c){c.j.I==0||c.K||cc(c.j,c)}function kn(c){$n(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Xa(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Pr(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||jr(E.h,c))){if(!c.L&&jr(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Zs(E),Zi(E);else break e;ls(E),Tt(18)}}else E.xa=B[1],0<E.xa-E.K&&B[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ht(g(E.Va,E),6e3));kr(E.h)<=1&&E.ta&&(E.ta=void 0)}else Hr(E,11)}else if((c.L||E.g==c)&&Zs(E),!R(y))for(B=E.Ba.g.parse(y),y=0;y<B.length;y++){let Ke=B[y];const yt=Ke[0];if(!(yt<=E.K))if(E.K=yt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Jn=Ke[3];Jn!=null&&(E.ka=Jn,E.j.info("VER="+E.ka));const Fr=Ke[4];Fr!=null&&(E.za=Fr,E.j.info("SVER="+E.za));const yr=Ke[5];yr!=null&&typeof yr=="number"&&yr>0&&(w=1.5*yr,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const vr=c.g;if(vr){const us=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(us){var K=w.h;K.g||us.indexOf("spdy")==-1&&us.indexOf("quic")==-1&&us.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(dl(K,K.h),K.h=null))}if(w.G){const eo=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;eo&&(w.wa=eo,Je(w.J,w.G,eo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ae=c;if(w.na=dc(w,w.L?w.ba:null,w.W),ae.L){ml(w.h,ae);var xe=ae,Dt=w.O;Dt&&(xe.H=Dt),xe.D&&($n(xe),At(xe)),w.g=ae}else lc(w);E.i.length>0&&qr(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Hr(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Hr(E,7):Sl(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}Mn(4)}catch{}}var jt=class{constructor(c,y){this.g=c,this.map=y}};function hl(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function kr(c){return c.h?1:c.g?c.g.size:0}function jr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function dl(c,y){c.g?c.g.add(y):c.h=y}function ml(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}hl.prototype.cancel=function(){if(this.i=gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function gl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return x(c.i)}var nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let B,K=null;w>=0?(B=c[E].substring(0,w),K=c[E].substring(w+1)):B=c[E],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function jn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof jn?(this.l=c.l,Kt(this,c.j),this.o=c.o,this.g=c.g,Yi(this,c.u),this.h=c.h,pl(this,sc(c.i)),this.m=c.m):c&&(y=String(c).match(nc))?(this.l=!1,Kt(this,y[1]||"",!0),this.o=Lr(y[2]||""),this.g=Lr(y[3]||"",!0),Yi(this,y[4]),this.h=Lr(y[5]||"",!0),pl(this,y[6]||"",!0),this.m=Lr(y[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}jn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(ns(y,Qs,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ns(y,Qs,!0),"@"),c.push(Vn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(ns(E,E.charAt(0)=="/"?yl:rc,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",ns(E,ic)),c.join("")},jn.prototype.resolve=function(c){const y=Lt(this);let E=!!c.j;E?Kt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)Yi(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var B=y.h.lastIndexOf("/");B!=-1&&(w=y.h.slice(0,B+1)+w)}if(B=w,B==".."||B==".")w="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){w=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let ae=0;ae<B.length;){const xe=B[ae++];xe=="."?w&&ae==B.length&&K.push(""):xe==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&ae==B.length&&K.push("")):(K.push(xe),w=!0)}w=K.join("/")}else w=B}return E?y.h=w:E=c.i.toString()!=="",E?pl(y,sc(c.i)):E=!!c.m,E&&(y.m=c.m),y};function Lt(c){return new jn(c)}function Kt(c,y,E){c.j=E?Lr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Yi(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function pl(c,y,E){y instanceof Ki?(c.i=y,$s(c.i,c.l)):(E||(y=ns(y,Qi)),c.i=new Ki(y,c.l))}function Je(c,y,E){c.i.set(y,E)}function ts(c){return Je(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Lr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ns(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,wn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qs=/[#\/\?@]/g,rc=/[#\?:]/g,yl=/[#\?]/g,Qi=/[#\?@]/g,ic=/#/g;function Ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&Ys(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Ki.prototype,r.add=function(c,y){An(this),this.i=null,c=$i(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function ac(c,y){An(c),y=$i(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function vl(c,y){return An(c),y=$i(c,y),c.g.has(y)}r.forEach=function(c,y){An(this),this.g.forEach(function(E,w){E.forEach(function(B){c.call(y,B,w,this)},this)},this)};function _l(c,y){An(c);let E=[];if(typeof y=="string")vl(c,y)&&(E=E.concat(c.g.get($i(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return An(this),this.i=null,c=$i(this,c),vl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=_l(this,c),c.length>0?String(c[0]):y):y};function Ks(c,y,E){ac(c,y),E.length>0&&(c.i=null,c.g.set($i(c,y),x(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const B=Vn(E);E=_l(this,E);for(let K=0;K<E.length;K++){let ae=B;E[K]!==""&&(ae+="="+Vn(E[K])),c.push(ae)}}return this.i=c.join("&")};function sc(c){const y=new Ki;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function $i(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function $s(c,y){y&&!c.j&&(An(c),c.i=null,c.g.forEach(function(E,w){const B=w.toLowerCase();w!=B&&(ac(this,w),Ks(this,B,E))},c)),c.j=y}function mr(c,y){const E=new hn;if(h.Image){const w=new Image;w.onload=T(Xn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=T(Xn,E,"TestLoadImage: error",!1,y,w),w.onabort=T(Xn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=T(Xn,E,"TestLoadImage: timeout",!1,y,w),h.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function El(c,y){const E=new hn,w=new AbortController,B=setTimeout(()=>{w.abort(),Xn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(B),K.ok?Xn(E,"TestPingServer: ok",!0,y):Xn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Xn(E,"TestPingServer: error",!1,y)})}function Xn(c,y,E,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(E)}catch{}}function Xi(){this.g=new Ja}function Ur(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ur,Za),Ur.prototype.g=function(){return new rs(this.i,this.h)};function rs(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(rs,Et),r=rs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,gr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,gr(this)),this.g&&(this.readyState=3,gr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Wi(this):gr(this),this.readyState==3&&Xs(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Wi(this))},r.Na=function(c){this.g&&(this.response=c,Wi(this))},r.ga=function(){this.g&&Wi(this)};function Wi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,gr(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function gr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wn(c){let y="";return Ce(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function is(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Wn(E),typeof c=="string"?E!=null&&Vn(E):Je(c,y,E))}function tt(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(tt,Et);var zr=/^https?$/i,Tl=["POST","PUT"];r=tt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mr.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){as(this,K);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)E.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Tl,y,void 0)>=0)||w||B||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of E)this.g.setRequestHeader(K,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){as(this,K)}};function as(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,bl(c),hi(c)}function bl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),tt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ss(this):this.Xa())},r.Xa=function(){ss(this)};function ss(c){if(c.h&&typeof u<"u"){if(c.v&&pr(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),pr(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=K===0){let ae=String(c.D).match(nc)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),w=!zr.test(ae?ae.toLowerCase():"")}E=w}if(E)It(c,"complete"),It(c,"success");else{c.o=6;try{var B=pr(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",bl(c)}}finally{hi(c)}}}}function hi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||It(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function pr(c){return c.g?c.g.readyState:0}r.ca=function(){try{return pr(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Wa(y)}};function Zt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function fi(c){const y={};c=(c.g&&pr(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(R(c[w]))continue;var E=Gi(c[w]);const B=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[B]||[];y[B]=K,K.push(E)}we(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Ji(c){this.za=0,this.i=[],this.j=new hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Br("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Br("baseRetryDelayMs",5e3,c),this.Za=Br("retryDelaySeedMs",1e4,c),this.Ta=Br("forwardChannelMaxRetries",2,c),this.va=Br("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new hl(c&&c.concurrentRequestLimit),this.Ba=new Xi,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ji.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,w){Tt(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=dc(this,null,this.W),qr(this)};function Sl(c){if(Ws(c),c.I==3){var y=c.V++,E=Lt(c.J);if(Je(E,"SID",c.M),Je(E,"RID",y),Je(E,"TYPE","terminate"),os(c,E),y=new Pn(c,c.j,y),y.M=2,y.A=ts(Lt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=y.A,E=!0),E||(y.g=mc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),At(y)}fc(c)}function Zi(c){c.g&&(Al(c),c.g.cancel(),c.g=null)}function Ws(c){Zi(c),c.v&&(h.clearTimeout(c.v),c.v=null),Zs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function qr(c){if(!fl(c.h)&&!c.m){c.m=!0;var y=c.Ea;ge||C(),me||(ge(),me=!0),D.add(y,c),c.D=0}}function Js(c,y){return kr(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ht(g(c.Ea,c,y),hc(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Pn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=O(K),se(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=oc(this,B,y),E=Lt(this.J),Je(E,"RID",c),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),os(this,E),K&&(this.R?y="headers="+Vn(Wn(K))+"&"+y:this.u&&is(E,this.u,K)),dl(this.h,B),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",y),Je(E,"SID","null"),B.U=!0,Kn(B,E,null)):Kn(B,E,y),this.I=2}}else this.I==3&&(c?wl(this,c):this.i.length==0||fl(this.h)||wl(this))};function wl(c,y){var E;y?E=y.l:E=c.V++;const w=Lt(c.J);Je(w,"SID",c.M),Je(w,"RID",E),Je(w,"AID",c.K),os(c,w),c.u&&c.o&&is(w,c.u,c.o),E=new Pn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=oc(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),dl(c.h,E),Kn(E,w,y)}function os(c,y){c.H&&Ce(c.H,function(E,w){Je(y,w,E)}),c.l&&Ce({},function(E,w){Je(y,w,E)})}function oc(c,y,E){E=Math.min(c.i.length,E);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let xe=-1;for(;;){const Dt=["count="+E];xe==-1?E>0?(xe=B[0].g,Dt.push("ofs="+xe)):xe=0:Dt.push("ofs="+xe);let Ke=!0;for(let yt=0;yt<E;yt++){var K=B[yt].g;const Jn=B[yt].map;if(K-=xe,K<0)xe=Math.max(0,B[yt].g-100),Ke=!1;else try{K="req"+K+"_"||"";try{var ae=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Fr,yr]of ae){let vr=yr;m(yr)&&(vr=Nr(yr)),Dt.push(K+Fr+"="+encodeURIComponent(vr))}}catch(Fr){throw Dt.push(K+"type="+encodeURIComponent("_badmap")),Fr}}catch{w&&w(Jn)}}if(Ke){ae=Dt.join("&");break e}}ae=void 0}return c=c.i.splice(0,E),y.G=c,ae}function lc(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ge||C(),me||(ge(),me=!0),D.add(y,c),c.A=0}}function ls(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ht(g(c.Da,c),hc(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,uc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ht(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Zi(this),uc(this))};function Al(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function uc(c){c.g=new Pn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Lt(c.na);Je(y,"RID","rpc"),Je(y,"SID",c.M),Je(y,"AID",c.K),Je(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Je(y,"TO",c.ia),Je(y,"TYPE","xmlhttp"),os(c,y),c.u&&c.o&&is(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ts(Lt(y)),E.u=null,E.R=!0,Ne(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Zi(this),ls(this),Tt(19))};function Zs(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function cc(c,y){var E=null;if(c.g==y){Zs(c),Al(c),c.g=null;var w=2}else if(jr(c.h,y))E=y.G,ml(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;w=xr(),It(w,new ct(w,E)),qr(c)}else lc(c);else if(B=y.m,B==3||B==0&&y.X>0||!(w==1&&Js(c,y)||w==2&&ls(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),B){case 1:Hr(c,5);break;case 4:Hr(c,10);break;case 3:Hr(c,6);break;default:Hr(c,2)}}}function hc(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Hr(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),w=c.Ua;const B=!w;w=new jn(w||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Kt(w,"https"),ts(w),B?mr(w.toString(),E):El(w.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(y),fc(c),Ws(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function fc(c){if(c.I=0,c.ja=[],c.l){const y=gl(c.h);(y.length!=0||c.i.length!=0)&&(Y(c.ja,y),Y(c.ja,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.oa()}}function dc(c,y,E){var w=E instanceof jn?Lt(E):new jn(E);if(w.g!="")y&&(w.g=y+"."+w.g),Yi(w,w.u);else{var B=h.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new jn(null);w&&Kt(K,w),y&&(K.g=y),B&&Yi(K,B),E&&(K.h=E),w=K}return E=c.G,y=c.wa,E&&y&&Je(w,E,y),Je(w,"VER",c.ka),os(c,w),w}function mc(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new tt(new Ur({ab:E})):new tt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gc(){}r=gc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ea(){}ea.prototype.g=function(c,y){return new En(c,y)};function En(c,y){Et.call(this),this.g=new Ji(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!R(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new di(this)}b(En,Et),En.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Sl(this.g)},En.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Nr(c),c=E);y.i.push(new jt(y.Ya++,c)),y.I==3&&qr(y)},En.prototype.N=function(){this.g.l=null,delete this.j,Sl(this.g),delete this.g,En.Z.N.call(this)};function pc(c){Pt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(pc,Pt);function yc(){bn.call(this),this.status=1}b(yc,bn);function di(c){this.g=c}b(di,gc),di.prototype.ra=function(){It(this.g,"a")},di.prototype.qa=function(c){It(this.g,new pc(c))},di.prototype.pa=function(c){It(this.g,new yc)},di.prototype.oa=function(){It(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,J0=function(){return new ea},W0=function(){return xr()},X0=pt,Tg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Or.NO_ERROR=0,Or.TIMEOUT=8,Or.HTTP_ERROR=6,jh=Or,ci.COMPLETE="complete",$0=ci,Hs.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,mu=Hs,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,K0=tt}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});const ET="@firebase/firestore",TT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new sp("@firebase/firestore");function Oo(){return Os.logLevel}function he(r,...e){if(Os.logLevel<=ze.DEBUG){const n=e.map(yp);Os.debug(`Firestore (${rl}): ${r}`,...n)}}function Li(r,...e){if(Os.logLevel<=ze.ERROR){const n=e.map(yp);Os.error(`Firestore (${rl}): ${r}`,...n)}}function Go(r,...e){if(Os.logLevel<=ze.WARN){const n=e.map(yp);Os.warn(`Firestore (${rl}): ${r}`,...n)}}function yp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Z0(r,a,n)}function Z0(r,e,n){let a=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Li(a),new Error(a)}function We(r,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,r||Z0(e,o,a)}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends qi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ux{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class cx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class hx{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){We(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Mi,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Mi)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(We(typeof a.accessToken=="string",31837,{l:a}),new eS(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class fx{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dx{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new fx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class bT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){We(this.o===void 0,3512);const a=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new bT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(We(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=gx(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Be(r,e){return r<e?-1:r>e?1:0}function bg(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const o=r.charAt(a),u=e.charAt(a);if(o!==u)return Wm(o)===Wm(u)?Be(o,u):Wm(o)?1:-1}return Be(r.length,e.length)}const px=55296,yx=57343;function Wm(r){const e=r.charCodeAt(0);return e>=px&&e<=yx}function Yo(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__name__";class Wr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Se(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Wr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Wr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const a=Wr.isNumericId(e),o=Wr.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Wr.extractNumericId(e).compare(Wr.extractNumericId(n)):bg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Va.fromString(e.substring(4,e.length-2))}}class lt extends Wr{construct(e,n,a){return new lt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const vx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Wr{construct(e,n,a){return new on(e,n,a)}static isValidIdentifier(e){return vx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new on([ST])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new ce(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(lt.fromString(e))}static fromName(e){return new ve(lt.fromString(e).popFirst(5))}static empty(){return new ve(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(r,e,n){if(!n)throw new ce(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _x(r,e,n,a){if(e===!0&&a===!0)throw new ce(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function wT(r){if(!ve.isDocumentKey(r))throw new ce(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function AT(r){if(ve.isDocumentKey(r))throw new ce(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _f(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function Ui(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_f(r);throw new ce(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Fu(r,e){if(!nS(r))throw new ce(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const h=r[a];if(o&&typeof h!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new ce(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=-62135596800,CT=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*CT);return new gt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RT)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/CT}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-RT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Gt("string",gt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new gt(0,0))}static max(){return new Re(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=-1;function Ex(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(a===1e9?new gt(n+1,0):new gt(n,a));return new ka(o,ve.empty(),e)}function Tx(r){return new ka(r.readTime,r.key,Du)}class ka{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ka(Re.min(),ve.empty(),Du)}static max(){return new ka(Re.max(),ve.empty(),Du)}}function bx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Be(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==Sx)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,a)=>{n(e)}))}static reject(e){return new re(((n,a)=>{a(e)}))}static waitFor(e){return new re(((n,a)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>a(p)))})),h=!0,u===o&&n()}))}static or(e){let n=re.resolve(!1);for(const a of e)n=n.next((o=>o?re.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new re(((a,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{h[g]=T,++m,m===u&&a(h)}),(T=>o(T)))}}))}static doWhile(e,n){return new re(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function Ax(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function al(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ef.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=-1;function Tf(r){return r==null}function Zh(r){return r===0&&1/r==-1/0}function Rx(r){return typeof r=="number"&&Number.isInteger(r)&&!Zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="";function Cx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=IT(e)),e=Ix(r.get(n),e);return IT(e)}function Ix(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case rS:n+="";break;default:n+=u}}return n}function IT(r){return r+rS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Fa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function iS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wh(this.root,e,this.comparator,!1)}getReverseIterator(){return new wh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wh(this.root,e,this.comparator,!0)}}class wh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new sn(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(e){return new NT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class NT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new Yn([])}unionWith(e){let n=new Qt(on.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Yn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new aS("Invalid base64 string: "+u):u}})(e);return new un(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(r){if(We(!!r,39018),typeof r=="string"){let e=0;const n=Dx.exec(r);if(We(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function La(r){return typeof r=="string"?un.fromBase64String(r):un.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="server_timestamp",oS="__type__",lS="__previous_value__",uS="__local_write_time__";function Ep(r){return(r?.mapValue?.fields||{})[oS]?.stringValue===sS}function bf(r){const e=r.mapValue.fields[lS];return Ep(e)?bf(e):e}function Nu(r){const e=ja(r.mapValue.fields[uS].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,a,o,u,h,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const ef="(default)";class xu{constructor(e,n){this.projectId=e,this.database=n||ef}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===ef}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="__type__",xx="__max__",Ah={mapValue:{}},hS="__vector__",tf="value";function Ua(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ep(r)?4:Mx(r)?9007199254740991:Ox(r)?10:11:Se(28295,{value:r})}function si(r,e){if(r===e)return!0;const n=Ua(r);if(n!==Ua(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Nu(r).isEqual(Nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ja(o.timestampValue),m=ja(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return La(o.bytesValue).isEqual(La(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ot(o.geoPointValue.latitude)===Ot(u.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ot(o.integerValue)===Ot(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ot(o.doubleValue),m=Ot(u.doubleValue);return h===m?Zh(h)===Zh(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Yo(r.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(DT(h)!==DT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!si(h[p],m[p])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Ou(r,e){return(r.values||[]).find((n=>si(n,e)))!==void 0}function Qo(r,e){if(r===e)return 0;const n=Ua(r),a=Ua(e);if(n!==a)return Be(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=Ot(u.integerValue||u.doubleValue),p=Ot(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return xT(r.timestampValue,e.timestampValue);case 4:return xT(Nu(r),Nu(e));case 5:return bg(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=La(u),p=La(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Be(m[g],p[g]);if(T!==0)return T}return Be(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Be(Ot(u.latitude),Ot(h.latitude));return m!==0?m:Be(Ot(u.longitude),Ot(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return OT(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[tf]?.arrayValue,T=p[tf]?.arrayValue,b=Be(g?.values?.length||0,T?.values?.length||0);return b!==0?b:OT(g,T)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===Ah.mapValue&&h===Ah.mapValue)return 0;if(u===Ah.mapValue)return 1;if(h===Ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const A=bg(p[b],T[b]);if(A!==0)return A;const x=Qo(m[p[b]],g[T[b]]);if(x!==0)return x}return Be(p.length,T.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function xT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Be(r,e);const n=ja(r),a=ja(e),o=Be(n.seconds,a.seconds);return o!==0?o:Be(n.nanos,a.nanos)}function OT(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=Qo(n[o],a[o]);if(u)return u}return Be(n.length,a.length)}function Ko(r){return Sg(r)}function Sg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=ja(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return La(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ve.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=Sg(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${Sg(n.fields[h])}`;return o+"}"})(r.mapValue):Se(61005,{value:r})}function Lh(r){switch(Ua(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(r);return e?16+Lh(e):16;case 5:return 2*r.stringValue.length;case 6:return La(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+Lh(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Fa(a.fields,((u,h)=>{o+=u.length+Lh(h)})),o})(r.mapValue);default:throw Se(13486,{value:r})}}function MT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function wg(r){return!!r&&"integerValue"in r}function Tp(r){return!!r&&"arrayValue"in r}function VT(r){return!!r&&"nullValue"in r}function PT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uh(r){return!!r&&"mapValue"in r}function Ox(r){return(r?.mapValue?.fields||{})[cS]?.stringValue===hS}function Tu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Fa(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Tu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tu(r.arrayValue.values[n]);return e}return{...r}}function Mx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===xx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(n)}setAll(e){let n=on.emptyPath(),a={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=Tu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());Uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Fa(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new On(Tu(this.value))}}function fS(r){const e=[];return Fa(r.fields,((n,a)=>{const o=new on([n]);if(Uh(a)){const u=fS(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,a,o,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new pn(e,0,Re.min(),Re.min(),Re.min(),On.empty(),0)}static newFoundDocument(e,n,a,o){return new pn(e,1,n,Re.min(),a,o,0)}static newNoDocument(e,n){return new pn(e,2,n,Re.min(),Re.min(),On.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Re.min(),Re.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.position=e,this.inclusive=n}}function kT(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?a=ve.comparator(ve.fromName(h.referenceValue),n.key):a=Qo(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function jT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!si(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n="asc"){this.field=e,this.dir=n}}function Vx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{}class Ft extends dS{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new kx(e,n,a):n==="array-contains"?new Ux(e,a):n==="in"?new zx(e,a):n==="not-in"?new Bx(e,a):n==="array-contains-any"?new qx(e,a):new Ft(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new jx(e,a):new Lx(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qo(n,this.value)):n!==null&&Ua(this.value)===Ua(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends dS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ar(e,n)}matches(e){return mS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mS(r){return r.op==="and"}function gS(r){return Px(r)&&mS(r)}function Px(r){for(const e of r.filters)if(e instanceof Ar)return!1;return!0}function Ag(r){if(r instanceof Ft)return r.field.canonicalString()+r.op.toString()+Ko(r.value);if(gS(r))return r.filters.map((e=>Ag(e))).join(",");{const e=r.filters.map((n=>Ag(n))).join(",");return`${r.op}(${e})`}}function pS(r,e){return r instanceof Ft?(function(a,o){return o instanceof Ft&&a.op===o.op&&a.field.isEqual(o.field)&&si(a.value,o.value)})(r,e):r instanceof Ar?(function(a,o){return o instanceof Ar&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,h,m)=>u&&pS(h,o.filters[m])),!0):!1})(r,e):void Se(19439)}function yS(r){return r instanceof Ft?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`})(r):r instanceof Ar?(function(n){return n.op.toString()+" {"+n.getFilters().map(yS).join(" ,")+"}"})(r):"Filter"}class kx extends Ft{constructor(e,n,a){super(e,n,a),this.key=ve.fromName(a.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class jx extends Ft{constructor(e,n){super(e,"in",n),this.keys=vS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Lx extends Ft{constructor(e,n){super(e,"not-in",n),this.keys=vS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function vS(r,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class Ux extends Ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tp(n)&&Ou(n.arrayValue,this.value)}}class zx extends Ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class Bx extends Ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ou(this.value.arrayValue,n)}}class qx extends Ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Ou(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n=null,a=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function LT(r,e=null,n=[],a=[],o=null,u=null,h=null){return new Hx(r,e,n,a,o,u,h)}function bp(r){const e=De(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Ag(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Tf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Ko(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Ko(a))).join(",")),e.Te=n}return e.Te}function Sp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Vx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!pS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!jT(r.startAt,e.startAt)&&jT(r.endAt,e.endAt)}function Rg(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n=null,a=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Fx(r,e,n,a,o,u,h,m){return new Gu(r,e,n,a,o,u,h,m)}function wp(r){return new Gu(r)}function UT(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _S(r){return r.collectionGroup!==null}function bu(r){const e=De(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Qt(on.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new rf(u,a))})),n.has(on.keyField().canonicalString())||e.Ie.push(new rf(on.keyField(),a))}return e.Ie}function ei(r){const e=De(r);return e.Ee||(e.Ee=Gx(e,bu(r))),e.Ee}function Gx(r,e){if(r.limitType==="F")return LT(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new rf(o.field,u)}));const n=r.endAt?new nf(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nf(r.startAt.position,r.startAt.inclusive):null;return LT(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Cg(r,e){const n=r.filters.concat([e]);return new Gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ig(r,e,n){return new Gu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Sf(r,e){return Sp(ei(r),ei(e))&&r.limitType===e.limitType}function ES(r){return`${bp(ei(r))}|lt:${r.limitType}`}function Mo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>yS(o))).join(", ")}]`),Tf(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Ko(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Ko(o))).join(",")),`Target(${a})`})(ei(r))}; limitType=${r.limitType})`}function wf(r,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ve.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,o){for(const u of bu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(h,m,p){const g=kT(h,m,p);return h.inclusive?g<=0:g<0})(a.startAt,bu(a),o)||a.endAt&&!(function(h,m,p){const g=kT(h,m,p);return h.inclusive?g>=0:g>0})(a.endAt,bu(a),o))})(r,e)}function Yx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function TS(r){return(e,n)=>{let a=!1;for(const o of bu(r)){const u=Qx(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function Qx(r,e,n){const a=r.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Qo(p,g):Se(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return iS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new wt(ve.comparator);function zi(){return Kx}const bS=new wt(ve.comparator);function gu(...r){let e=bS;for(const n of r)e=e.insert(n.key,n);return e}function SS(r){let e=bS;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Rs(){return Su()}function wS(){return Su()}function Su(){return new Ls((r=>r.toString()),((r,e)=>r.isEqual(e)))}const $x=new wt(ve.comparator),Xx=new Qt(ve.comparator);function qe(...r){let e=Xx;for(const n of r)e=e.add(n);return e}const Wx=new Qt(Be);function Jx(){return Wx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function AS(r){return{integerValue:""+r}}function Zx(r,e){return Rx(e)?AS(e):Ap(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function e2(r,e,n){return r instanceof af?(function(o,u){const h={fields:{[oS]:{stringValue:sS},[uS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Ep(u)&&(u=bf(u)),u&&(h.fields[lS]=u),{mapValue:h}})(n,e):r instanceof $o?CS(r,e):r instanceof Xo?IS(r,e):(function(o,u){const h=RS(o,u),m=zT(h)+zT(o.Ae);return wg(h)&&wg(o.Ae)?AS(m):Ap(o.serializer,m)})(r,e)}function t2(r,e,n){return r instanceof $o?CS(r,e):r instanceof Xo?IS(r,e):n}function RS(r,e){return r instanceof sf?(function(a){return wg(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class af extends Af{}class $o extends Af{constructor(e){super(),this.elements=e}}function CS(r,e){const n=DS(e);for(const a of r.elements)n.some((o=>si(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Xo extends Af{constructor(e){super(),this.elements=e}}function IS(r,e){let n=DS(e);for(const a of r.elements)n=n.filter((o=>!si(o,a)));return{arrayValue:{values:n}}}class sf extends Af{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function zT(r){return Ot(r.integerValue||r.doubleValue)}function DS(r){return Tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.field=e,this.transform=n}}function n2(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof $o&&o instanceof $o||a instanceof Xo&&o instanceof Xo?Yo(a.elements,o.elements,si):a instanceof sf&&o instanceof sf?si(a.Ae,o.Ae):a instanceof af&&o instanceof af})(r.transform,e.transform)}class r2{constructor(e,n){this.version=e,this.transformResults=n}}class ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rf{}function xS(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new MS(r.key,ti.none()):new Yu(r.key,r.data,ti.none());{const n=r.data,a=On.empty();let o=new Qt(on.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new Ga(r.key,a,new Yn(o.toArray()),ti.none())}}function i2(r,e,n){r instanceof Yu?(function(o,u,h){const m=o.value.clone(),p=qT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ga?(function(o,u,h){if(!zh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=qT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(OS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function wu(r,e,n,a){return r instanceof Yu?(function(u,h,m,p){if(!zh(u.precondition,h))return m;const g=u.value.clone(),T=HT(u.fieldTransforms,p,h);return g.setAll(T),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof Ga?(function(u,h,m,p){if(!zh(u.precondition,h))return m;const g=HT(u.fieldTransforms,p,h),T=h.data;return T.setAll(OS(u)),T.setAll(g),h.convertToFoundDocument(h.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,a):(function(u,h,m){return zh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function a2(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=RS(a.transform,o||null);u!=null&&(n===null&&(n=On.empty()),n.set(a.field,u))}return n||null}function BT(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Yo(a,o,((u,h)=>n2(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yu extends Rf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ga extends Rf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OS(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function qT(r,e,n){const a=new Map;We(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);a.set(u.field,t2(h,m,n[o]))}return a}function HT(r,e,n){const a=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);a.set(o.field,e2(u,h,e))}return a}class MS extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class s2 extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&i2(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=wu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=wu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=wS();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=xS(h,m);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((n,a)=>BT(n,a)))&&Yo(this.baseMutations,e.baseMutations,((n,a)=>BT(n,a)))}}class Rp{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){We(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return $x})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new Rp(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,Fe;function c2(r){switch(r){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function VS(r){if(r===void 0)return Li("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Ht.OK:return ne.OK;case Ht.CANCELLED:return ne.CANCELLED;case Ht.UNKNOWN:return ne.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ne.INTERNAL;case Ht.UNAVAILABLE:return ne.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ne.NOT_FOUND;case Ht.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ht.ABORTED:return ne.ABORTED;case Ht.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ht.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:r})}}(Fe=Ht||(Ht={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=new Va([4294967295,4294967295],0);function FT(r){const e=h2().encode(r),n=new Q0;return n.update(e),new Uint8Array(n.digest())}function GT(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Va([n,a],0),new Va([o,u],0)]}class Cp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new pu(`Invalid padding: ${n}`);if(a<0)throw new pu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Va.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(Va.fromNumber(a)));return o.compare(f2)===1&&(o=new Va([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=FT(e),[a,o]=GT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);if(!this.we(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Cp(u,o,n);return a.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=FT(e),[a,o]=GT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Qu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Cf(Re.min(),o,new wt(Be),zi(),qe())}}class Qu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Qu(a,n,qe(),qe(),qe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,a,o){this.be=e,this.removedTargetIds=n,this.key=a,this.De=o}}class PS{constructor(e,n){this.targetId=e,this.Ce=n}}class kS{constructor(e,n,a=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class YT{constructor(){this.ve=0,this.Fe=QT(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),a=qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Se(38017,{changeType:u})}})),new Qu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=QT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class d2{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=Rh(),this.He=Rh(),this.Ye=new wt(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rg(u))if(a===0){const h=new ve(u.path);this.et(n,h,pn.newNoDocument(h,Re.min()))}else We(a===1,20013,{expectedCount:a});else{const h=this._t(n);if(h!==a){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=La(a).toUint8Array()}catch(p){if(p instanceof aS)return Go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Cp(h,o,u)}catch(p){return Go(p instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Rg(m.target)){const p=new ve(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,pn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let a=qe();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Cf(e,n,this.Ye,this.je,a);return this.je=zi(),this.Je=Rh(),this.He=Rh(),this.Ye=new wt(Be),o}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new YT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Qt(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Qt(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new YT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Rh(){return new wt(ve.comparator)}function QT(){return new wt(ve.comparator)}const m2={asc:"ASCENDING",desc:"DESCENDING"},g2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p2={and:"AND",or:"OR"};class y2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(r,e){return r.useProto3Json||Tf(e)?e:{value:e}}function of(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function v2(r,e){return of(r,e.toTimestamp())}function ni(r){return We(!!r,49232),Re.fromTimestamp((function(n){const a=ja(n);return new gt(a.seconds,a.nanos)})(r))}function Ip(r,e){return Ng(r,e).canonicalString()}function Ng(r,e){const n=(function(o){return new lt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function LS(r){const e=lt.fromString(r);return We(HS(e),10190,{key:e.toString()}),e}function xg(r,e){return Ip(r.databaseId,e.path)}function Jm(r,e){const n=LS(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(zS(n))}function US(r,e){return Ip(r.databaseId,e)}function _2(r){const e=LS(r);return e.length===4?lt.emptyPath():zS(e)}function Og(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zS(r){return We(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function KT(r,e,n){return{name:xg(r,e),fields:n.value.mapValue.fields}}function E2(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(We(T===void 0||typeof T=="string",58123),un.fromBase64String(T||"")):(We(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),un.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const T=g.code===void 0?ne.UNKNOWN:VS(g.code);return new ce(T,g.message||"")})(h);n=new kS(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Jm(r,a.document.name),u=ni(a.document.updateTime),h=a.document.createTime?ni(a.document.createTime):Re.min(),m=new On({mapValue:{fields:a.document.fields}}),p=pn.newFoundDocument(o,u,h,m),g=a.targetIds||[],T=a.removedTargetIds||[];n=new Bh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Jm(r,a.document),u=a.readTime?ni(a.readTime):Re.min(),h=pn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Bh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Jm(r,a.document),u=a.removedTargetIds||[];n=new Bh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new u2(o,u),m=a.targetId;n=new PS(m,h)}}return n}function T2(r,e){let n;if(e instanceof Yu)n={update:KT(r,e.key,e.value)};else if(e instanceof MS)n={delete:xg(r,e.key)};else if(e instanceof Ga)n={update:KT(r,e.key,e.data),updateMask:N2(e.fieldMask)};else{if(!(e instanceof s2))return Se(16599,{Vt:e.type});n={verify:xg(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,h){const m=h.transform;if(m instanceof af)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $o)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Xo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof sf)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:h.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:v2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(r,e.precondition)),n}function b2(r,e){return r&&r.length>0?(We(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?ni(o.updateTime):ni(u);return h.isEqual(Re.min())&&(h=ni(u)),new r2(h,o.transformResults||[])})(n,e)))):[]}function S2(r,e){return{documents:[US(r,e.path)]}}function w2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=US(r,o);const u=(function(g){if(g.length!==0)return qS(Ar.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((T=>(function(A){return{field:Vo(A.field),direction:C2(A.dir)}})(T)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Dg(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function A2(r){let e=_2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){We(a===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const A=BS(b);return A instanceof Ar&&gS(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(b){return b.map((A=>(function(Y){return new rf(Po(Y.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Y.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,Tf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(b){const A=!!b.before,x=b.values||[];return new nf(x,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const A=!b.before,x=b.values||[];return new nf(x,A)})(n.endAt)),Fx(e,o,h,u,m,"F",p,g)}function R2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BS(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Po(n.unaryFilter.field);return Ft.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Po(n.unaryFilter.field);return Ft.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Po(n.unaryFilter.field);return Ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Po(n.unaryFilter.field);return Ft.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ft.create(Po(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ar.create(n.compositeFilter.filters.map((a=>BS(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(r):Se(30097,{filter:r})}function C2(r){return m2[r]}function I2(r){return g2[r]}function D2(r){return p2[r]}function Vo(r){return{fieldPath:r.canonicalString()}}function Po(r){return on.fromServerFormat(r.fieldPath)}function qS(r){return r instanceof Ft?(function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NAN"}};if(VT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NAN"}};if(VT(n.value))return{unaryFilter:{field:Vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vo(n.field),op:I2(n.op),value:n.value}}})(r):r instanceof Ar?(function(n){const a=n.getFilters().map((o=>qS(o)));return a.length===1?a[0]:{compositeFilter:{op:D2(n.op),filters:a}}})(r):Se(54877,{filter:r})}function N2(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n,a,o,u=Re.min(),h=Re.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.yt=e}}function O2(r){const e=A2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ig(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.Cn=new V2}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(ka.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(ka.min())}updateCollectionGroup(e,n,a){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class V2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Qt(lt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Qt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FS=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(FS,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Wo(0)}static cr(){return new Wo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="LruGarbageCollector",P2=1048576;function WT([r,e],[n,a]){const o=Be(r,n);return o===0?Be(e,a):o}class k2{constructor(e){this.Ir=e,this.buffer=new Qt(WT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();WT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(XT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){al(n)?he(XT,"Ignoring IndexedDB error during garbage collection: ",n):await il(n)}await this.Vr(3e5)}))}}class L2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Ef.ce);const a=new k2(n);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve($T)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$T):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,o,u,h,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(a=b,m=Date.now(),this.removeTargets(e,a,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(g=Date.now(),Oo()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-T}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function U2(r,e){return new L2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.changes=new Ls((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?re.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&wu(a.mutation,o,Yn.empty(),gt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=qe()){const o=Rs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let h=gu();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const a=Rs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,qe())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,a,o){let u=zi();const h=Su(),m=(function(){return Su()})();return n.forEach(((p,g)=>{const T=a.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Ga)?u=u.insert(g.key,g):T!==void 0?(h.set(g.key,T.mutation.getFieldMask()),wu(T.mutation,g,T.mutation.getFieldMask(),gt.now())):h.set(g.key,Yn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>h.set(g,T))),n.forEach(((g,T)=>m.set(g,new B2(T,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const a=Su();let o=new wt(((h,m)=>h-m)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=a.get(p)||Yn.empty();T=m.applyToLocalView(g,T),a.set(p,T);const b=(o.get(m.batchId)||qe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=wS();T.forEach((A=>{if(!u.has(A)){const x=xS(n.get(A),a.get(A));x!==null&&b.set(A,x),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return re.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_S(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):re.resolve(Rs());let m=Du,p=u;return h.next((g=>re.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?re.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{p=p.insert(T,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,qe()))).next((T=>({batchId:m,changes:SS(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((a=>{let o=gu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=gu();return this.indexManager.getCollectionParents(e,u).next((m=>re.forEach(m,(p=>{const g=(function(b,A){return new Gu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((T=>{T.forEach(((b,A)=>{h=h.insert(b,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((h=>{u.forEach(((p,g)=>{const T=g.getKey();h.get(T)===null&&(h=h.insert(T,pn.newInvalidDocument(T)))}));let m=gu();return h.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&wu(T.mutation,g,Yn.empty(),gt.now()),wf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:O2(o.bundledQuery),readTime:ni(o.readTime)}})(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.overlays=new wt(ve.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Rs();return re.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.St(e,n,u)})),re.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),re.resolve()}getOverlaysForCollection(e,n,a){const o=Rs(),u=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new wt(((g,T)=>g-T));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let T=u.get(g.largestBatchId);T===null&&(T=Rs(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=Rs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return re.resolve(m)}St(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new l2(n,a));let u=this.qr.get(n);u===void 0&&(u=qe(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.Qr=new Qt(Xt.$r),this.Ur=new Qt(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Xt(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new ve(new lt([])),a=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.Ur.forEachInRange([a,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new lt([])),a=new Xt(n,e),o=new Xt(n,e+1);let u=qe();return this.Ur.forEachInRange([a,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Xt(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(Xt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new o2(u,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(h)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.ei(a),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?_p:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Qt(Be);return n.forEach((o=>{const u=new Xt(o,0),h=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{a=a.add(m.Yr)}))})),re.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ve.isDocumentKey(u)||(u=u.child(""));const h=new Xt(new ve(u),0);let m=new Qt(Be);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),re.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){We(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return re.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Xt(n,0),o=this.Zr.firstAfterOrEqual(a);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.ri=e,this.docs=(function(){return new wt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return re.resolve(a?a.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let a=zi();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():pn.newInvalidDocument(o))})),re.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=zi();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||bx(Tx(T),a)<=0||(o.has(T.key)||wf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Se(9500)}ii(e,n){return re.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new K2(this)}getSize(e){return re.resolve(this.size)}}class K2 extends z2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.persistence=e,this.si=new Ls((n=>bp(n)),Sp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Dp,this.targetCount=0,this.ai=Wo.ur()}forEachTarget(e,n){return this.si.forEach(((a,o)=>n(o))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),re.waitFor(u).next((()=>o))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return re.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),re.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return re.resolve(a)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ef(0),this.li=!1,this.li=!0,this.hi=new G2,this.referenceDelegate=e(this),this.Pi=new $2(this),this.indexManager=new M2,this.remoteDocumentCache=(function(o){return new Q2(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new x2(n),this.Ii=new H2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new F2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new Y2(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){he("MemoryPersistence","Starting transaction:",e);const o=new X2(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return re.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class X2 extends wx{constructor(e){super(),this.currentSequenceNumber=e}}class Np{constructor(e){this.persistence=e,this.Ri=new Dp,this.Vi=null}static mi(e){return new Np(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),re.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(a=>{const o=ve.fromPath(a);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class lf{constructor(e,n){this.persistence=e,this.pi=new Ls((a=>Cx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=U2(this,n)}static mi(e,n){return new lf(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((a,o)=>this.br(e,a,o).next((u=>u?re.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(a++,u.removeEntry(h,Re.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),re.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lh(e.data.value)),n}br(e,n,a){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return re.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=o}static As(e,n){let a=qe(),o=qe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xp(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DC()?8:Ax(yn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new W2;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,a,o){return a.documentReadCount<this.fs?(Oo()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Mo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Oo()<=ze.DEBUG&&he("QueryEngine","Query:",Mo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Oo()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Mo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(n))):re.resolve())}ys(e,n){if(UT(n))return re.resolve(null);let a=ei(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ig(n,null,"F"),a=ei(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const h=qe(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Ig(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,a,o){return UT(n)||o.isEqual(Re.min())?re.resolve(null):this.ps.getDocuments(e,a).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,a,o)?re.resolve(null):(Oo()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Mo(n)),this.vs(e,h,n,Ex(o,Du)).next((m=>m)))}))}Ds(e,n){let a=new Qt(TS(e));return n.forEach(((o,u)=>{wf(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,a){return Oo()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Mo(n)),this.ps.getDocumentsMatchingQuery(e,n,ka.min(),a)}vs(e,n,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="LocalStore",Z2=3e8;class eO{constructor(e,n,a,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new wt(Be),this.xs=new Ls((u=>bp(u)),Sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new q2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function tO(r,e,n,a){return new eO(r,e,n,a)}async function YS(r,e){const n=De(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],m=[];let p=qe();for(const g of o){h.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function nO(r,e){const n=De(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const b=g.batch,A=b.keys();let x=re.resolve();return A.forEach((Y=>{x=x.next((()=>T.getEntry(p,Y))).next((F=>{const U=g.docVersions.get(Y);We(U!==null,48541),F.version.compareTo(U)<0&&(b.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),T.addEntry(F)))}))})),x.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=qe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function QS(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function rO(r,e){const n=De(r),a=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,b)=>{const A=o.get(b);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,b))));let x=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(un.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(T.resumeToken,a)),o=o.insert(b,x),(function(F,U,L){return F.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=Z2?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(A,x,T)&&m.push(n.Pi.updateTargetData(u,x))}));let p=zi(),g=qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(iO(u,h,e.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!a.isEqual(Re.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(T)}return re.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function iO(r,e,n){let a=qe(),o=qe();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let h=zi();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):he(Op,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function aO(r,e){const n=De(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=_p),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function sO(r,e){const n=De(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Pi.getTargetData(a,e).next((u=>u?(o=u,re.resolve(o)):n.Pi.allocateTargetId(a).next((h=>(o=new Na(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Mg(r,e,n){const a=De(r),o=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!al(h))throw h;he(Op,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function JT(r,e,n){const a=De(r);let o=Re.min(),u=qe();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,T){const b=De(p),A=b.xs.get(T);return A!==void 0?re.resolve(b.Ms.get(A)):b.Pi.getTargetData(g,T)})(a,h,ei(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(h,e,n?o:Re.min(),n?u:qe()))).next((m=>(oO(a,Yx(e),m),{documents:m,Qs:u})))))}function oO(r,e,n){let a=r.Os.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class ZT{constructor(){this.activeTargetIds=Jx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lO{constructor(){this.Mo=new ZT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ZT,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="ConnectivityMonitor";class tb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(eb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch=null;function Vg(){return Ch===null?Ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ch++,"0x"+Ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zm="RestConnection",cO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ef?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,n,a,o,u){const h=Vg(),m=this.zo(e,n.toUriEncodedString());he(Zm,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),T=el(g);return this.Jo(e,m,p,a,T).then((b=>(he(Zm,`Received RPC '${e}' ${h}: `,b),b)),(b=>{throw Go(Zm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",a),b}))}Ho(e,n,a,o,u,h){return this.Go(e,n,a,o,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const a=cO[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class dO extends hO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,o,u){const h=Vg();return new Promise(((m,p)=>{const g=new K0;g.setWithCredentials(!0),g.listenOnce($0.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case jh.NO_ERROR:const b=g.getResponseJson();he(mn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case jh.TIMEOUT:he(mn,`RPC '${e}' ${h} timed out`),p(new ce(ne.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const A=g.getStatus();if(he(mn,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const Y=x?.error;if(Y&&Y.status&&Y.message){const F=(function(L){const $=L.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN})(Y.status);p(new ce(F,Y.message))}else p(new ce(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(mn,`RPC '${e}' ${h} completed.`)}}));const T=JSON.stringify(o);he(mn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",T,a,15)}))}T_(e,n,a){const o=Vg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=J0(),m=W0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const T=u.join("");he(mn,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=h.createWebChannel(T,p);this.I_(b);let A=!1,x=!1;const Y=new fO({Yo:U=>{x?he(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(he(mn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),he(mn,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Zo:()=>b.close()}),F=(U,L,$)=>{U.listen(L,(W=>{try{$(W)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return F(b,mu.EventType.OPEN,(()=>{x||(he(mn,`RPC '${e}' stream ${o} transport opened.`),Y.o_())})),F(b,mu.EventType.CLOSE,(()=>{x||(x=!0,he(mn,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(b))})),F(b,mu.EventType.ERROR,(U=>{x||(x=!0,Go(mn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),Y.a_(new ce(ne.UNAVAILABLE,"The operation could not be completed")))})),F(b,mu.EventType.MESSAGE,(U=>{if(!x){const L=U.data[0];We(!!L,16349);const $=L,W=$?.error||$[0]?.error;if(W){he(mn,`RPC '${e}' stream ${o} received error:`,W);const oe=W.status;let ge=(function(C){const I=Ht[C];if(I!==void 0)return VS(I)})(oe),me=W.message;ge===void 0&&(ge=ne.INTERNAL,me="Unknown error status: "+oe+" with message "+W.message),x=!0,Y.a_(new ce(ge,me)),b.close()}else he(mn,`RPC '${e}' stream ${o} received:`,L),Y.u_(L)}})),F(m,X0.STAT_EVENT,(U=>{U.stat===Tg.PROXY?he(mn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Tg.NOPROXY&&he(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Y.__()}),0),Y}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function eg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(r){return new y2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="PersistentStream";class $S{constructor(e,n,a,o,u,h,m,p){this.Mi=e,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Li(n.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new ce(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(nb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(nb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mO extends $S{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=E2(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Re.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?ni(h.readTime):Re.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Og(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=Rg(p)?{documents:S2(u,p)}:{query:w2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=jS(u,h.resumeToken);const g=Dg(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Re.min())>0){m.readTime=of(u,h.snapshotVersion.toTimestamp());const g=Dg(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=R2(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Og(this.serializer),n.removeTarget=e,this.q_(n)}}class gO extends $S{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=b2(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Og(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>T2(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{}class yO extends pO{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Ng(n,a),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ne.UNKNOWN,u.toString())}))}Ho(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Ng(n,a),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms="RemoteStore";class _O{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{a.enqueueAndForget((async()=>{Us(this)&&(he(Ms,"Restarting streams for network reachability change."),await(async function(p){const g=De(p);g.Ea.add(4),await Ku(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Df(g)})(this))}))})),this.Ra=new vO(a,o)}}async function Df(r){if(Us(r))for(const e of r.da)await e(!0)}async function Ku(r){for(const e of r.da)await e(!1)}function XS(r,e){const n=De(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kp(n)?Pp(n):sl(n).O_()&&Vp(n,e))}function Mp(r,e){const n=De(r),a=sl(n);n.Ia.delete(e),a.O_()&&WS(n,e),n.Ia.size===0&&(a.O_()?a.L_():Us(n)&&n.Ra.set("Unknown"))}function Vp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sl(r).Y_(e)}function WS(r,e){r.Va.Ue(e),sl(r).Z_(e)}function Pp(r){r.Va=new d2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),sl(r).start(),r.Ra.ua()}function kp(r){return Us(r)&&!sl(r).x_()&&r.Ia.size>0}function Us(r){return De(r).Ea.size===0}function JS(r){r.Va=void 0}async function EO(r){r.Ra.set("Online")}async function TO(r){r.Ia.forEach(((e,n)=>{Vp(r,e)}))}async function bO(r,e){JS(r),kp(r)?(r.Ra.ha(e),Pp(r)):r.Ra.set("Unknown")}async function SO(r,e,n){if(r.Ra.set("Online"),e instanceof kS&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(a){he(Ms,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uf(r,a)}else if(e instanceof Bh?r.Va.Ze(e):e instanceof PS?r.Va.st(e):r.Va.tt(e),!n.isEqual(Re.min()))try{const a=await QS(r.localStore);n.compareTo(a)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(un.EMPTY_BYTE_STRING,T.snapshotVersion)),WS(u,p);const b=new Na(T.target,p,g,T.sequenceNumber);Vp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(a){he(Ms,"Failed to raise snapshot:",a),await uf(r,a)}}async function uf(r,e,n){if(!al(e))throw e;r.Ea.add(1),await Ku(r),r.Ra.set("Offline"),n||(n=()=>QS(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(Ms,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Df(r)}))}function ZS(r,e){return e().catch((n=>uf(r,n,e)))}async function Nf(r){const e=De(r),n=za(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_p;for(;wO(e);)try{const o=await aO(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,AO(e,o)}catch(o){await uf(e,o)}ew(e)&&tw(e)}function wO(r){return Us(r)&&r.Ta.length<10}function AO(r,e){r.Ta.push(e);const n=za(r);n.O_()&&n.X_&&n.ea(e.mutations)}function ew(r){return Us(r)&&!za(r).x_()&&r.Ta.length>0}function tw(r){za(r).start()}async function RO(r){za(r).ra()}async function CO(r){const e=za(r);for(const n of r.Ta)e.ea(n.mutations)}async function IO(r,e,n){const a=r.Ta.shift(),o=Rp.from(a,e,n);await ZS(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Nf(r)}async function DO(r,e){e&&za(r).X_&&await(async function(a,o){if((function(h){return c2(h)&&h!==ne.ABORTED})(o.code)){const u=a.Ta.shift();za(a).B_(),await ZS(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Nf(a)}})(r,e),ew(r)&&tw(r)}async function rb(r,e){const n=De(r);n.asyncQueue.verifyOperationInProgress(),he(Ms,"RemoteStore received new credentials");const a=Us(n);n.Ea.add(3),await Ku(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Df(n)}async function NO(r,e){const n=De(r);e?(n.Ea.delete(2),await Df(n)):e||(n.Ea.add(2),await Ku(n),n.Ra.set("Unknown"))}function sl(r){return r.ma||(r.ma=(function(n,a,o){const u=De(n);return u.sa(),new mO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:EO.bind(null,r),t_:TO.bind(null,r),r_:bO.bind(null,r),H_:SO.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),kp(r)?Pp(r):r.Ra.set("Unknown")):(await r.ma.stop(),JS(r))}))),r.ma}function za(r){return r.fa||(r.fa=(function(n,a,o){const u=De(n);return u.sa(),new gO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:RO.bind(null,r),r_:DO.bind(null,r),ta:CO.bind(null,r),na:IO.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Nf(r)):(await r.fa.stop(),r.Ta.length>0&&(he(Ms,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,m=new jp(e,n,h,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(r,e){if(Li("AsyncQueue",`${e}: ${r}`),al(r))return new ce(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ve.comparator(n.key,a.key):(n,a)=>ve.comparator(n.key,a.key),this.keyedMap=gu(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new qo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(){this.ga=new wt(ve.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Jo{constructor(e,n,a,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Jo(e,n,qo.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class OO{constructor(){this.queries=ab(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=De(n),u=o.queries;o.queries=ab(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new ce(ne.ABORTED,"Firestore shutting down"))}}function ab(){return new Ls((r=>ES(r)),Sf)}async function nw(r,e){const n=De(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(a=2):(u=new xO,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Lp(h,`Initialization of query '${Mo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Up(n)}async function rw(r,e){const n=De(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function MO(r,e){const n=De(r);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(a=!0);h.wa=o}}a&&Up(n)}function VO(r,e,n){const a=De(r),o=a.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);a.queries.delete(e)}function Up(r){r.Ca.forEach((e=>{e.next()}))}var Pg,sb;(sb=Pg||(Pg={})).Ma="default",sb.Cache="cache";class iw{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Jo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.key=e}}class sw{constructor(e){this.key=e}}class PO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=TS(e),this.tu=new qo(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new ib,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const A=o.get(T),x=wf(this.query,b)?b:null,Y=!!A&&this.mutatedKeys.has(A.key),F=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let U=!1;A&&x?A.data.isEqual(x.data)?Y!==F&&(a.track({type:3,doc:x}),U=!0):this.su(A,x)||(a.track({type:2,doc:x}),U=!0,(p&&this.eu(x,p)>0||g&&this.eu(x,g)<0)&&(m=!0)):!A&&x?(a.track({type:0,doc:x}),U=!0):A&&!x&&(a.track({type:1,doc:A}),U=!0,(p||g)&&(m=!0)),U&&(x?(h=h.add(x),u=F?u.add(T):u.delete(T)):(h=h.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const T=this.query.limitType==="F"?h.last():h.first();h=h.delete(T.key),u=u.delete(T.key),a.track({type:1,doc:T})}return{tu:h,iu:a,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((T,b)=>(function(x,Y){const F=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:U})}};return F(x)-F(Y)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(a),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Jo(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ib,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new sw(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new aw(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zp="SyncEngine";class kO{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class jO{constructor(e){this.key=e,this.hu=!1}}class LO{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Ls((m=>ES(m)),Sf),this.Iu=new Map,this.Eu=new Set,this.du=new wt(ve.comparator),this.Au=new Map,this.Ru=new Dp,this.Vu={},this.mu=new Map,this.fu=Wo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UO(r,e,n=!0){const a=fw(r);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ow(a,e,n,!0),o}async function zO(r,e){const n=fw(r);await ow(n,e,!0,!1)}async function ow(r,e,n,a){const o=await sO(r.localStore,ei(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await BO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&XS(r.remoteStore,o),m}async function BO(r,e,n,a,o){r.pu=(b,A,x)=>(async function(F,U,L,$){let W=U.view.ru(L);W.Cs&&(W=await JT(F.localStore,U.query,!1).then((({documents:D})=>U.view.ru(D,W))));const oe=$&&$.targetChanges.get(U.targetId),ge=$&&$.targetMismatches.get(U.targetId)!=null,me=U.view.applyChanges(W,F.isPrimaryClient,oe,ge);return lb(F,U.targetId,me.au),me.snapshot})(r,b,A,x);const u=await JT(r.localStore,e,!0),h=new PO(e,u.Qs),m=h.ru(u.documents),p=Qu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);lb(r,n,g.au);const T=new kO(e,n,h);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function qO(r,e,n){const a=De(r),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((h=>!Sf(h,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Mg(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Mp(a.remoteStore,o.targetId),kg(a,o.targetId)})).catch(il)):(kg(a,o.targetId),await Mg(a.localStore,o.targetId,!0))}async function HO(r,e){const n=De(r),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Mp(n.remoteStore,a.targetId))}async function FO(r,e,n){const a=WO(r);try{const o=await(function(h,m){const p=De(h),g=gt.now(),T=m.reduce(((x,Y)=>x.add(Y.key)),qe());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let Y=zi(),F=qe();return p.Ns.getEntries(x,T).next((U=>{Y=U,Y.forEach(((L,$)=>{$.isValidDocument()||(F=F.add(L))}))})).next((()=>p.localDocuments.getOverlayedDocuments(x,Y))).next((U=>{b=U;const L=[];for(const $ of m){const W=a2($,b.get($.key).overlayedDocument);W!=null&&L.push(new Ga($.key,W,fS(W.value.mapValue),ti.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,L,m)})).next((U=>{A=U;const L=U.applyToLocalDocumentSet(b,F);return p.documentOverlayCache.saveOverlays(x,U.batchId,L)}))})).then((()=>({batchId:A.batchId,changes:SS(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new wt(Be)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(a,o.batchId,n),await $u(a,o.changes),await Nf(a.remoteStore)}catch(o){const u=Lp(o,"Failed to persist write");n.reject(u)}}async function lw(r,e){const n=De(r);try{const a=await rO(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?We(h.hu,14607):o.removedDocuments.size>0&&(We(h.hu,42227),h.hu=!1))})),await $u(n,a,e)}catch(a){await il(a)}}function ob(r,e,n){const a=De(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=De(h);p.onlineState=m;let g=!1;p.queries.forEach(((T,b)=>{for(const A of b.Sa)A.va(m)&&(g=!0)})),g&&Up(p)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function GO(r,e,n){const a=De(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let h=new wt(ve.comparator);h=h.insert(u,pn.newNoDocument(u,Re.min()));const m=qe().add(u),p=new Cf(Re.min(),new Map,new wt(Be),h,m);await lw(a,p),a.du=a.du.remove(u),a.Au.delete(e),Bp(a)}else await Mg(a.localStore,e,!1).then((()=>kg(a,e,n))).catch(il)}async function YO(r,e){const n=De(r),a=e.batch.batchId;try{const o=await nO(n.localStore,e);cw(n,a,null),uw(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await $u(n,o)}catch(o){await il(o)}}async function QO(r,e,n){const a=De(r);try{const o=await(function(h,m){const p=De(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(We(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(a.localStore,e);cw(a,e,n),uw(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await $u(a,o)}catch(o){await il(o)}}function uw(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function cw(r,e,n){const a=De(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function kg(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||hw(r,a)}))}function hw(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Mp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Bp(r))}function lb(r,e,n){for(const a of n)a instanceof aw?(r.Ru.addReference(a.key,e),KO(r,a)):a instanceof sw?(he(zp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||hw(r,a.key)):Se(19791,{wu:a})}function KO(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(he(zp,"New document in limbo: "+n),r.Eu.add(a),Bp(r))}function Bp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ve(lt.fromString(e)),a=r.fu.next();r.Au.set(a,new jO(n)),r.du=r.du.insert(n,a),XS(r.remoteStore,new Na(ei(wp(n.path)),a,"TargetPurposeLimboResolution",Ef.ce))}}async function $u(r,e,n){const a=De(r),o=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{h.push(a.pu(p,e,n).then((g=>{if((g||n)&&a.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=xp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(h),a.Pu.H_(o),await(async function(p,g){const T=De(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>re.forEach(g,(A=>re.forEach(A.Es,(x=>T.persistence.referenceDelegate.addReference(b,A.targetId,x))).next((()=>re.forEach(A.ds,(x=>T.persistence.referenceDelegate.removeReference(b,A.targetId,x)))))))))}catch(b){if(!al(b))throw b;he(Op,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const x=T.Ms.get(A),Y=x.snapshotVersion,F=x.withLastLimboFreeSnapshotVersion(Y);T.Ms=T.Ms.insert(A,F)}}})(a.localStore,u))}async function $O(r,e){const n=De(r);if(!n.currentUser.isEqual(e)){he(zp,"User change. New user:",e.toKey());const a=await YS(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ce(ne.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $u(n,a.Ls)}}function XO(r,e){const n=De(r),a=n.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function fw(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GO.bind(null,e),e.Pu.H_=MO.bind(null,e.eventManager),e.Pu.yu=VO.bind(null,e.eventManager),e}function WO(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QO.bind(null,e),e}class cf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return tO(this.persistence,new J2,e.initialUser,this.serializer)}Cu(e){return new GS(Np.mi,this.serializer)}Du(e){return new lO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cf.provider={build:()=>new cf};class JO extends cf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){We(this.persistence.referenceDelegate instanceof lf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new j2(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new GS((a=>lf.mi(a,n)),this.serializer)}}class jg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ob(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=$O.bind(null,this.syncEngine),await NO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new OO})()}createDatastore(e){const n=If(e.databaseInfo.databaseId),a=(function(u){return new dO(u)})(e.databaseInfo);return(function(u,h,m,p){return new yO(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,h,m){return new _O(a,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>ob(this.syncEngine,n,0)),(function(){return tb.v()?new tb:new uO})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,T){const b=new LO(o,u,h,m,p,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=De(n);he(Ms,"RemoteStore shutting down."),a.Ea.add(5),await Ku(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jg.provider={build:()=>new jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class ZO{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async h=>{he(Ba,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(a,(h=>(he(Ba,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Lp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function tg(r,e){r.asyncQueue.verifyOperationInProgress(),he(Ba,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await YS(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function ub(r,e){r.asyncQueue.verifyOperationInProgress();const n=await eM(r);he(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>rb(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>rb(e.remoteStore,o))),r._onlineComponents=e}async function eM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Ba,"Using user provided OfflineComponentProvider");try{await tg(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Go("Error using user provided cache. Falling back to memory cache: "+n),await tg(r,new cf)}}else he(Ba,"Using default OfflineComponentProvider"),await tg(r,new JO(void 0));return r._offlineComponents}async function mw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Ba,"Using user provided OnlineComponentProvider"),await ub(r,r._uninitializedComponentsProvider._online)):(he(Ba,"Using default OnlineComponentProvider"),await ub(r,new jg))),r._onlineComponents}function tM(r){return mw(r).then((e=>e.syncEngine))}async function gw(r){const e=await mw(r),n=e.eventManager;return n.onListen=UO.bind(null,e.syncEngine),n.onUnlisten=qO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HO.bind(null,e.syncEngine),n}function nM(r,e,n={}){const a=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new dw({next:A=>{T.Nu(),h.enqueueAndForget((()=>rw(u,b)));const x=A.docs.has(m);!x&&A.fromCache?g.reject(new ce(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&A.fromCache&&p&&p.source==="server"?g.reject(new ce(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new iw(wp(m.path),T,{includeMetadataChanges:!0,qa:!0});return nw(u,b)})(await gw(r),r.asyncQueue,e,n,a))),a.promise}function rM(r,e,n={}){const a=new Mi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const T=new dw({next:A=>{T.Nu(),h.enqueueAndForget((()=>rw(u,b))),A.fromCache&&p.source==="server"?g.reject(new ce(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new iw(m,T,{includeMetadataChanges:!0,qa:!0});return nw(u,b)})(await gw(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firestore.googleapis.com",hb=!0;class fb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yw,this.ssl=hb}else this.host=e.host,this.ssl=e.ssl??hb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P2)throw new ce(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_x("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pw(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new ux;switch(a.type){case"firstParty":return new dx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=cb.get(n);a&&(he("ComponentProvider","Removing Datastore"),cb.delete(n),a.terminate())})(this),Promise.resolve()}}function iM(r,e,n,a={}){r=Ui(r,xf);const o=el(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(a0(`https://${m}`),s0("Firestore",!0)),u.host!==yw&&u.host!==m&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!Pi(p,h)&&(r._setSettings(p),a.mockUserToken)){let g,T;if(typeof a.mockUserToken=="string")g=a.mockUserToken,T=gn.MOCK_USER;else{g=EC(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ce(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new gn(b)}r._authCredentials=new cx(new eS(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ol(this.firestore,e,this._query)}}class Mt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Fu(n,Mt._jsonSchema))return new Mt(e,a||null,new ve(lt.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Gt("string",Mt._jsonSchemaVersion),referencePath:Gt("string")};class Pa extends ol{constructor(e,n,a){super(e,n,wp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ve(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function ng(r,e,...n){if(r=Wt(r),tS("collection","path",e),r instanceof xf){const a=lt.fromString(e,...n);return AT(a),new Pa(r,null,a)}{if(!(r instanceof Mt||r instanceof Pa))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(lt.fromString(e,...n));return AT(a),new Pa(r.firestore,null,a)}}function Xr(r,e,...n){if(r=Wt(r),arguments.length===1&&(e=vp.newId()),tS("doc","path",e),r instanceof xf){const a=lt.fromString(e,...n);return wT(a),new Mt(r,null,new ve(a))}{if(!(r instanceof Mt||r instanceof Pa))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(lt.fromString(e,...n));return wT(a),new Mt(r.firestore,r instanceof Pa?r.converter:null,new ve(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="AsyncQueue";class mb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KS(this,"async_queue_retry"),this._c=()=>{const a=eg();a&&he(db,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=eg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=eg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Mi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!al(e))throw e;he(db,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",gb(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=jp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:gb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Xu extends xf{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new mb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mb(e),this._firestoreClient=void 0,await e}}}function aM(r,e){const n=typeof r=="object"?r:c0(),a=typeof r=="string"?r:ef,o=lp(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=vC("firestore");u&&iM(o,...u)}return o}function qp(r){if(r._terminated)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||sM(r),r._firestoreClient}function sM(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new Nx(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,pw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ZO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lr(un.fromBase64String(e))}catch(n){throw new ce(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lr(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fu(e,lr._jsonSchema))return lr.fromBase64String(e.bytes)}}lr._jsonSchemaVersion="firestore/bytes/1.0",lr._jsonSchema={type:Gt("string",lr._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(Fu(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:Gt("string",ri._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fu(e,ii._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ii(e.vectorValues);throw new ce(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ii._jsonSchemaVersion="firestore/vectorValue/1.0",ii._jsonSchema={type:Gt("string",ii._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=/^__.*__$/;class lM{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yu(e,this.data,n,this.fieldTransforms)}}class vw{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _w(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class Mf{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_w(this.Ac)&&oM.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uM{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||If(e)}Cc(e,n,a,o=!1){return new Mf({Ac:e,methodName:n,Dc:a,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hp(r){const e=r._freezeSettings(),n=If(r._databaseId);return new uM(r._databaseId,!!e.ignoreUndefinedProperties,n)}function cM(r,e,n,a,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Yp("Data must be an object, but it was:",h,a);const m=Tw(a,h);let p,g;if(u.merge)p=new Yn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const A=Lg(e,b,n);if(!h.contains(A))throw new ce(ne.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Sw(T,A)||T.push(A)}p=new Yn(T),g=h.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=h.fieldTransforms;return new lM(new On(m),p,g)}class Vf extends Wu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vf}}function Ew(r,e,n){return new Mf({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Fp extends Wu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Ew(this,e,!0),a=this.vc.map((u=>zs(u,n))),o=new $o(a);return new NS(e.path,o)}isEqual(e){return e instanceof Fp&&Pi(this.vc,e.vc)}}class Gp extends Wu{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=Ew(this,e,!0),a=this.vc.map((u=>zs(u,n))),o=new Xo(a);return new NS(e.path,o)}isEqual(e){return e instanceof Gp&&Pi(this.vc,e.vc)}}function hM(r,e,n,a){const o=r.Cc(1,e,n);Yp("Data must be an object, but it was:",o,a);const u=[],h=On.empty();Fa(a,((p,g)=>{const T=Qp(e,p,n);g=Wt(g);const b=o.yc(T);if(g instanceof Vf)u.push(T);else{const A=zs(g,b);A!=null&&(u.push(T),h.set(T,A))}}));const m=new Yn(u);return new vw(h,m,o.fieldTransforms)}function fM(r,e,n,a,o,u){const h=r.Cc(1,e,n),m=[Lg(e,a,n)],p=[o];if(u.length%2!=0)throw new ce(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Lg(e,u[A])),p.push(u[A+1]);const g=[],T=On.empty();for(let A=m.length-1;A>=0;--A)if(!Sw(g,m[A])){const x=m[A];let Y=p[A];Y=Wt(Y);const F=h.yc(x);if(Y instanceof Vf)g.push(x);else{const U=zs(Y,F);U!=null&&(g.push(x),T.set(x,U))}}const b=new Yn(g);return new vw(T,b,h.fieldTransforms)}function dM(r,e,n,a=!1){return zs(n,r.Cc(a?4:3,e))}function zs(r,e){if(bw(r=Wt(r)))return Yp("Unsupported field value:",e,r),Tw(r,e);if(r instanceof Wu)return(function(a,o){if(!_w(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let h=0;for(const m of a){let p=zs(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(a,o){if((a=Wt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Zx(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=gt.fromDate(a);return{timestampValue:of(o.serializer,u)}}if(a instanceof gt){const u=new gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:of(o.serializer,u)}}if(a instanceof ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof lr)return{bytesValue:jS(o.serializer,a._byteString)};if(a instanceof Mt){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ip(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof ii)return(function(h,m){return{mapValue:{fields:{[cS]:{stringValue:hS},[tf]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ap(m.serializer,g)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${_f(a)}`)})(r,e)}function Tw(r,e){const n={};return iS(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(r,((a,o)=>{const u=zs(o,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function bw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof ri||r instanceof lr||r instanceof Mt||r instanceof Wu||r instanceof ii)}function Yp(r,e,n){if(!bw(n)||!nS(n)){const a=_f(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Lg(r,e,n){if((e=Wt(e))instanceof Of)return e._internalPath;if(typeof e=="string")return Qp(r,e);throw hf("Field path arguments must be of type string or ",r,!1,void 0,n)}const mM=new RegExp("[~\\*/\\[\\]]");function Qp(r,e,n){if(e.search(mM)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Of(...e.split("."))._internalPath}catch{throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function hf(r,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ne.INVALID_ARGUMENT,m+r+p)}function Sw(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gM extends ww{data(){return super.data()}}function Kp(r,e){return typeof e=="string"?Qp(r,e):e instanceof Of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class yM extends $p{}function pb(r,e,...n){let a=[];e instanceof $p&&a.push(e),a=a.concat(n),(function(u){const h=u.filter((p=>p instanceof Xp)).length,m=u.filter((p=>p instanceof Pf)).length;if(h>1||h>0&&m>0)throw new ce(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Pf extends yM{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Pf(e,n,a)}_apply(e){const n=this._parse(e);return Aw(e._query,n),new ol(e.firestore,e.converter,Cg(e._query,n))}_parse(e){const n=Hp(e.firestore);return(function(u,h,m,p,g,T,b){let A;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){_b(b,T);const Y=[];for(const F of b)Y.push(vb(p,u,F));A={arrayValue:{values:Y}}}else A=vb(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||_b(b,T),A=dM(m,h,b,T==="in"||T==="not-in");return Ft.create(g,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yb(r,e,n){const a=e,o=Kp("where",r);return Pf._create(o,a,n)}class Xp extends $p{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xp(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Aw(h,p),h=Cg(h,p)})(e._query,n),new ol(e.firestore,e.converter,Cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vb(r,e,n){if(typeof(n=Wt(n))=="string"){if(n==="")throw new ce(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_S(e)&&n.indexOf("/")!==-1)throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(lt.fromString(n));if(!ve.isDocumentKey(a))throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return MT(r,new ve(a))}if(n instanceof Mt)return MT(r,n._key);throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(n)}.`)}function _b(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Aw(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class vM{convertValue(e,n="none"){switch(Ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(La(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Fa(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){const n=e.fields?.[tf].arrayValue?.values?.map((a=>Ot(a.doubleValue)));return new ii(n)}convertGeoPoint(e){return new ri(Ot(e.latitude),Ot(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=bf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Nu(e));default:return null}}convertTimestamp(e){const n=ja(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=lt.fromString(e);We(HS(a),9688,{name:e});const o=new xu(a.get(1),a.get(3)),u=new ve(a.popFirst(5));return o.isEqual(n)||Li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(r,e,n){let a;return a=r?r.toFirestore(e):e,a}class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cs extends ww{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Kp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:Gt("string",Cs._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class qh extends Cs{data(e={}){return super.data(e)}}class Ho{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new yu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new qh(this._firestore,this._userDataWriter,a.key,a,new yu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new yu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),T=h.indexOf(m.doc.key)),{type:EM(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(r){r=Ui(r,Mt);const e=Ui(r.firestore,Xu);return nM(qp(e),r._key).then((n=>bM(e,r,n)))}Ho._jsonSchemaVersion="firestore/querySnapshot/1.0",Ho._jsonSchema={type:Gt("string",Ho._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Cw extends vM{constructor(e){super(),this.firestore=e}convertBytes(e){return new lr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function rg(r){r=Ui(r,ol);const e=Ui(r.firestore,Xu),n=qp(e),a=new Cw(e);return pM(r._query),rM(n,r._query).then((o=>new Ho(e,a,r,o)))}function TM(r,e,n){r=Ui(r,Mt);const a=Ui(r.firestore,Xu),o=_M(r.converter,e);return Iw(a,[cM(Hp(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ti.none())])}function wa(r,e,n,...a){r=Ui(r,Mt);const o=Ui(r.firestore,Xu),u=Hp(o);let h;return h=typeof(e=Wt(e))=="string"||e instanceof Of?fM(u,"updateDoc",r._key,e,n,a):hM(u,"updateDoc",r._key,e),Iw(o,[h.toMutation(r._key,ti.exists(!0))])}function Iw(r,e){return(function(a,o){const u=new Mi;return a.asyncQueue.enqueueAndForget((async()=>FO(await tM(a),o,u))),u.promise})(qp(r),e)}function bM(r,e,n){const a=n.docs.get(e._key),o=new Cw(r);return new Cs(r,o,e._key,a,new yu(n.hasPendingWrites,n.fromCache),e.converter)}function Eb(...r){return new Fp("arrayUnion",r)}function xo(...r){return new Gp("arrayRemove",r)}(function(e,n=!0){(function(o){rl=o})(tl),Fo(new Ds("firestore",((a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new Xu(new hx(a.getProvider("auth-internal")),new mx(h,a.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(g.options.projectId,T)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ma(ET,TT,e),Ma(ET,TT,"esm2020")})();const SM={apiKey:"AIzaSyBFmgdBIS13T2UVsnHRHb1gkb2i0BtfZFQ",authDomain:"equicare-442.firebaseapp.com",projectId:"equicare-442",storageBucket:"equicare-442.firebasestorage.app",messagingSenderId:"544581394107",appId:"1:544581394107:web:10722b7cadde93ed90139e"},Dw=u0(SM),ai=ax(Dw),Gn=aM(Dw);function wM(){const[r,e]=z.useState(null);return z.useEffect(()=>{const n=js(ai,a=>{e(a)});return()=>n()},[]),_.jsxs("div",{children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(_e,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(_e,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(_e,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(_e,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(_e,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(_e,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsxs("div",{className:"mainpage",children:[_.jsxs("div",{className:"main-content",children:[_.jsx("div",{className:"brand-title",children:_.jsx("h1",{className:"brand-name",children:"EquiCare"})}),_.jsx("h2",{className:"main-headline",children:"Navigating pregnancy and partnership, made simple."}),_.jsxs("div",{className:"mission-card",children:[_.jsx("h3",{children:"Our Mission"}),_.jsx("p",{children:"Parenthood is a journey meant to be shared. From personalized date nights, shared calendars, to journal check-ins, EquiCare is here to help you and your partner communicate, grow, and care for each other through every stage of pregnancy and beyond."})]}),_.jsx(_e,{to:"/datequiz",className:"quiz-button-div",children:_.jsx("button",{className:"quiz-button",children:"Date Idea Generator"})})]}),_.jsx("div",{className:"bubble-bg bubble-left",children:_.jsx("img",{src:"./bubbles.png",alt:"bubbles",className:"bubbles-image"})}),_.jsx("div",{className:"bubble-bg bubble-right",children:_.jsx("img",{src:"./bubbles.png",alt:"bubbles",className:"bubbles-image mirror"})})]})}),_.jsx("footer",{id:"home-footer",children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}async function Tb(r){const e=Xr(Gn,"users",r.uid);(await Rw(e)).exists()||await TM(e,{email:r.email,linkedCalendar:null,profileData:{name:"Jane Doe",location:"Seattle, WA",term:"Second Trimester (Week 18)",nextEvent:"None yet",partner:"Not connected"},relationshipData:{relationshipStatus:"",anniversaryDate:"",notes:""},partnerInvites:[],notifications:[]})}function AM(){const[r,e]=z.useState(null),n=tp(),[a,o]=z.useState("");z.useEffect(()=>{const F=js(ai,U=>{e(U)});return()=>F()},[]);const[u,h]=z.useState(""),[m,p]=z.useState(""),[g,T]=z.useState(""),[b,A]=z.useState("");async function x(){try{const F=await FD(ai,u,m);await Tb(F.user),console.log("Account created successfully!"),n("/")}catch(F){o("Could not sign up: "+F.message)}}async function Y(){try{const F=await GD(ai,g,b);await Tb(F.user),console.log("Logged in successfully:",g),n("/")}catch(F){o("Could not log in: "+F.message)}}return _.jsxs(_.Fragment,{children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(_e,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(_e,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(_e,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(_e,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(_e,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(_e,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(_e,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsxs("div",{id:"signup-login",children:[_.jsxs("div",{id:"signup-box",children:[_.jsx("h1",{children:"Create an account"}),_.jsxs("div",{className:"signup-form",children:[_.jsx("label",{children:"Email"}),_.jsx("input",{type:"text",value:u,onChange:F=>h(F.target.value),required:!0}),_.jsx("label",{children:"Password"}),_.jsx("input",{type:"password",value:m,onChange:F=>p(F.target.value),required:!0}),_.jsx("button",{type:"button",className:"green-button",onClick:x,children:_.jsx("h3",{children:"Create Account"})}),a&&_.jsx("p",{style:{color:"red"},children:a})]})]}),_.jsxs("div",{id:"login-box",children:[_.jsx("h2",{children:"Have an account?"}),_.jsxs("div",{className:"login-form",children:[_.jsx("label",{children:"Email"}),_.jsx("input",{type:"text",value:g,onChange:F=>T(F.target.value),required:!0}),_.jsx("label",{children:"Password"}),_.jsx("input",{type:"password",value:b,onChange:F=>A(F.target.value),required:!0}),_.jsx("button",{type:"button",className:"blue-button",onClick:Y,children:_.jsx("h3",{children:"Log In"})})]})]})]})})]})}const hu=[{id:1,question:"Question 1: How are you feeling this week?",options:["Energized","Calm and relaxed","Tired","Curious"]},{id:2,question:"Question 2: Whats your ideal vibe for a night together?",options:["Romantic and quiet","Fun and playful","Creative and hands-on","New and refreshing"]},{id:3,question:"Question 3: How active of a date are you seeking?",options:["Something Active","Moderate energy","Chill and easy","No/low energy"]},{id:4,question:"Question 4: What's your preferred budget?",options:["$0-25 (At home or simple outing)","$25-75 (A nice meal or activity)","$75+ (A special occasion or splurge)"]},{id:5,question:"Question 5: Prefer to stay in or go out?",options:["Stay In","Go Out","A mix- maybe go out and then spend the night at home","No preference"]},{id:6,question:"Question 6: What kind of connection do you want to develop tonight?",options:["Deep conversation","Laughter and playfulness","Shared creativity","Physical closeness","Something else"]},{id:7,question:"Question 7: Which statement describes how you express love?",options:["I show love through compliments and affirmations","I show love through touch and closeness","I show love through acts of service","I show love through quality time","I show love through thoughtful gifts"]},{id:8,question:"Question 8: Pick your ideal activity!",options:["Food-related (cooking, picnic, trying a new restaurant)","Arts & Entertainment (movie, painting, concert)","Movement (walk, yoga, dance night, workout classes)","Learning something new (class, DIY, skill development)","Something else"]},{id:9,question:"Question 9: What time of day do you want to spend time together?",options:["Morning","Afternoon","Evening/Night"]},{id:10,question:"Question 10: How spontaneous are you feeling?",options:["Let's plan and make it nice","Let's see where the night take us","Somewhere in between"]}];function RM(){const[r,e]=z.useState(null);z.useEffect(()=>{const L=js(ai,$=>{e($)});return()=>L()},[]);const[n,a]=z.useState(0),[o,u]=z.useState([]),[h,m]=z.useState(!1),[p,g]=z.useState(0),T=L=>{const $=[...o];$[n]=L,u($)},b=()=>{n<hu.length-1?a(n+1):m(!0)},x=(()=>{const L=o.join(" ").toLowerCase();return L.includes("tired")||L.includes("no/low energy")||L.includes("stay in")||L.includes("deep conversation")?"The Cozy Companions":L.includes("romantic")||L.includes("quiet")||L.includes("affirmations")||L.includes("quality time")?"The Dreamy Romantics":L.includes("fun")||L.includes("playful")||L.includes("laughter")||L.includes("touch")?"The Playful Partners":L.includes("creative")||L.includes("arts")||L.includes("learning")||L.includes("diy")?"The Creative Duo":L.includes("new and refreshing")||L.includes("movement")||L.includes("outdoors")||L.includes("walk")?"The Gentle Explorers":L.includes("mix")||L.includes("somewhere in between")||L.includes("moderate energy")?"The Balanced Blenders":L.includes("acts of service")||L.includes("physical closeness")||L.includes("morning")||L.includes("something else")?"The Comfort Seekers":L.includes("special occasion")||L.includes("$75+")?"The Celebration Mood":"The Balanced Blenders"})(),Y={"The Cozy Companions":"Youre craving warmth, comfort, and closeness. Tonights about slowing down, feeling safe, and reconnecting. Try a movie marathon, pajama night, or a guided mediation session.","The Dreamy Romantics":"Youre in the mood for quiet connection and affection. Try a candlelight dinner or a cozy evening sharing dreams.","The Playful Partners":"Youre ready for fun and laughter! Think games, mocktails, or anything that makes you both smile.","The Creative Duo":"You thrive on imagination and shared projects  try painting, cooking, or creating something meaningful together.","The Gentle Explorers":"Youre feeling refreshed and want to explore gently. Try a park picnic, sunset stroll, or farmers market trip.","The Balanced Blenders":"You enjoy both cozy and outgoing moments. Mix it up with dinner in followed by a sweet treat out.","The Comfort Seekers":"Youre in need of comfort and care. Keep it simple: a movie night, hand massages, or a calm tea ritual.","The Celebration Mood":"Its time to celebrate! Treat yourselves to a fancy dinner, staycation, or special night to honor your journey together."},F=(n+(h?1:0))/hu.length*100,U=L=>({"The Cozy Companions":[{title:"Movie Marathon",image:"./cozy1.png"},{title:"Meditation Session",image:"./cozy2.png"},{title:"Breakfast for Dinner",image:"./cozy3.png"}],"The Dreamy Romantics":[{title:"Stargazing",image:"./romantic1.png"},{title:"Candlelight Dinner",image:"./romantic2.png"},{title:"Love Letter Exchange",image:"./romantic3.png"}],"The Playful Partners":[{title:"Board Game Night",image:"./playful1.png"},{title:"Mocktail Mix-Off",image:"./playful2.png"},{title:"Karaoke Battle",image:"./playful3.png"}],"The Creative Duo":[{title:"Paint Night",image:"./creative1.png"},{title:"DIY Photo Album",image:"./creative2.png"},{title:"Baking/Cooking Challenge",image:"./creative3.png"}],"The Gentle Explorers":[{title:"Picnic in the Park",image:"./gentle1.png"},{title:"Drive-In Movie",image:"./gentle2.png"},{title:"Going for a Walk",image:"./gentle3.jpg"}],"The Balanced Blenders":[{title:"Game Night with late night treats",image:"./balanced1.jpg"},{title:"Homemade dinner and short scenic drives ",image:"./balanced2.png"},{title:"Cook together, then take evening walk",image:"./balanced3.png"}],"The Comfort Seekers":[{title:"Spa Night",image:"./comfort1.jpg"},{title:"Order-in dinner and favorite show ",image:"./comfort2.png"},{title:"Cosy tea and talk night",image:"./comfort3.png"}],"The Celebration Mood":[{title:"Fancy dinner out",image:"./celebrate1.png"},{title:"Staycation hotel night",image:"./celebrate2.png"},{title:"Dress up for a date-in restaurant experience",image:"./celebrate3.png"}]})[L]||[];return _.jsxs("div",{className:"date-quiz-page",children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(_e,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(_e,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(_e,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(_e,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(_e,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(_e,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(_e,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{className:"quiz-main",children:h?_.jsxs("div",{className:"quiz-result",children:[_.jsx("h2",{children:x}),_.jsx("p",{children:Y[x]}),_.jsxs("div",{className:"carousel-wrapper",children:[_.jsx("button",{className:"carousel-arrow left",onClick:()=>g(L=>(L-1+U(x).length)%U(x).length),children:""}),_.jsx("div",{className:"carousel",children:U(x).map((L,$)=>{const W=U(x).length,oe=($-p+W)%W;let ge="carousel-card";return oe===0?ge+=" active":(oe===1||oe===W-1)&&(ge+=" side-card"),_.jsxs("div",{className:ge,children:[_.jsx("img",{src:L.image,alt:L.title}),_.jsx("h4",{children:L.title})]},$)})}),_.jsx("button",{className:"carousel-arrow right",onClick:()=>g(L=>(L+1)%U(x).length),children:""})]}),_.jsxs("div",{className:"quiz-buttons",children:[_.jsx(_e,{to:"/dateideas",children:_.jsx("button",{className:"orange-button",children:"Explore More Date Ideas"})}),_.jsx("button",{className:"orange-button",onClick:()=>{a(0),u([]),m(!1)},children:"Restart Quiz"})]})]}):_.jsxs("div",{className:"quiz-container",children:[_.jsx("div",{className:"progress-bar",children:_.jsx("div",{className:"progress",style:{width:`${F}%`}})}),_.jsx("h2",{children:hu[n].question}),_.jsx("div",{className:"options",children:hu[n].options.map((L,$)=>_.jsx("button",{className:`quiz-option ${o[n]===L?"selected":""}`,onClick:()=>T(L),children:L},$))}),_.jsx("div",{className:"arrow-container",children:_.jsx("button",{className:"next-arrow",onClick:b,disabled:!o[n],children:""})}),_.jsxs("p",{className:"question-count",children:["Question ",n+1," of ",hu.length]})]})}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}function Nw(r){var e,n,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=Nw(r[e]))&&(a&&(a+=" "),a+=n)}else for(n in r)r[n]&&(a&&(a+=" "),a+=n);return a}function kf(){for(var r,e,n=0,a="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=Nw(r))&&(a&&(a+=" "),a+=e);return a}const CM=(r,e,n,a)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const o=Object.getOwnPropertyDescriptor(r,n),u=Object.getOwnPropertyDescriptor(e,n);!IM(o,u)&&a||Object.defineProperty(r,n,u)},IM=function(r,e){return r===void 0||r.configurable||r.writable===e.writable&&r.enumerable===e.enumerable&&r.configurable===e.configurable&&(r.writable||r.value===e.value)},DM=(r,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(r)&&Object.setPrototypeOf(r,n)},NM=(r,e)=>`/* Wrapped ${r}*/
${e}`,xM=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),OM=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),MM=(r,e,n)=>{const a=n===""?"":`with ${n.trim()}() `,o=NM.bind(null,a,e.toString());Object.defineProperty(o,"name",OM);const{writable:u,enumerable:h,configurable:m}=xM;Object.defineProperty(r,"toString",{value:o,writable:u,enumerable:h,configurable:m})};function VM(r,e,{ignoreNonConfigurable:n=!1}={}){const{name:a}=r;for(const o of Reflect.ownKeys(e))CM(r,e,o,n);return DM(r,e),MM(r,e,a),r}const Ih=2147483647,PM=new WeakMap,ig=new WeakMap,kM=new WeakMap;function jM(r,e){const n=r.get(e);if(n){if(n.maxAge<=Date.now()){r.delete(e);return}return n}}function xw(r,{cacheKey:e,cache:n=new Map,maxAge:a}={}){if(a===0)return r;if(typeof a=="number"&&Number.isFinite(a)){if(a>Ih)throw new TypeError(`The \`maxAge\` option cannot exceed ${Ih}.`);if(a<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const o=function(...u){const h=e?e(u):u[0],m=jM(n,h);if(m)return m.data;const p=r.apply(this,u),g=typeof a=="function"?a(...u):a;if(g!==void 0&&g!==Number.POSITIVE_INFINITY){if(!Number.isFinite(g))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(g<=0)return p;if(g>Ih)throw new TypeError(`The \`maxAge\` function result cannot exceed ${Ih}.`)}if(n.set(h,{data:p,maxAge:g===void 0||g===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+g}),g!==void 0&&g!==Number.POSITIVE_INFINITY){const T=setTimeout(()=>{n.delete(h),ig.get(o)?.delete(T)},g);T.unref?.();const b=ig.get(o)??new Set;b.add(T),ig.set(o,b)}return p};return VM(o,r,{ignoreNonConfigurable:!0}),PM.set(o,n),kM.set(o,e??(u=>u[0])),o}function LM(r){return typeof r=="string"}function UM(r,e,n){return n.indexOf(r)===e}function zM(r){return r.toLowerCase()===r}function bb(r){return r.indexOf(",")===-1?r:r.split(",")}function Ug(r){if(!r)return r;if(r==="C"||r==="posix"||r==="POSIX")return"en-US";if(r.indexOf(".")!==-1){var e=r.split(".")[0],n=e===void 0?"":e;return Ug(n)}if(r.indexOf("@")!==-1){var a=r.split("@")[0],n=a===void 0?"":a;return Ug(n)}if(r.indexOf("-")===-1||!zM(r))return r;var o=r.split("-"),u=o[0],h=o[1],m=h===void 0?"":h;return"".concat(u,"-").concat(m.toUpperCase())}function BM(r){var e=r===void 0?{}:r,n=e.useFallbackLocale,a=n===void 0?!0:n,o=e.fallbackLocale,u=o===void 0?"en-US":o,h=[];if(typeof navigator<"u"){for(var m=navigator.languages||[],p=[],g=0,T=m;g<T.length;g++){var b=T[g];p=p.concat(bb(b))}var A=navigator.language,x=A&&bb(A);h=h.concat(p,x)}return a&&h.push(u),h.filter(LM).map(Ug).filter(UM)}var qM=xw(BM,{cacheKey:JSON.stringify});function HM(r){return qM(r)[0]||null}var Ow=xw(HM,{cacheKey:JSON.stringify});function Hi(r,e,n){return function(o,u=n){const h=r(o)+u;return e(h)}}function Ju(r){return function(n){return new Date(r(n).getTime()-1)}}function Zu(r,e){return function(a){return[r(a),e(a)]}}function _t(r){if(r instanceof Date)return r.getFullYear();if(typeof r=="number")return r;const e=Number.parseInt(r,10);if(typeof r=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${r}.`)}function Ya(r){if(r instanceof Date)return r.getMonth();throw new Error(`Failed to get month from date: ${r}.`)}function jf(r){if(r instanceof Date)return r.getDate();throw new Error(`Failed to get year from date: ${r}.`)}function ll(r){const e=_t(r),n=e+(-e+1)%100,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}const FM=Hi(_t,ll,-100),Mw=Hi(_t,ll,100),Wp=Ju(Mw),GM=Hi(_t,Wp,-100),Vw=Zu(ll,Wp);function Qa(r){const e=_t(r),n=e+(-e+1)%10,a=new Date;return a.setFullYear(n,0,1),a.setHours(0,0,0,0),a}const Pw=Hi(_t,Qa,-10),Jp=Hi(_t,Qa,10),Lf=Ju(Jp),kw=Hi(_t,Lf,-10),jw=Zu(Qa,Lf);function ul(r){const e=_t(r),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const Lw=Hi(_t,ul,-1),Zp=Hi(_t,ul,1),Uf=Ju(Zp),Uw=Hi(_t,Uf,-1),YM=Zu(ul,Uf);function ey(r,e){return function(a,o=e){const u=_t(a),h=Ya(a)+o,m=new Date;return m.setFullYear(u,h,1),m.setHours(0,0,0,0),r(m)}}function Bs(r){const e=_t(r),n=Ya(r),a=new Date;return a.setFullYear(e,n,1),a.setHours(0,0,0,0),a}const zw=ey(Bs,-1),ty=ey(Bs,1),ec=Ju(ty),Bw=ey(ec,-1),QM=Zu(Bs,ec);function KM(r,e){return function(a,o=e){const u=_t(a),h=Ya(a),m=jf(a)+o,p=new Date;return p.setFullYear(u,h,m),p.setHours(0,0,0,0),r(p)}}function tc(r){const e=_t(r),n=Ya(r),a=jf(r),o=new Date;return o.setFullYear(e,n,a),o.setHours(0,0,0,0),o}const $M=KM(tc,1),ny=Ju($M),XM=Zu(tc,ny);function qw(r){return jf(ec(r))}var ln={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},WM={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},ry=[0,1,2,3,4,5,6],ag=new Map;function JM(r){return function(n,a){var o=n||Ow();ag.has(o)||ag.set(o,new Map);var u=ag.get(o);return u.has(r)||u.set(r,new Intl.DateTimeFormat(o||void 0,r).format),u.get(r)(a)}}function ZM(r){var e=new Date(r);return new Date(e.setHours(12))}function qs(r){return function(e,n){return JM(r)(e,ZM(n))}}var eV={day:"numeric"},tV={day:"numeric",month:"long",year:"numeric"},nV={month:"long"},rV={month:"long",year:"numeric"},iV={weekday:"short"},aV={weekday:"long"},sV={year:"numeric"},oV=qs(eV),lV=qs(tV),uV=qs(nV),Hw=qs(rV),cV=qs(iV),hV=qs(aV),zf=qs(sV),fV=ry[0],dV=ry[5],Sb=ry[6];function Mu(r,e){e===void 0&&(e=ln.ISO_8601);var n=r.getDay();switch(e){case ln.ISO_8601:return(n+6)%7;case ln.ISLAMIC:return(n+1)%7;case ln.HEBREW:case ln.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function mV(r){var e=ll(r);return _t(e)}function gV(r){var e=Qa(r);return _t(e)}function zg(r,e){e===void 0&&(e=ln.ISO_8601);var n=_t(r),a=Ya(r),o=r.getDate()-Mu(r,e);return new Date(n,a,o)}function pV(r,e){e===void 0&&(e=ln.ISO_8601);var n=e===ln.GREGORY?ln.GREGORY:ln.ISO_8601,a=zg(r,e),o=_t(r)+1,u,h;do u=new Date(o,0,n===ln.ISO_8601?4:1),h=zg(u,e),o-=1;while(r<h);return Math.round((a.getTime()-h.getTime())/(864e5*7))+1}function Is(r,e){switch(r){case"century":return ll(e);case"decade":return Qa(e);case"year":return ul(e);case"month":return Bs(e);case"day":return tc(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function yV(r,e){switch(r){case"century":return FM(e);case"decade":return Pw(e);case"year":return Lw(e);case"month":return zw(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function Fw(r,e){switch(r){case"century":return Mw(e);case"decade":return Jp(e);case"year":return Zp(e);case"month":return ty(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function vV(r,e){switch(r){case"decade":return Pw(e,-100);case"year":return Lw(e,-10);case"month":return zw(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function _V(r,e){switch(r){case"decade":return Jp(e,100);case"year":return Zp(e,10);case"month":return ty(e,12);default:throw new Error("Invalid rangeType: ".concat(r))}}function Gw(r,e){switch(r){case"century":return Wp(e);case"decade":return Lf(e);case"year":return Uf(e);case"month":return ec(e);case"day":return ny(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function EV(r,e){switch(r){case"century":return GM(e);case"decade":return kw(e);case"year":return Uw(e);case"month":return Bw(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function TV(r,e){switch(r){case"decade":return kw(e,-100);case"year":return Uw(e,-10);case"month":return Bw(e,-12);default:throw new Error("Invalid rangeType: ".concat(r))}}function wb(r,e){switch(r){case"century":return Vw(e);case"decade":return jw(e);case"year":return YM(e);case"month":return QM(e);case"day":return XM(e);default:throw new Error("Invalid rangeType: ".concat(r))}}function bV(r,e,n){var a=[e,n].sort(function(o,u){return o.getTime()-u.getTime()});return[Is(r,a[0]),Gw(r,a[1])]}function Yw(r,e,n){return n.map(function(a){return(e||zf)(r,a)}).join("  ")}function SV(r,e,n){return Yw(r,e,Vw(n))}function Qw(r,e,n){return Yw(r,e,jw(n))}function wV(r){return r.getDay()===new Date().getDay()}function Kw(r,e){e===void 0&&(e=ln.ISO_8601);var n=r.getDay();switch(e){case ln.ISLAMIC:case ln.HEBREW:return n===dV||n===Sb;case ln.ISO_8601:case ln.GREGORY:return n===Sb||n===fV;default:throw new Error("Unsupported calendar type.")}}var $r="react-calendar__navigation";function AV(r){var e=r.activeStartDate,n=r.drillUp,a=r.formatMonthYear,o=a===void 0?Hw:a,u=r.formatYear,h=u===void 0?zf:u,m=r.locale,p=r.maxDate,g=r.minDate,T=r.navigationAriaLabel,b=T===void 0?"":T,A=r.navigationAriaLive,x=r.navigationLabel,Y=r.next2AriaLabel,F=Y===void 0?"":Y,U=r.next2Label,L=U===void 0?"":U,$=r.nextAriaLabel,W=$===void 0?"":$,oe=r.nextLabel,ge=oe===void 0?"":oe,me=r.prev2AriaLabel,D=me===void 0?"":me,C=r.prev2Label,I=C===void 0?"":C,V=r.prevAriaLabel,M=V===void 0?"":V,k=r.prevLabel,R=k===void 0?"":k,pe=r.setActiveStartDate,Pe=r.showDoubleView,G=r.view,ie=r.views,ue=ie.indexOf(G)>0,Ce=G!=="century",we=yV(G,e),O=Ce?vV(G,e):void 0,Z=Fw(G,e),se=Ce?_V(G,e):void 0,le=(function(){if(we.getFullYear()<0)return!0;var Xe=EV(G,e);return g&&g>=Xe})(),Te=Ce&&(function(){if(O.getFullYear()<0)return!0;var Xe=TV(G,e);return g&&g>=Xe})(),Ae=p&&p<Z,Ve=Ce&&p&&p<se;function ut(){pe(we,"prev")}function Ge(){pe(O,"prev2")}function ur(){pe(Z,"next")}function Rr(){pe(se,"next2")}function cr(Xe){var hr=(function(){switch(G){case"century":return SV(m,h,Xe);case"decade":return Qw(m,h,Xe);case"year":return h(m,Xe);case"month":return o(m,Xe);default:throw new Error("Invalid view: ".concat(G,"."))}})();return x?x({date:Xe,label:hr,locale:m||Ow()||void 0,view:G}):hr}function Cr(){var Xe="".concat($r,"__label");return _.jsxs("button",{"aria-label":b,"aria-live":A,className:Xe,disabled:!ue,onClick:n,style:{flexGrow:1},type:"button",children:[_.jsx("span",{className:"".concat(Xe,"__labelText ").concat(Xe,"__labelText--from"),children:cr(e)}),Pe?_.jsxs(_.Fragment,{children:[_.jsx("span",{className:"".concat(Xe,"__divider"),children:"  "}),_.jsx("span",{className:"".concat(Xe,"__labelText ").concat(Xe,"__labelText--to"),children:cr(Z)})]}):null]})}return _.jsxs("div",{className:$r,children:[I!==null&&Ce?_.jsx("button",{"aria-label":D,className:"".concat($r,"__arrow ").concat($r,"__prev2-button"),disabled:Te,onClick:Ge,type:"button",children:I}):null,R!==null&&_.jsx("button",{"aria-label":M,className:"".concat($r,"__arrow ").concat($r,"__prev-button"),disabled:le,onClick:ut,type:"button",children:R}),Cr(),ge!==null&&_.jsx("button",{"aria-label":W,className:"".concat($r,"__arrow ").concat($r,"__next-button"),disabled:Ae,onClick:ur,type:"button",children:ge}),L!==null&&Ce?_.jsx("button",{"aria-label":F,className:"".concat($r,"__arrow ").concat($r,"__next2-button"),disabled:Ve,onClick:Rr,type:"button",children:L}):null]})}var jo=function(){return jo=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},jo.apply(this,arguments)},RV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function Ab(r){return"".concat(r,"%")}function iy(r){var e=r.children,n=r.className,a=r.count,o=r.direction,u=r.offset,h=r.style,m=r.wrap,p=RV(r,["children","className","count","direction","offset","style","wrap"]);return _.jsx("div",jo({className:n,style:jo({display:"flex",flexDirection:o,flexWrap:m?"wrap":"nowrap"},h)},p,{children:z.Children.map(e,function(g,T){var b=u&&T===0?Ab(100*u/a):null;return z.cloneElement(g,jo(jo({},g.props),{style:{flexBasis:Ab(100/a),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))})}))}function CV(r,e,n){return e&&e>r?e:n&&n<r?n:r}function Vu(r,e){return e[0]<=r&&e[1]>=r}function IV(r,e){return r[0]<=e[0]&&r[1]>=e[1]}function $w(r,e){return Vu(r[0],e)||Vu(r[1],e)}function Rb(r,e,n){var a=$w(e,r),o=[];if(a){o.push(n);var u=Vu(r[0],e),h=Vu(r[1],e);u&&o.push("".concat(n,"Start")),h&&o.push("".concat(n,"End")),u&&h&&o.push("".concat(n,"BothEnds"))}return o}function DV(r){return Array.isArray(r)?r[0]!==null&&r[1]!==null:r!==null}function NV(r){if(!r)throw new Error("args is required");var e=r.value,n=r.date,a=r.hover,o="react-calendar__tile",u=[o];if(!n)return u;var h=new Date,m=(function(){if(Array.isArray(n))return n;var x=r.dateType;if(!x)throw new Error("dateType is required when date is not an array of two dates");return wb(x,n)})();if(Vu(h,m)&&u.push("".concat(o,"--now")),!e||!DV(e))return u;var p=(function(){if(Array.isArray(e))return e;var x=r.valueType;if(!x)throw new Error("valueType is required when value is not an array of two dates");return wb(x,e)})();IV(p,m)?u.push("".concat(o,"--active")):$w(p,m)&&u.push("".concat(o,"--hasActive"));var g=Rb(p,m,"".concat(o,"--range"));u.push.apply(u,g);var T=Array.isArray(e)?e:[e];if(a&&T.length===1){var b=a>p[0]?[p[0],a]:[a,p[0]],A=Rb(b,m,"".concat(o,"--hover"));u.push.apply(u,A)}return u}function Bf(r){for(var e=r.className,n=r.count,a=n===void 0?3:n,o=r.dateTransform,u=r.dateType,h=r.end,m=r.hover,p=r.offset,g=r.renderTile,T=r.start,b=r.step,A=b===void 0?1:b,x=r.value,Y=r.valueType,F=[],U=T;U<=h;U+=A){var L=o(U);F.push(g({classes:NV({date:L,dateType:u,hover:m,value:x,valueType:Y}),date:L}))}return _.jsx(iy,{className:e,count:a,offset:p,wrap:!0,children:F})}function qf(r){var e=r.activeStartDate,n=r.children,a=r.classes,o=r.date,u=r.formatAbbr,h=r.locale,m=r.maxDate,p=r.maxDateTransform,g=r.minDate,T=r.minDateTransform,b=r.onClick,A=r.onMouseOver,x=r.style,Y=r.tileClassName,F=r.tileContent,U=r.tileDisabled,L=r.view,$=z.useMemo(function(){var oe={activeStartDate:e,date:o,view:L};return typeof Y=="function"?Y(oe):Y},[e,o,Y,L]),W=z.useMemo(function(){var oe={activeStartDate:e,date:o,view:L};return typeof F=="function"?F(oe):F},[e,o,F,L]);return _.jsxs("button",{className:kf(a,$),disabled:g&&T(g)>o||m&&p(m)<o||U?.({activeStartDate:e,date:o,view:L}),onClick:b?function(oe){return b(o,oe)}:void 0,onFocus:A?function(){return A(o)}:void 0,onMouseOver:A?function(){return A(o)}:void 0,style:x,type:"button",children:[u?_.jsx("abbr",{"aria-label":u(h,o),children:n}):n,W]})}var Bg=function(){return Bg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Bg.apply(this,arguments)},xV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Cb="react-calendar__century-view__decades__decade";function OV(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentCentury,o=r.formatYear,u=o===void 0?zf:o,h=xV(r,["classes","currentCentury","formatYear"]),m=h.date,p=h.locale,g=[];return n&&g.push.apply(g,n),g.push(Cb),ll(m).getFullYear()!==a&&g.push("".concat(Cb,"--neighboringCentury")),_.jsx(qf,Bg({},h,{classes:g,maxDateTransform:Lf,minDateTransform:Qa,view:"century",children:Qw(p,u,m)}))}var qg=function(){return qg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},qg.apply(this,arguments)},Ib=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function MV(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringCentury,o=r.value,u=r.valueType,h=Ib(r,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),m=mV(e),p=m+(a?119:99);return _.jsx(Bf,{className:"react-calendar__century-view__decades",dateTransform:Qa,dateType:"decade",end:p,hover:n,renderTile:function(g){var T=g.date,b=Ib(g,["date"]);return _.jsx(OV,qg({},h,b,{activeStartDate:e,currentCentury:m,date:T}),T.getTime())},start:m,step:10,value:o,valueType:u})}var Hg=function(){return Hg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Hg.apply(this,arguments)};function VV(r){function e(){return _.jsx(MV,Hg({},r))}return _.jsx("div",{className:"react-calendar__century-view",children:e()})}var Fg=function(){return Fg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Fg.apply(this,arguments)},PV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Db="react-calendar__decade-view__years__year";function kV(r){var e=r.classes,n=e===void 0?[]:e,a=r.currentDecade,o=r.formatYear,u=o===void 0?zf:o,h=PV(r,["classes","currentDecade","formatYear"]),m=h.date,p=h.locale,g=[];return n&&g.push.apply(g,n),g.push(Db),Qa(m).getFullYear()!==a&&g.push("".concat(Db,"--neighboringDecade")),_.jsx(qf,Fg({},h,{classes:g,maxDateTransform:Uf,minDateTransform:ul,view:"decade",children:u(p,m)}))}var Gg=function(){return Gg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Gg.apply(this,arguments)},Nb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function jV(r){var e=r.activeStartDate,n=r.hover,a=r.showNeighboringDecade,o=r.value,u=r.valueType,h=Nb(r,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),m=gV(e),p=m+(a?11:9);return _.jsx(Bf,{className:"react-calendar__decade-view__years",dateTransform:ul,dateType:"year",end:p,hover:n,renderTile:function(g){var T=g.date,b=Nb(g,["date"]);return _.jsx(kV,Gg({},h,b,{activeStartDate:e,currentDecade:m,date:T}),T.getTime())},start:m,value:o,valueType:u})}var Yg=function(){return Yg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Yg.apply(this,arguments)};function LV(r){function e(){return _.jsx(jV,Yg({},r))}return _.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Qg=function(){return Qg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Qg.apply(this,arguments)},UV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},xb=function(r,e,n){if(n||arguments.length===2)for(var a=0,o=e.length,u;a<o;a++)(u||!(a in e))&&(u||(u=Array.prototype.slice.call(e,0,a)),u[a]=e[a]);return r.concat(u||Array.prototype.slice.call(e))},zV="react-calendar__year-view__months__month";function BV(r){var e=r.classes,n=e===void 0?[]:e,a=r.formatMonth,o=a===void 0?uV:a,u=r.formatMonthYear,h=u===void 0?Hw:u,m=UV(r,["classes","formatMonth","formatMonthYear"]),p=m.date,g=m.locale;return _.jsx(qf,Qg({},m,{classes:xb(xb([],n,!0),[zV],!1),formatAbbr:h,maxDateTransform:ec,minDateTransform:Bs,view:"year",children:o(g,p)}))}var Kg=function(){return Kg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Kg.apply(this,arguments)},Ob=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function qV(r){var e=r.activeStartDate,n=r.hover,a=r.value,o=r.valueType,u=Ob(r,["activeStartDate","hover","value","valueType"]),h=0,m=11,p=_t(e);return _.jsx(Bf,{className:"react-calendar__year-view__months",dateTransform:function(g){var T=new Date;return T.setFullYear(p,g,1),Bs(T)},dateType:"month",end:m,hover:n,renderTile:function(g){var T=g.date,b=Ob(g,["date"]);return _.jsx(BV,Kg({},u,b,{activeStartDate:e,date:T}),T.getTime())},start:h,value:a,valueType:o})}var $g=function(){return $g=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},$g.apply(this,arguments)};function HV(r){function e(){return _.jsx(qV,$g({},r))}return _.jsx("div",{className:"react-calendar__year-view",children:e()})}var Xg=function(){return Xg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Xg.apply(this,arguments)},FV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},sg="react-calendar__month-view__days__day";function GV(r){var e=r.calendarType,n=r.classes,a=n===void 0?[]:n,o=r.currentMonthIndex,u=r.formatDay,h=u===void 0?oV:u,m=r.formatLongDate,p=m===void 0?lV:m,g=FV(r,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),T=g.date,b=g.locale,A=[];return a&&A.push.apply(A,a),A.push(sg),Kw(T,e)&&A.push("".concat(sg,"--weekend")),T.getMonth()!==o&&A.push("".concat(sg,"--neighboringMonth")),_.jsx(qf,Xg({},g,{classes:A,formatAbbr:p,maxDateTransform:ny,minDateTransform:tc,view:"month",children:h(b,T)}))}var Wg=function(){return Wg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Wg.apply(this,arguments)},Mb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function YV(r){var e=r.activeStartDate,n=r.calendarType,a=r.hover,o=r.showFixedNumberOfWeeks,u=r.showNeighboringMonth,h=r.value,m=r.valueType,p=Mb(r,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),g=_t(e),T=Ya(e),b=o||u,A=Mu(e,n),x=b?0:A,Y=(b?-A:0)+1,F=(function(){if(o)return Y+42-1;var U=qw(e);if(u){var L=new Date;L.setFullYear(g,T,U),L.setHours(0,0,0,0);var $=7-Mu(L,n)-1;return U+$}return U})();return _.jsx(Bf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(U){var L=new Date;return L.setFullYear(g,T,U),tc(L)},dateType:"day",hover:a,end:F,renderTile:function(U){var L=U.date,$=Mb(U,["date"]);return _.jsx(GV,Wg({},p,$,{activeStartDate:e,calendarType:n,currentMonthIndex:T,date:L}),L.getTime())},offset:x,start:Y,value:h,valueType:m})}var Xw="react-calendar__month-view__weekdays",og="".concat(Xw,"__weekday");function QV(r){for(var e=r.calendarType,n=r.formatShortWeekday,a=n===void 0?cV:n,o=r.formatWeekday,u=o===void 0?hV:o,h=r.locale,m=r.onMouseLeave,p=new Date,g=Bs(p),T=_t(g),b=Ya(g),A=[],x=1;x<=7;x+=1){var Y=new Date(T,b,x-Mu(g,e)),F=u(h,Y);A.push(_.jsx("div",{className:kf(og,wV(Y)&&"".concat(og,"--current"),Kw(Y,e)&&"".concat(og,"--weekend")),children:_.jsx("abbr",{"aria-label":F,title:F,children:a(h,Y).replace(".","")})},x))}return _.jsx(iy,{className:Xw,count:7,onFocus:m,onMouseOver:m,children:A})}var ff=function(){return ff=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},ff.apply(this,arguments)},Vb=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n},Pb="react-calendar__tile";function KV(r){var e=r.onClickWeekNumber,n=r.weekNumber,a=_.jsx("span",{children:n});if(e){var o=r.date,u=r.onClickWeekNumber,h=r.weekNumber,m=Vb(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("button",ff({},m,{className:Pb,onClick:function(p){return u(h,o,p)},type:"button",children:a}))}else{r.date,r.onClickWeekNumber,r.weekNumber;var m=Vb(r,["date","onClickWeekNumber","weekNumber"]);return _.jsx("div",ff({},m,{className:Pb,children:a}))}}function $V(r){var e=r.activeStartDate,n=r.calendarType,a=r.onClickWeekNumber,o=r.onMouseLeave,u=r.showFixedNumberOfWeeks,h=(function(){if(u)return 6;var g=qw(e),T=Mu(e,n),b=g-(7-T);return 1+Math.ceil(b/7)})(),m=(function(){for(var g=_t(e),T=Ya(e),b=jf(e),A=[],x=0;x<h;x+=1)A.push(zg(new Date(g,T,b+x*7),n));return A})(),p=m.map(function(g){return pV(g,n)});return _.jsx(iy,{className:"react-calendar__month-view__weekNumbers",count:h,direction:"column",onFocus:o,onMouseOver:o,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:p.map(function(g,T){var b=m[T];if(!b)throw new Error("date is not defined");return _.jsx(KV,{date:b,onClickWeekNumber:a,weekNumber:g},g)})})}var Jg=function(){return Jg=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Jg.apply(this,arguments)},XV=function(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n};function WV(r){if(r)for(var e=0,n=Object.entries(WM);e<n.length;e++){var a=n[e],o=a[0],u=a[1];if(u.includes(r))return o}return ln.ISO_8601}function JV(r){var e=r.activeStartDate,n=r.locale,a=r.onMouseLeave,o=r.showFixedNumberOfWeeks,u=r.calendarType,h=u===void 0?WV(n):u,m=r.formatShortWeekday,p=r.formatWeekday,g=r.onClickWeekNumber,T=r.showWeekNumbers,b=XV(r,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function A(){return _.jsx(QV,{calendarType:h,formatShortWeekday:m,formatWeekday:p,locale:n,onMouseLeave:a})}function x(){return T?_.jsx($V,{activeStartDate:e,calendarType:h,onClickWeekNumber:g,onMouseLeave:a,showFixedNumberOfWeeks:o}):null}function Y(){return _.jsx(YV,Jg({calendarType:h},b))}var F="react-calendar__month-view";return _.jsx("div",{className:kf(F,T?"".concat(F,"--weekNumbers"):""),children:_.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[x(),_.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[A(),Y()]})]})})}var Lo=function(){return Lo=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}return r},Lo.apply(this,arguments)},Dh="react-calendar",Hh=["century","decade","year","month"],ZV=["decade","year","month","day"],ay=new Date;ay.setFullYear(1,0,1);ay.setHours(0,0,0,0);var e4=new Date(864e13);function vu(r){return r instanceof Date?r:new Date(r)}function Ww(r,e){return Hh.slice(Hh.indexOf(r),Hh.indexOf(e)+1)}function t4(r,e,n){var a=Ww(e,n);return a.indexOf(r)!==-1}function sy(r,e,n){return r&&t4(r,e,n)?r:n}function Jw(r){var e=Hh.indexOf(r);return ZV[e]}function n4(r,e){var n=Array.isArray(r)?r[e]:r;if(!n)return null;var a=vu(n);if(Number.isNaN(a.getTime()))throw new Error("Invalid date: ".concat(r));return a}function Zw(r,e){var n=r.value,a=r.minDate,o=r.maxDate,u=r.maxDetail,h=n4(n,e);if(!h)return null;var m=Jw(u),p=(function(){switch(e){case 0:return Is(m,h);case 1:return Gw(m,h);default:throw new Error("Invalid index value: ".concat(e))}})();return CV(p,a,o)}var oy=function(r){return Zw(r,0)},eA=function(r){return Zw(r,1)},r4=function(r){return[oy,eA].map(function(e){return e(r)})};function tA(r){var e=r.maxDate,n=r.maxDetail,a=r.minDate,o=r.minDetail,u=r.value,h=r.view,m=sy(h,o,n),p=oy({value:u,minDate:a,maxDate:e,maxDetail:n})||new Date;return Is(m,p)}function i4(r){var e=r.activeStartDate,n=r.defaultActiveStartDate,a=r.defaultValue,o=r.defaultView,u=r.maxDate,h=r.maxDetail,m=r.minDate,p=r.minDetail,g=r.value,T=r.view,b=sy(T,p,h),A=e||n;return A?Is(b,A):tA({maxDate:u,maxDetail:h,minDate:m,minDetail:p,value:g||a,view:T||o})}function lg(r){return r&&(!Array.isArray(r)||r.length===1)}function Nh(r,e){return r instanceof Date&&e instanceof Date&&r.getTime()===e.getTime()}var a4=z.forwardRef(function(e,n){var a=e.activeStartDate,o=e.allowPartialRange,u=e.calendarType,h=e.className,m=e.defaultActiveStartDate,p=e.defaultValue,g=e.defaultView,T=e.formatDay,b=e.formatLongDate,A=e.formatMonth,x=e.formatMonthYear,Y=e.formatShortWeekday,F=e.formatWeekday,U=e.formatYear,L=e.goToRangeStartOnSelect,$=L===void 0?!0:L,W=e.inputRef,oe=e.locale,ge=e.maxDate,me=ge===void 0?e4:ge,D=e.maxDetail,C=D===void 0?"month":D,I=e.minDate,V=I===void 0?ay:I,M=e.minDetail,k=M===void 0?"century":M,R=e.navigationAriaLabel,pe=e.navigationAriaLive,Pe=e.navigationLabel,G=e.next2AriaLabel,ie=e.next2Label,ue=e.nextAriaLabel,Ce=e.nextLabel,we=e.onActiveStartDateChange,O=e.onChange,Z=e.onClickDay,se=e.onClickDecade,le=e.onClickMonth,Te=e.onClickWeekNumber,Ae=e.onClickYear,Ve=e.onDrillDown,ut=e.onDrillUp,Ge=e.onViewChange,ur=e.prev2AriaLabel,Rr=e.prev2Label,cr=e.prevAriaLabel,Cr=e.prevLabel,Xe=e.returnValue,hr=Xe===void 0?"start":Xe,Vt=e.selectRange,Ir=e.showDoubleView,Fi=e.showFixedNumberOfWeeks,Et=e.showNavigation,It=Et===void 0?!0:Et,Dr=e.showNeighboringCentury,cl=e.showNeighboringDecade,Ka=e.showNeighboringMonth,Jt=Ka===void 0?!0:Ka,li=e.showWeekNumbers,$a=e.tileClassName,Xa=e.tileContent,Nr=e.tileDisabled,Wa=e.value,Ja=e.view,Za=z.useState(m),Hs=Za[0],cn=Za[1],Pt=z.useState(null),bn=Pt[0],pt=Pt[1],es=z.useState(Array.isArray(p)?p.map(function(Ne){return Ne!==null?vu(Ne):null}):p!=null?vu(p):null),xr=es[0],Fs=es[1],Mn=z.useState(g),ui=Mn[0],Tt=Mn[1],ct=a||Hs||i4({activeStartDate:a,defaultActiveStartDate:m,defaultValue:p,defaultView:g,maxDate:me,maxDetail:C,minDate:V,minDetail:k,value:Wa,view:Ja}),ht=(function(){var Ne=(function(){return Vt&&lg(xr)?xr:Wa!==void 0?Wa:xr})();return Ne?Array.isArray(Ne)?Ne.map(function(ot){return ot!==null?vu(ot):null}):Ne!==null?vu(Ne):null:null})(),hn=Jw(C),at=sy(Ja||ui,k,C),vn=Ww(k,C),Qn=Vt?bn:null,fr=vn.indexOf(at)<vn.length-1,Gs=vn.indexOf(at)>0,Or=z.useCallback(function(Ne){var ot=(function(){switch(hr){case"start":return oy;case"end":return eA;case"range":return r4;default:throw new Error("Invalid returnValue.")}})();return ot({maxDate:me,maxDetail:C,minDate:V,value:Ne})},[me,C,V,hr]),ci=z.useCallback(function(Ne,ot){cn(Ne);var ft={action:ot,activeStartDate:Ne,value:ht,view:at};we&&!Nh(ct,Ne)&&we(ft)},[ct,we,ht,at]),Mr=z.useCallback(function(Ne,ot){var ft=(function(){switch(at){case"century":return se;case"decade":return Ae;case"year":return le;case"month":return Z;default:throw new Error("Invalid view: ".concat(at,"."))}})();ft&&ft(Ne,ot)},[Z,se,le,Ae,at]),dr=z.useCallback(function(Ne,ot){if(fr){Mr(Ne,ot);var ft=vn[vn.indexOf(at)+1];if(!ft)throw new Error("Attempted to drill down from the lowest view.");cn(Ne),Tt(ft);var fn={action:"drillDown",activeStartDate:Ne,value:ht,view:ft};we&&!Nh(ct,Ne)&&we(fn),Ge&&at!==ft&&Ge(fn),Ve&&Ve(fn)}},[ct,fr,we,Mr,Ve,Ge,ht,at,vn]),Vn=z.useCallback(function(){if(Gs){var Ne=vn[vn.indexOf(at)-1];if(!Ne)throw new Error("Attempted to drill up from the highest view.");var ot=Is(Ne,ct);cn(ot),Tt(Ne);var ft={action:"drillUp",activeStartDate:ot,value:ht,view:Ne};we&&!Nh(ct,ot)&&we(ft),Ge&&at!==Ne&&Ge(ft),ut&&ut(ft)}},[ct,Gs,we,ut,Ge,ht,at,vn]),Gi=z.useCallback(function(Ne,ot){var ft=ht;Mr(Ne,ot);var fn=Vt&&!lg(ft),At;if(Vt)if(fn)At=Is(hn,Ne);else{if(!ft)throw new Error("previousValue is required");if(Array.isArray(ft))throw new Error("previousValue must not be an array");At=bV(hn,ft,Ne)}else At=Or(Ne);var Vr=!Vt||fn||$?tA({maxDate:me,maxDetail:C,minDate:V,minDetail:k,value:At,view:at}):null;ot.persist(),cn(Vr),Fs(At);var $n={action:"onChange",activeStartDate:Vr,value:At,view:at};if(we&&!Nh(ct,Vr)&&we($n),O)if(Vt){var Sn=lg(At);if(!Sn)O(At||null,ot);else if(o){if(Array.isArray(At))throw new Error("value must not be an array");O([At||null,null],ot)}}else O(At||null,ot)},[ct,o,Or,$,me,C,V,k,we,O,Mr,Vt,ht,hn,at]);function Pn(Ne){pt(Ne)}function _n(){pt(null)}z.useImperativeHandle(n,function(){return{activeStartDate:ct,drillDown:dr,drillUp:Vn,onChange:Gi,setActiveStartDate:ci,value:ht,view:at}},[ct,dr,Vn,Gi,ci,ht,at]);function bt(Ne){var ot=Ne?Fw(at,ct):Is(at,ct),ft=fr?dr:Gi,fn={activeStartDate:ot,hover:Qn,locale:oe,maxDate:me,minDate:V,onClick:ft,onMouseOver:Vt?Pn:void 0,tileClassName:$a,tileContent:Xa,tileDisabled:Nr,value:ht,valueType:hn};switch(at){case"century":return _.jsx(VV,Lo({formatYear:U,showNeighboringCentury:Dr},fn));case"decade":return _.jsx(LV,Lo({formatYear:U,showNeighboringDecade:cl},fn));case"year":return _.jsx(HV,Lo({formatMonth:A,formatMonthYear:x},fn));case"month":return _.jsx(JV,Lo({calendarType:u,formatDay:T,formatLongDate:b,formatShortWeekday:Y,formatWeekday:F,onClickWeekNumber:Te,onMouseLeave:Vt?_n:void 0,showFixedNumberOfWeeks:typeof Fi<"u"?Fi:Ir,showNeighboringMonth:Jt,showWeekNumbers:li},fn));default:throw new Error("Invalid view: ".concat(at,"."))}}function kt(){return It?_.jsx(AV,{activeStartDate:ct,drillUp:Vn,formatMonthYear:x,formatYear:U,locale:oe,maxDate:me,minDate:V,navigationAriaLabel:R,navigationAriaLive:pe,navigationLabel:Pe,next2AriaLabel:G,next2Label:ie,nextAriaLabel:ue,nextLabel:Ce,prev2AriaLabel:ur,prev2Label:Rr,prevAriaLabel:cr,prevLabel:Cr,setActiveStartDate:ci,showDoubleView:Ir,view:at,views:vn}):null}var Kn=Array.isArray(ht)?ht:[ht];return _.jsxs("div",{className:kf(Dh,Vt&&Kn.length===1&&"".concat(Dh,"--selectRange"),Ir&&"".concat(Dh,"--doubleView"),h),ref:W,children:[kt(),_.jsxs("div",{className:"".concat(Dh,"__viewContainer"),onBlur:Vt?_n:void 0,onMouseLeave:Vt?_n:void 0,children:[bt(),Ir?bt(!0):null]})]})});function s4(){const[r,e]=z.useState(null);z.useEffect(()=>{const $=js(ai,W=>{e(W)});return()=>$()},[]);const[n,a]=z.useState(new Date),[o,u]=z.useState([]),[h,m]=z.useState(""),[p,g]=z.useState(""),[T,b]=z.useState(null),[A,x]=z.useState("");function Y($){const W=$.target.files[0];W?(b(W),x(URL.createObjectURL(W))):(b(null),x(""))}function F($){$.preventDefault(),!(!h||!p)&&(u([...o,{title:h,date:p,imageURL:A}]),m(""),g(""),b(null),x(""))}const U=n.toISOString().split("T")[0],L=o.filter($=>$.date===U);return _.jsxs("div",{children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(_e,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(_e,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(_e,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(_e,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(_e,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(_e,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(_e,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsxs("div",{className:"calendar",children:[_.jsxs("div",{className:"calendar-container",children:[_.jsx(a4,{onChange:a,value:n}),_.jsxs("p",{className:"text-center",children:[_.jsx("strong",{children:"Selected Date:"})," ",n.toDateString()]}),_.jsxs("div",{className:"event-list",children:[_.jsx("h3",{children:"Events For This Date:"}),L.length===0&&_.jsx("p",{children:"No events yet for this date."}),L.map(($,W)=>_.jsxs("div",{className:"event-list-item",children:[$.imageURL&&_.jsx("img",{src:$.imageURL,alt:$.title}),_.jsx("div",{children:_.jsx("strong",{children:$.title})})]},W))]})]}),_.jsxs("div",{className:"event-container",children:[_.jsxs("form",{className:"event-form",onSubmit:F,children:[_.jsx("h1",{children:"Add Event"}),_.jsx("label",{children:"Event Name"}),_.jsx("input",{type:"text",value:h,onChange:$=>m($.target.value),placeholder:"e.g. Doctor's appointment",required:!0}),_.jsx("label",{children:"Event Date"}),_.jsx("input",{type:"date",value:p,onChange:$=>g($.target.value),required:!0}),_.jsx("label",{children:"Add Image"}),_.jsx("input",{type:"file",accept:"image/*",onChange:Y}),A&&_.jsx("img",{src:A,alt:"Preview"}),_.jsx("button",{type:"submit",children:"Add Event to Calendar"})]}),_.jsxs("div",{className:"calendar-description",children:[_.jsx("strong",{children:"How to use the Calendar:"}),_.jsx("br",{}),'Use this calendar to keep track of important dates, milestones, and appointments. Select a date, enter a name, choose your event date, and (optionally) upload an image. Click "Add Event to Calendar" to save it. Your events for the selected day will appear in the calendar for quick reference!']})]})]})}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}function o4(){const[r,e]=z.useState(null);z.useEffect(()=>{const W=js(ai,oe=>{e(oe)});return()=>W()},[]);const[n,a]=z.useState([]),[o,u]=z.useState(""),[h,m]=z.useState(""),[p,g]=z.useState(null),T=()=>{u(""),m("")},[b,A]=z.useState(null);z.useEffect(()=>{const W=localStorage.getItem("journalEntries"),oe=localStorage.getItem("journalLastSaved");W&&a(JSON.parse(W)),oe&&g(new Date(oe))},[]),z.useEffect(()=>{const W=setInterval(()=>g(oe=>oe),6e4);return()=>clearInterval(W)},[]);const x=W=>{if(W.preventDefault(),!o.trim()&&!h.trim())return;const ge=[{id:Date.now(),title:h||"[ Untitled ]",text:o,date:new Date().toLocaleString()},...n];a(ge),u(""),m(""),localStorage.setItem("journalEntries",JSON.stringify(ge));const me=new Date;g(me),localStorage.setItem("journalLastSaved",me.toISOString())},Y=W=>{if(!W)return"Never";const oe=new Date-W,ge=Math.floor(oe/6e4);if(ge<1)return"just now";if(ge<60)return`${ge} minute${ge>1?"s":""} ago`;const me=Math.floor(ge/60);if(me<24)return`${me} hour${me>1?"s":""} ago`;const D=Math.floor(me/24);return`${D} day${D>1?"s":""} ago`},F=W=>{A(W)},U=()=>{A(null)},L=()=>{b!==null&&A(W=>(W+1)%n.length)},$=()=>{b!==null&&A(W=>(W-1+n.length)%n.length)};return _.jsxs("div",{className:"journal-container",children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(_e,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(_e,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(_e,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(_e,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(_e,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(_e,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(_e,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsxs("main",{children:[_.jsxs("div",{className:"journal-page-grid",children:[_.jsxs("aside",{className:"journal-left",children:[_.jsx("h2",{children:" Personal Journal"}),_.jsx("h3",{className:"recent-title",children:"Recent Entries"}),_.jsx("div",{className:"recent-entries",children:n.length>0?n.map((W,oe)=>_.jsxs("div",{className:"recent-entry-card",onClick:()=>F(oe),style:{cursor:"pointer"},children:[_.jsx("p",{className:"recent-date",children:W.date}),_.jsx("p",{className:"recent-title-text",children:_.jsx("strong",{children:W.title.length>50?W.title.slice(0,W.title.slice(0,50).lastIndexOf(" "))+" ...":W.title})}),_.jsx("p",{className:"recent-preview",children:W.text.length>70?W.text.slice(0,W.text.slice(0,70).lastIndexOf(" ")+1||70)+"...":W.text})]},W.id)):_.jsx("p",{children:"No entries yet."})})]}),_.jsx("section",{className:"journal-main",children:_.jsxs("div",{className:"journal-center-card",children:[_.jsxs("div",{className:"journal-top-row",children:[_.jsx("input",{className:"entry-title-input",placeholder:"[ Entry title ]",value:h,onChange:W=>m(W.target.value)}),_.jsx("p",{className:"journal-date-display",children:new Date().toLocaleDateString(void 0,{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),_.jsx("textarea",{className:"entry-editor",value:o,onChange:W=>u(W.target.value),placeholder:"Start writing your thoughts ..."})]})})]}),_.jsxs("div",{className:"journal-bottom-bar",children:[_.jsxs("p",{children:[o.trim().split(/\s+/).filter(Boolean).length," words"]}),_.jsx("p",{children:o.trim()||h.trim()?"Unsaved changes...":`Last saved: ${p?Y(p):"Never"}`}),_.jsx("button",{className:"cancel-button",onClick:T,children:"Cancel"}),_.jsx("button",{type:"button",className:"save-entry-button",onClick:x,children:"Save Entry"})]}),b!==null&&_.jsx("div",{className:"journal-modal-overlay",children:_.jsxs("div",{className:"journal-modal",role:"dialog","aria-modal":"true","aria-labelledby":"journalModalTitle",children:[_.jsx("h2",{id:"journalModalTitle",children:"Journal Entry"}),_.jsx("p",{className:"journal-modal-title",children:_.jsx("strong",{children:n[b].title})}),_.jsx("p",{children:_.jsx("em",{children:n[b].date})}),_.jsx("p",{children:n[b].text}),_.jsxs("div",{className:"journal-modal-controls",children:[_.jsx("button",{onClick:$,children:"Previous"}),_.jsx("button",{onClick:U,children:"Close"}),_.jsx("button",{onClick:L,children:"Next"})]})]})})]}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}const an=[];for(let r=0;r<256;++r)an.push((r+256).toString(16).slice(1));function l4(r,e=0){return(an[r[e+0]]+an[r[e+1]]+an[r[e+2]]+an[r[e+3]]+"-"+an[r[e+4]]+an[r[e+5]]+"-"+an[r[e+6]]+an[r[e+7]]+"-"+an[r[e+8]]+an[r[e+9]]+"-"+an[r[e+10]]+an[r[e+11]]+an[r[e+12]]+an[r[e+13]]+an[r[e+14]]+an[r[e+15]]).toLowerCase()}let ug;const u4=new Uint8Array(16);function c4(){if(!ug){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ug=crypto.getRandomValues.bind(crypto)}return ug(u4)}const h4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kb={randomUUID:h4};function f4(r,e,n){r=r||{};const a=r.random??r.rng?.()??c4();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,l4(a)}function d4(r,e,n){return kb.randomUUID&&!r?kb.randomUUID():f4(r)}function m4({onClose:r,onPartnerConnect:e}){const[n,a]=z.useState(""),o=u=>{u.preventDefault(),n&&(e(n),a(""),r())};return _.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-container",children:[_.jsx("h2",{children:"Connect Partner Account"}),_.jsxs("form",{onSubmit:o,children:[_.jsxs("div",{className:"info-item",children:[_.jsx("label",{htmlFor:"partnerEmail",className:"modal-label",children:"Partners Email Address"}),_.jsx("input",{id:"partnerEmail",type:"email",className:"edit-input",placeholder:"Enter partners email...",value:n,onChange:u=>a(u.target.value),required:!0})]}),_.jsxs("div",{className:"edit-buttons",children:[_.jsx("button",{type:"submit",className:"orange-button",children:"Send Invite"}),_.jsx("button",{type:"button",className:"orange-button",onClick:r,children:"Cancel"})]})]})]})})}function g4(){const[r,e]=z.useState(null),n=tp(),[a,o]=z.useState({name:"Enter Name",location:"City, State",term:"Enter Trimester (1-3)",nextEvent:"Doctor's Appointment - Nov 8, 10:30 AM",partner:"Not connected"}),[u,h]=z.useState({relationshipStatus:"",anniversaryDate:"",notes:""}),[m,p]=z.useState({partnerName:""}),[g,T]=z.useState([]),[b,A]=z.useState([]),[x,Y]=z.useState(!1),[F,U]=z.useState(!1),[L,$]=z.useState(!1);z.useEffect(()=>{const R=js(ai,async pe=>{if(e(pe),pe){const Pe=await Rw(Xr(Gn,"users",pe.uid));if(Pe.exists()){const G=Pe.data();o(G.profileData||a),h(G.relationshipData||u),A(G.partnerInvites||[]),T(G.notifications||[])}}});return()=>R()},[]);const W=async()=>{try{await KD(ai),console.log("User logged out"),n("/login")}catch(R){console.error("Logout error:",R)}},oe=R=>{const{name:pe,value:Pe}=R.target;o(G=>({...G,[pe]:Pe}))},ge=async R=>{if(R.preventDefault(),!!r)try{await wa(Xr(Gn,"users",r.uid),{profileData:a}),Y(!1)}catch(pe){console.error("Error saving profile data:",pe)}},me=()=>{Y(!1)},D=R=>{const{name:pe,value:Pe}=R.target;h(G=>({...G,[pe]:Pe}))},C=async()=>{if(r)try{await wa(Xr(Gn,"users",r.uid),{relationshipData:u}),U(!1)}catch(R){console.error("Error saving relationship data:",R)}},I=()=>{U(!1)};async function V(R){if(r)try{const pe=await rg(ng(Gn,"users"));let Pe=null;if(pe.forEach(ue=>{ue.data().email===R&&(Pe=ue.id)}),!Pe){alert("No user found with that email.");return}if(R==r.email){alert("Email cannot be your own");return}const G=Xr(Gn,"users",Pe),ie=Xr(Gn,"users",r.uid);await wa(G,{notifications:Eb({fromEmail:r.email,message:`${r.email} sent you a partner invite`,inviteStatus:"pending"})}),await wa(ie,{partnerInvites:Eb({toEmail:R,inviteStatus:"pending"})}),A(ue=>[...ue,{toEmail:R,inviteStatus:"pending"}])}catch(pe){console.error("Error sending partner invite:",pe)}}const M=async R=>{if(r)try{const pe=pb(ng(Gn,"users"),yb("email","==",R.fromEmail)),Pe=await rg(pe);if(Pe.empty)return;const G=Pe.docs[0],ue=G.data().linkedCalendar||d4(),Ce=Xr(Gn,"users",r.uid),we=Xr(Gn,"users",G.id);await wa(Ce,{linkedCalendar:ue,notifications:xo(R),partnerInvites:xo({fromEmail:R.fromEmail})}),await wa(we,{linkedCalendar:ue,partnerInvites:xo({toEmail:r.email,inviteStatus:"pending"})}),T(O=>O.filter(Z=>Z.fromEmail!==R.fromEmail)),A(O=>O.filter(Z=>Z.fromEmail!==R.fromEmail)),console.log("accepted invite")}catch(pe){console.error("Error accepting invite:",pe)}},k=async R=>{if(r)try{const pe=Xr(Gn,"users",r.uid);await wa(pe,{partnerInvites:xo(R),notifications:xo(R)});const Pe=pb(ng(Gn,"users"),yb("email","==",R.fromEmail)),G=await rg(Pe);if(!G.empty){const ie=G.docs[0],ue=Xr(Gn,"users",ie.id);await wa(ue,{partnerInvites:xo({toEmail:r.email,inviteStatus:"pending"})})}T(ie=>ie.filter(ue=>ue.fromEmail!==R.fromEmail)),A(ie=>ie.filter(ue=>ue.fromEmail!==R.fromEmail)),console.log("declined invite")}catch(pe){console.error("Error declining invite:",pe)}};return _.jsxs("div",{className:"profile-page",children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(_e,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(_e,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(_e,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(_e,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(_e,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(_e,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(_e,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsxs("div",{id:"profile-layout",children:[_.jsxs("div",{className:"profile-left",children:[_.jsx("img",{className:"profile-avatar",src:"/equicare/female-profile.png",alt:"female profile avatar"}),x?_.jsxs("div",{className:"personal-info-text",children:[_.jsx("input",{type:"text",name:"name",value:a.name,onChange:oe,className:"edit-input"}),_.jsx("input",{type:"text",name:"location",value:a.location,onChange:oe,className:"edit-input"}),_.jsxs("div",{className:"edit-buttons",children:[_.jsx("button",{className:"orange-button",onClick:ge,children:"Save"}),_.jsx("button",{className:"orange-button",onClick:me,children:"Cancel"})]})]}):_.jsxs("div",{className:"personal-info-text",children:[_.jsx("h2",{children:a.name}),_.jsx("p",{children:a.location}),_.jsx("button",{className:"orange-button connect-button",onClick:()=>Y(!0),children:"Edit Profile"})]}),_.jsxs("section",{className:"profile-section",children:[_.jsx("h2",{children:"Notifications"}),g.length===0?_.jsx("p",{children:"No notifications yet."}):_.jsx("div",{className:"notification-list",children:g.map((R,pe)=>_.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem",gap:"0.5rem"},children:[_.jsx("p",{children:R.message}),_.jsx("button",{className:"accept-button",onClick:()=>M(R),children:"Accept"}),_.jsx("button",{className:"decline-button",onClick:()=>k(R),children:"Decline"})]},pe))})]}),_.jsx("button",{className:"orange-button",onClick:W,children:"Log Out"})]}),_.jsxs("div",{className:"profile-right",children:[_.jsxs("section",{className:"profile-section",children:[_.jsx("h2",{children:"Pregnancy Info"}),x?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"info-item",children:[_.jsx("p",{children:_.jsx("strong",{children:"Pregnancy Term"})}),_.jsx("input",{type:"text",name:"term",value:a.term,onChange:oe,className:"edit-input"})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("p",{children:_.jsx("strong",{children:"Next Calendar Event"})}),_.jsx("input",{type:"text",name:"nextEvent",value:a.nextEvent,onChange:oe,className:"edit-input"})]})]}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"info-item",children:[_.jsx("h3",{children:"Pregnancy Term"}),_.jsx("p",{children:a.term})]}),_.jsxs("div",{className:"info-item",children:[_.jsx("h3",{children:"Next Calendar Event"}),_.jsx("p",{children:a.nextEvent})]})]})]}),_.jsxs("section",{className:"profile-section",children:[_.jsx("h2",{children:"Partner Info"}),_.jsxs("div",{className:"info-item",children:[_.jsx("p",{children:_.jsx("strong",{children:"Partner"})}),_.jsx("p",{children:m.partnerName||"Not connected"}),_.jsx("button",{className:"orange-button connect-button",onClick:()=>$(!0),children:"Connect Partners Account"})]}),b.length>0&&_.jsxs("div",{className:"info-item",children:[_.jsx("p",{children:_.jsx("strong",{children:"Pending Invites"})}),_.jsx("ul",{children:b.map((R,pe)=>_.jsxs("li",{style:{display:"flex",alignItems:"center",marginBottom:"0.5rem",gap:"0.5rem"},children:[_.jsx("span",{children:_.jsx("p",{children:R.toEmail})}),_.jsx("button",{className:"orange-button",onClick:()=>k(pe),children:"Cancel"})]},pe))})]}),F?_.jsxs("div",{className:"info-item",children:[_.jsxs("label",{children:["Relationship Status:",_.jsxs("select",{name:"relationshipStatus",value:u.relationshipStatus,onChange:D,className:"edit-input",children:[_.jsx("option",{value:"",children:"Select..."}),_.jsx("option",{value:"Dating",children:"Dating"}),_.jsx("option",{value:"Engaged",children:"Engaged"}),_.jsx("option",{value:"Married",children:"Married"}),_.jsx("option",{value:"It's complicated",children:"It's complicated"})]})]}),_.jsxs("label",{children:["Anniversary Date:",_.jsx("input",{type:"date",name:"anniversaryDate",value:u.anniversaryDate,onChange:D,className:"edit-input"})]}),_.jsxs("label",{children:["Shared Notes:",_.jsx("textarea",{name:"notes",value:u.notes,onChange:D,className:"edit-input",placeholder:"Add a message, memory, or shared goal..."})]}),_.jsxs("div",{className:"edit-buttons",children:[_.jsx("button",{className:"orange-button",onClick:C,children:"Save"}),_.jsx("button",{className:"orange-button",onClick:I,children:"Cancel"})]})]}):_.jsxs("div",{className:"info-item",children:[_.jsxs("p",{children:[_.jsx("strong",{children:"Relationship:"})," ",u.relationshipStatus||"Not set"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Anniversary:"})," ",u.anniversaryDate||"Not added"]}),_.jsxs("p",{children:[_.jsx("strong",{children:"Notes:"})," ",u.notes||"No notes yet"]}),_.jsx("button",{className:"orange-button connect-button",onClick:()=>U(!0),children:"Edit Relationship Info"})]})]})]})]})}),L&&_.jsx(m4,{onClose:()=>$(!1),onPartnerConnect:V}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}const p4=[{name:"The Bump",url:"https://www.thebump.com/",description:"A comprehensive platform offering pregnancy, parenting, and relationship advice, with interactive tools to help expecting parents prepare together."},{name:"Pathways.org",url:"https://pathways.org/play",description:"Evidence-based guidance on developmental milestones, prenatal bonding, and early intervention, supporting both the babys and parents needs."},{name:"Evidence Based Birth",url:"https://evidencebasedbirth.com/resources-for-parents/",description:"Workshops, classes, and online courses focused on childbirth education and shared decision-making, ideal for expecting partners wanting to make informed choices together."},{name:"Nurturing Parenting",url:"https://www.nurturingparenting.com/blog/empowering-new-parents-comprehensive-support-with-nurturing-parenting-programs/",description:"A suite of evidence-based programs providing support and education for building a strong, nurturing family relationship before and after childbirth."},{name:"American Pregnancy Association",url:"https://americanpregnancy.org/",description:"Reliable information, live chat, and resources on pregnancy, fertility, health, and communication for expecting parents."},{name:"Parent Collective",url:"https://www.theparentcollective.com/resources/blog-post-title-four-tzg2p-dsxd3-nr8he-p5g4w",description:"Actionable guidance for couples, including shared expectation-setting, communication strategies, and memory-building before the baby arrives."}];function y4(){const[r,e]=z.useState(null);return z.useEffect(()=>{const n=js(ai,a=>{e(a)});return()=>n()},[]),_.jsxs("body",{children:[_.jsxs("nav",{children:[_.jsxs("div",{className:"brand active",children:[_.jsx("img",{src:"/equicare/logo.svg",alt:"baby in heart with hands"}),_.jsx(_e,{to:"/",children:_.jsx("h1",{children:"EquiCare"})})]}),_.jsxs("div",{className:"right-nav",children:[_.jsx(_e,{to:"/datequiz",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Date Idea Generator"})})}),_.jsx(_e,{to:"/eventcalendar",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Calendar"})})}),_.jsx(_e,{to:"/journal",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Journal"})})}),_.jsx(_e,{to:"/resources",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Resources"})})}),r?_.jsx(_e,{to:"/profile",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Profile"})})}):_.jsx(_e,{to:"/login",children:_.jsx("button",{className:"orange-button",children:_.jsx("h3",{children:"Log In"})})})]})]}),_.jsx("main",{children:_.jsx("div",{className:"resources-background",children:_.jsxs("div",{className:"resources-wrapper",children:[_.jsxs("div",{className:"resources-content",children:[_.jsxs("h1",{className:"resources-title",children:["Navigating pregnancy and ",_.jsx("br",{}),"partnership, made simple."]}),_.jsx("p",{className:"resources-subtitle",children:"Explore trusted websites designed to support you and your partner throughout the journey"}),_.jsx("div",{className:"resources-grid",children:p4.map(({name:n,url:a,description:o})=>_.jsxs("div",{className:"resource-card",children:[_.jsx("h2",{className:"resource-card-title",children:n}),_.jsx("p",{className:"resource-card-desc",children:o}),_.jsx("a",{href:a,target:"_blank",rel:"noopener noreferrer",className:"resource-card-btn",children:"Visit Site"})]},n))})]}),_.jsxs("div",{className:"resources-image-section",children:[_.jsx("img",{src:"/equicare/holding-hands.jpg",alt:"Couple holding baby shoes",className:"resources-image"}),_.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[_.jsx("h2",{children:" Relationship Advice for Expecting Parents "}),_.jsx("iframe",{width:"360",height:"220",src:"https://www.youtube.com/embed/14S4zBmsM0w",title:"Youtube Video",allowFullScreen:!0})]})]})]})})}),_.jsx("footer",{children:_.jsx("p",{children:_.jsxs("em",{children:[" ",new Date().getFullYear()," EquiCare"]})})})]})}B1.createRoot(document.getElementById("root")).render(_.jsx(z.StrictMode,{children:_.jsx(eC,{children:_.jsxs(xR,{children:[_.jsx(Aa,{path:"/",element:_.jsx(wM,{})}),_.jsx(Aa,{path:"/login",element:_.jsx(AM,{})}),_.jsx(Aa,{path:"/datequiz",element:_.jsx(RM,{})}),_.jsx(Aa,{path:"/eventcalendar",element:_.jsx(s4,{})}),_.jsx(Aa,{path:"/journal",element:_.jsx(o4,{})}),_.jsx(Aa,{path:"/profile",element:_.jsx(g4,{})}),_.jsx(Aa,{path:"/resources",element:_.jsx(y4,{})})]})})}));
